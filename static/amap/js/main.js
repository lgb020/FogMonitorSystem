(function(){var f=f||{Ha:{fd:0,Pm:[]}},yc={};f.CLASS_NAME="AMap";f.e=f.BuryPoint={zP:{},NE:{},options:{},cF:{},dK:{},eK:{},WK:{},XK:{}};
  f.e.eh=f.BuryPoint.dic={"AMap.event":{c:"ev",m:{addDomListener:"a",addListener:"b",addListenerOnce:"c",removeListener:"d",trigger:"e"}},AMap:{c:"aa",m:{convertFrom:"a"}},"AMap.Map":{c:"m",o:{view:"a",layers:"b",level:"c",center:"d",zooms:"e",lang:"f",cursor:"g",crs:"h",animateEnable:"i",isHotspot:"j",defaultLayer:"k",rotateEnable:"l",resizeEnable:"m",dragEnable:"n",zoomEnable:"o",doubleClickZoom:"p",keyboardEnable:"q",jogEnable:"r",scrollWheel:"s",touchZoom:"t",mapStyle:"u","features ":"v",zoom:"w"},
    m:{setMapStyle:"a",getMapStyle:"b",getFeatures:"c",setFeatures:"d",setLang:"e",getLang:"f",setCity:"g",getCity:"h",getAdcode:"i",setLimitBounds:"j",clearLimitBounds:"k",getLimitBounds:"l",setZoom:"m",getZoom:"n",getCenter:"o",setCenter:"p",setRotation:"q",getBounds:"r",getStatus:"s",setStatus:"t",getResolution:"u",getScale:"v",getDefaultCursor:"w",setDefaultCursor:"x",zoomIn:"y",zoomOut:"z",setZoomAndCenter:"0",setBounds:"1",clearMap:"2",destroy:"3",addControl:"4",removeControl:"5",clearControl:"6",
      clearInfoWindow:"7",remove:"8",add:"9",getAllOverlays:"a1",getSize:"a2",getContainer:"a3",panTo:"a4",panBy:"a5",setFitView:"a6",setLayers:"a7",getLayers:"a8",getDefaultLayer:"a9",setDefaultLayer:"a0",pixelToLngLat:"b0",lnglatToPixel:"b1",drawPolyline:"b2",drawPolygon:"b3",drawCircle:"b4"}},"AMap.View2D":{c:"v",o:{center:"a",rotation:"b",zoom:"c",crs:"d"}},"AMap.Buildings":{p:"AMap.Layer",c:"b"},"AMap.CustomLayer":{p:"AMap.Layer",c:"c",o:{map:"a",zIndex:"b",opacity:"c",zooms:"d"},m:{setOpacity:"2a",
    getContainer:"2b",show:"2c",hide:"2d",setzIndex:"2e"}},"AMap.ImageLayer":{p:"AMap.Layer",c:"i",o:{bounds:"a",url:"b",map:"c",opacity:"d",visible:"e",zIndex:"f",zooms:"g"},m:{getMap:"4a",show:"4b",getOpacity:"4c",setOpacity:"4d",getBounds:"4e",setBounds:"4f",getImageUrl:"4g",setImageUrl:"4h",hide:"4i",setOptions:"4j",getOptions:"4k"}},"AMap.Layer":{c:"l",m:{getZooms:"a",setOpacity:"b",show:"c",hide:"d",setMap:"e",getMap:"f",setzIndex:"g"}},"AMap.MassMarks":{p:"AMap.Layer",c:"ma",o:{zIndex:"a",opacity:"b",
    zooms:"c",anchor:"d",url:"e",size:"f",cursor:"g",alwaysRender:"h"},m:{setData:"0a",getData:"0b",getStyle:"0c",setStyle:"0d",setMap:"0e"}},"AMap.TileLayer":{p:"AMap.Layer",c:"tl",o:{map:"a",tileSize:"b",tileUrl:"c",errorUrl:"d",getTileUrl:"e",zIndex:"f",opacity:"g",zooms:"h",detectRetina:"i"},m:{setTextIndex:"3a",getTiles:"3b",setTileUrl:"3d",getTileUrl:"3e",getZooms:"3f",stopRefresh:"3g",startRefresh:"3h",reload:"3i"}},"AMap.TileLayer.Satellite":{p:"AMap.TileLayer",c:"s",o:{map:"a",zIndex:"b",opacity:"c",
    zooms:"d",detectRetina:"e"}},"AMap.TileLayer.RoadNet":{p:"AMap.TileLayer",c:"r",o:{map:"a",zIndex:"b",opacity:"c",zooms:"d",detectRetina:"e"}},"AMap.TileLayer.Traffic":{p:"AMap.TileLayer",c:"t",o:{map:"a",zIndex:"b",opacity:"c",zooms:"d",detectRetina:"e",autoRefresh:"f",interval:"g"}},"AMap.Vector":{p:"AMap.Overlay",c:"v",m:{show:"4a",hide:"4b",getVisible:"4c",getOptions:"4d",setOptions:"4e",setDraggable:"4f"}},"AMap.VectorTile":{p:"AMap.Layer",c:"vt"},"AMap.Circle":{p:"AMap.Vector",c:"ci",o:{map:"a",
    zIndex:"b",center:"c",radius:"d",strokeColor:"e",strokeOpacity:"f",strokeWeight:"g",fillColor:"h",fillOpacity:"i",strokeStyle:"j",extData:"k",strokeDasharray:"l"},m:{setCenter:"8a",getCenter:"8b",setRadius:"8c",getRadius:"8d",contains:"8e"}},"AMap.ContextMenu":{p:"AMap.Overlay",c:"cm",o:{position:"a",content:"b",width:"c"},m:{addItem:"2a",removeItem:"2b",open:"2c",close:"2d"}},"AMap.GroundImage":{p:"AMap.ImageLayer",c:"g",o:{map:"a",clickable:"b",opacity:"c"},m:{setMap:"8a"}},"AMap.Icon":{c:"ic",
    o:{size:"a",imageOffset:"b",image:"c",imageSize:"c"},m:{setImageSize:"a",getImageSize:"b"}},"AMap.ImageMarker":{p:"AMap.Overlay",c:"im",m:{setPosition:"3a",getBounds:"3b",getPosition:"3c",hide:"3d",show:"3e",setCursor:"3f",setRotation:"3g",setzIndex:"3h"}},"AMap.InfoWindow":{p:"AMap.Overlay",c:"iw",o:{isCustom:"a",autoMove:"b",closeWhenClickMap:"c",content:"d",size:"e",offset:"f",position:"g",showShadow:"h"},m:{open:"1a",close:"1b",setContent:"1c",getContentU:"1d",getContent:"1e",setPosition:"1f",
    setOffset:"1g",getPosition:"1h",setSize:"1i",getSize:"1j",getIsOpen:"1k"}},"AMap.Marker":{p:"AMap.Overlay",c:"mk",o:{map:"a",position:"b",offset:"c",icon:"d",content:"e",topWhenClick:"f",topWhenMouseOver:"g",draggable:"h",raiseOnDrag:"j",cursor:"k",visible:"l",zIndex:"m",angle:"n",autoRotation:"o",animation:"p",shadow:"q",title:"r",clickable:"s",shape:"t",extData:"u"},m:{setRaiseOnDrag:"9a",setPosition:"9b",getPosition:"9c",setIcon:"9d",getIcon:"9e",setContent:"9f",getContent:"9g",hide:"9h",show:"9i",
    setCursor:"9j",setRotation:"9k",setAngle:"9l",getAngle:"9m",setOffset:"9n",getOffset:"9o",setzIndex:"9p",setOpacity:"9q",setDraggable:"9r",getDraggable:"9s",moveTo:"9t",moveAlong:"9u",stopMove:"9v",setShadow:"9w",getShadow:"9x",setClickable:"9y",getClickable:"9z",setTitle:"90",getTitle:"91",setLabel:"92",getLabel:"93",setTop:"94",getTop:"95",setShape:"96",getShape:"97",setAnimation:"98",getAnimation:"99",getMap:"9a1"}},"AMap.MarkerShape":{c:"ms",o:{coords:"a",type:"b"}},"AMap.Overlay":{c:"o",m:{show:"a",
    hide:"b",setMap:"c",getMap:"d",setExtData:"e",getExtData:"f"}},"AMap.Poly":{p:"AMap.Vector",c:"ly",m:{setPath:"5a",getPath:"5b"}},"AMap.Polygon":{p:"AMap.Poly",c:"gn",o:{map:"a",zIndex:"b",path:"c",strokeColor:"d",strokeOpacity:"e",strokeWeight:"f",fillColor:"g",fillOpacity:"h",extData:"i",strokeStyle:"j",strokeDasharray:"k"},m:{getArea:"6a",toString:"6b",contains:"6c"}},"AMap.Polyline":{p:"AMap.Poly",c:"le",o:{map:"a",zIndex:"b",geodesic:"c",isOutline:"d",outlineColor:"e",path:"f",strokeColor:"g",
    strokeOpacity:"h",strokeWeight:"i",strokeStyle:"j",strokeDasharray:"k",extData:"l"},m:{getLength:"7a"}},"AMap.Text":{p:"AMap.Overlay",c:"tt"},"AMap.Panorama":{c:"aa"},"AMap.PanoramaMarker":{c:"ar"},"AMap.PanoramaService":{c:"ae"},"AMap.AdvancedInfoWindow":{p:"AMap.InfoWindow",c:"pa",o:{autoMove:"a",closeWhenClickMap:"b",content:"c",offset:"d",position:"e",panel:"f",searchRadius:"g",placeSearch:"h",driving:"i",walking:"j",transit:"k",asOrigin:"l",asDestination:"m"},m:{clear:"aa",searchPoiByKeyWord:"ab"}},
    "AMap.AntiCrabFrame":{c:"pb",m:{setMapStyle:"a"}},"AMap.ArrivalRange":{c:"pc",m:{search:"a"}},"AMap.Autocomplete":{c:"pd",o:{type:"a",city:"b",input:"c"},m:{setType:"a",setCity:"b",search:"c"}},"AMap.AutoPanby":{c:"pe"},"AMap.CircleEditor":{c:"pf",m:{open:"a",close:"b"}},"AMap.CitySearch":{c:"pg",m:{getLocalCity:"a",getCityByIp:"b"}},"AMap.CloudDataLayer":{c:"ph",o:{map:"a",query:"b",clickable:"c"},m:{reload:"a",setMap:"b",getMap:"c",setOptions:"d",wrapUrl:"e"}},"AMap.CloudDataSearch":{c:"pi",o:{keywords:"a",
      filter:"b",orderBy:"c",pageSize:"d",pageIndex:"e"},m:{setOptions:"a",clear:"b",setPageIndex:"c",setPageSize:"d",searchNearBy:"e",searchById:"f",searchByDistrict:"g",searchInPolygon:"h"}},"AMap.CloudDataSearchRender":{c:"pj"},"AMap.DistrictSearch":{c:"pk",o:{level:"a",extensions:"b",subdistrict:"c"},m:{setLevel:"a",setExtensions:"b",setSubdistrict:"c",search:"d"}},"AMap.DragRoute":{c:"pl",o:{polyOptions:"a",startMarkerOptions:"b",midMarkerOptions:"c",endMarkerOptions:"d",showTraffic:"e"},m:{setAvoidPolygons:"a",
      clearAvoidPolygons:"b",getAvoidPolygons:"c",setAvoidRoad:"d",clearAvoidRoad:"e",getAvoidRoad:"f",search:"g",setPolicy:"h",showRoute:"i",close:"j",open:"k",getWays:"l",getRoute:"m",destroy:"n",getPolyline:"o",getStart:"p",getEnd:"q",getPoint:"r",getRoutes:"s"}},"AMap.Driving":{c:"pm",o:{policy:"a",extensions:"b",map:"c",panel:"d",hideMarkers:"e"},m:{clear:"a",search:"b",setAvoidPolygons:"c",clearAvoidPolygons:"d",getAvoidPolygons:"e",setAvoidRoad:"f",clearAvoidRoad:"g",getAvoidRoad:"h",setPolicy:"i",
      setLocation:"j",close:"k",open:"l"}},"AMap.DrivingRender":{c:"pp"},"AMap.Geocoder":{c:"pq",o:{city:"a",radius:"b",extensions:"c"},m:{getLocation:"a",setCity:"b",getAddress:"c"}},"AMap.Geolocation":{c:"pr",o:{enableHighAccuracy:"a",timeout:"b",maximumAge:"c",convert:"d",showButton:"e",buttonDom:"f",buttonPosition:"g",buttonOffset:"h",showMarker:"i",markerOptions:"j",showCircle:"k",circleOptions:"l",panToLocation:"m",zoomToAccuracy:"n",useNative:"o"},m:{isSupported:"a",getCurrentPosition:"b",watchPosition:"c",
      clearWatch:"d"}},"AMap.GetLL":{c:"ps"},"AMap.Heatmap":{c:"pt",o:{radius:"a",gradient:"b",opacity:"c",zooms:"d"},m:{setOptions:"a",getOptions:"b",setDataSet:"c",getDataSet:"d",addDataPoint:"e",setMap:"f",hide:"g",show:"h",getMap:"i",setzIndex:"j",getzIndex:"k"}},"AMap.HotSpot":{c:"pu",m:{setMap:"a"}},"AMap.LineSearch":{c:"pv",o:{pageIndex:"a",pageSize:"b",city:"c",extensions:"d"},m:{setPageIndex:"a",setPageSize:"b",setCity:"c",searchById:"d",search:"e"}},"AMap.MapType":{c:"pw",m:{hide:"a",show:"b"}},
    "AMap.Cluster":{c:"px"},"AMap.MarkerClusterer":{c:"py",o:{gridSize:"a",minClusterSize:"b",maxZoom:"c",averageCenter:"d",styles:"e",zoomOnClick:"f"},m:{disperse:"a",addMarker:"b",addMarkers:"c",removeMarker:"d",removeMarkers:"e",clearMarkers:"f",getClustersCount:"g",getMap:"h",setMap:"i",getMarkers:"j",setMarkers:"k",getGridSize:"l",setGridSize:"m",getMinClusterSize:"n",setMinClusterSize:"o",getMaxZoom:"p",setMaxZoom:"q",isAverageCenter:"r",setAverageCenter:"s",getStyles:"t",setStyles:"u"}},"AMap.MouseTool":{c:"pz",
      m:{marker:"a",polyline:"b",polygon:"c",rectangle:"d",circle:"e",rule:"f",measureArea:"g",rectZoomIn:"h",rectZoomOut:"i",close:"j"}},"AMap.OverView":{c:"p0",o:{tileLayer:"a",isOpen:"b",visible:"c"},m:{open:"a",close:"b",getTileLayer:"c",setTileLayer:"d",show:"e",hide:"f"}},"AMap.PlaceSearch":{c:"p1",o:{city:"a",type:"b",lang:"c",pageSize:"d",pageIndex:"e",extensions:"f",map:"g",panel:"h"},m:{clear:"a",setLang:"b",searchInBounds:"c",searchNearBy:"d",getDetails:"e",setType:"f",setPageIndex:"g",setPageSize:"h",
      setCity:"i",close:"j",open:"k"}},"AMap.PlaceSearchLayer":{c:"p2",o:{map:"a",keywords:"b"},m:{setMap:"a",setKeywords:"b"}},"AMap.PlaceSearchRender":{c:"p3"},"AMap.PolyEditor":{c:"p4",m:{open:"a",close:"b"}},"AMap.RangingTool":{c:"p5",o:{startMarkerOptions:"a",midMarkerOptions:"b",endMarkerOptions:"c",lineOptions:"d",tmpLineOptions:"e",startLabelText:"f",midLabelText:"g",endLabelText:"h",startLabelOffset:"i",midLabelOffset:"j",endLabelOffset:"k"},m:{turnOn:"a",turnOff:"b"}},"AMap.RoadInfoSearch":{c:"p6",
      o:{pageIndex:"a",pageSize:"b",city:"c"},m:{setPageIndex:"a",setPageSize:"b",setCity:"c",roadInfoSearchByRoadId:"d",roadInfoSearchByRoadName:"e",crossInfoSearchByCrossId:"f",crossInfoSearchByRoadName:"g"}},"AMap.Scale":{c:"p7",m:{show:"a",hide:"b"}},"AMap.StationSearch":{c:"p8",o:{pageIndex:"a",pageSize:"b",city:"c"},m:{setPageIndex:"a",setPageSize:"b",setCity:"c",searchById:"d",search:"e"}},"AMap.ControlBar":{},"AMap.ToolBar":{c:"p9",o:{offset:"a",ruler:"b",direction:"c",autoPosition:"d",locationMarker:"e",
      useNative:"f"},m:{getOffset:"a",setOffset:"b",hideRuler:"c",showRuler:"d",hideDirection:"e",showDirection:"f",hideLocation:"g",showLocation:"h",hide:"i",show:"j",doLocation:"k",getLocation:"l"}},"AMap.Transfer":{c:"1",o:{city:"a",policy:"b",nightflag:"c",cityd:"d",extensions:"e",map:"f",panel:"g",hideMarkers:"h"},m:{clear:"a",search:"b",leaveAt:"c",setPolicy:"d",setCity:"e",setCityd:"f",close:"g",open:"h"}},"AMap.TransferRender":{c:"2"},"AMap.UTFGrid":{c:"3",m:{setMap:"a"}},"AMap.Walking":{c:"4",
      o:{map:"a",panel:"b",hideMarkers:"c"},m:{clear:"a",search:"b",close:"c",open:"d"}},"AMap.WalkingRender":{c:"5"},"AMap.Weather":{c:"6",m:{getLive:"a",getForecast:"b"}},"AMap.IndoorMap":{p:"AMap.CustomLayer",c:"7",o:{alwaysShow:"9a"},m:{showIndoorMap:"9a",showFloor:"9b",showFloorBar:"9c",hideFloorBar:"9d",hideLabels:"9e",showLabels:"9f",getSelectedBuildingId:"9g",getSelectedBuilding:"9h",setSelectedBuildingId:"9i",getVisibleBuildingIds:"9j"}},"AMap.Riding":{c:"prd",o:{map:"a",panel:"b",policy:"c"},
      m:{clear:"a",search:"b",close:"c",open:"d",setPolicy:"e"}},"AMap.RidingRender":{c:"prdr"}};f.e.i4=f.BuryPoint.getMethodName=function(a,b){var c;for(c=this.eh[a].m&&this.eh[a].m[b];!c&&this.eh[a].p;){var d=this.eh[a].p;c=this.eh[d].m&&this.eh[d].m[b];a=d}c||(c=b);return c};f.e.add=f.BuryPoint.add=function(a,b,c){var d=this.eh[a].c;if(d){if(b){a=this.i4(a,b);if(!a)return;d+=","+a}this.zP[d]=1;c&&(this.NE[d]=c)}};
  f.e.hb=f.BuryPoint.addOptions=function(a,b){var c=this.eh[a].c,d,e;for(e in b)b.hasOwnProperty(e)&&((d=this.eh[a].o&&this.eh[a].o[e])||(d=e),d=c+","+d,this.options[d]=1);"AMap.Map"===a&&this.NT(a,b,["mapStyle","lang","renderer","zoom"])};f.e.NT=f.BuryPoint._addOptionsValue=function(a,b,c){for(var d=0,e,g;d<c.length;d++)e=c[d],b&&b[e]&&(g={},g[e]=b[e],this.M0(a,g))};
  f.e.M0=f.BuryPoint.addOptionsValue=function(a,b){var c=this.eh[a].c,d,e;for(e in b)b.hasOwnProperty(e)&&((d=this.eh[a].o&&this.eh[a].o[e])||(d=e),d=c+","+d,this.cF[d]=b[e])};
  f.e.send=f.BuryPoint.send=function(){var a=[],b=[],c=[],d=[],e=f.e,g;for(g in e.zP)1!==e.dK[g]&&a.push(g);for(g in e.NE)1!==e.eK[g]&&b.push(g+"="+e.NE[g]);for(g in e.options)1!==e.WK[g]&&c.push(g);for(g in e.cF)1!==e.XK[g]&&d.push(g+"="+e.cF[g]);if(0<a.length||0<b.length||0<c.length||0<d.length)new f.Aa.Pa(f.r.Zb+"://"+mapApiHost+"/count?"+["type=f","k="+f.r.key,"u="+f.r.Kl,"m="+(f.l.W?1:0),"pf="+f.l.Iq,"methods="+a.join("@"),"methodsParams="+b.join("@"),"options="+c.join("@"),"optionsValue="+d.join("@")].join("&")),
    e.clear(a,b,c,d);window.setTimeout(e.send,1E4)};f.e.clear=f.BuryPoint.clear=function(a,b,c,d){for(var e=0;e<a.length;e++)this.dK[a[e]]=1;for(e=0;e<b.length;e++)this.eK[b[e].split("=")[0]]=1;for(e=0;e<c.length;e++)this.WK[c[e]]=1;for(e=0;e<d.length;e++)this.XK[d[e].split("=")[0]]=1};window.setTimeout(f.e.send,1E4);f.Y=function(){};
  f.Y.extend=f.Y.extend=function(a){function b(){}function c(){this.C&&(this.C.apply(this,arguments),this.CLASS_NAME&&f.e.add(this.CLASS_NAME))}b.prototype=this.prototype;var d=new b;d.constructor=c;c.prototype=d;for(var e in this)this.hasOwnProperty(e)&&"prototype"!==e&&(c[e]=this[e]);a.BR&&(f.extend(c,a.BR),a.BR=null);a.ia&&(f.extend.apply(null,[d].concat(a.ia)),a.ia=null);a.F&&d.F&&(a.F=f.extend({},d.F,a.F));f.extend(d,a);a.toString&&(d.toString=a.toString);c.qf=this.prototype;return c};
  f.Y.nb=f.Y.include=function(a){f.extend(this.prototype,a)};f.extend=function(a){var b=Array.prototype.slice.call(arguments,1),c,d,e,g;d=0;for(e=b.length;d<e;d+=1)for(c in g=b[d]||{},g)Object.prototype.hasOwnProperty.call(g,c)&&("function"===typeof g[c]&&"function"===typeof a[c]&&(g[c].Ba=a[c]),a[c]=g[c]);return a};f.Y.$p=function(a){for(var b in a)if(a.hasOwnProperty(b)){var c=a[b];this.prototype[b]&&(this.prototype[c]=this.prototype[b])}};f.ga={h:function(a,b,c,d,e){if(this.lg(a,b,c||this))return this;var g=this.ej=this.ej||{};g[a]=g[a]||[];e?g[a].unshift({ab:b,Af:c||this,Am:d}):g[a].push({ab:b,Af:c||this,Am:d});"complete"===a&&this.Ja&&this.w(a);return this},lg:function(a,b,c){var d=this.ej;if(b&&c){if(d&&a in d&&d[a])for(var e=0;e<d[a].length;e+=1)if(d[a][e].ab===b&&d[a][e].Af===c)return!0;return!1}return d&&a in d&&d[a]&&0<d[a].length},D:function(a,b,c){if(!this.lg(a))return this;var d=this.ej;if(d&&d[a])for(var e=0;e<d[a].length;e+=
    1)if(!(d[a][e].ab!==b&&"mv"!==b||c&&d[a][e].Af!==c)){d[a].splice(e,1);d[a].length||(d[a]=null);break}return this},w:function(a,b){if(!this.lg(a))return this;var c={type:a};b||"string"!==typeof b&&"number"!==typeof b&&"boolean"!==typeof b?f.g.oE(b)?c.value=b:c=f.extend(c,b):c.value=b;for(var d=[].concat(this.ej[a]),e=0;e<d.length;e+=1)d[e].ab&&(d[e].ab.call(d[e].Af||this,c),d[e].Am&&this.ej[a]&&this.ej[a].splice(e,1));return this},wk:function(a){a?this.ej&&this.ej[a]&&(this.ej[a]=null):this.ej=null;
    return this}};f.ga.on||(f.ga.on=f.ga.h);f.ga.off||(f.ga.off=f.ga.D);f.ga.emit||(f.ga.emit=f.ga.w);f.Gd={set:function(a,b,c){var d=this.Bh;if(d&&d[a]){var d=d[a],e="set"+this.pO(a);d[e]?(d[e](b,c),c||this.jy(a,b)):d.set(a,b,c)}else(this.Pg=this.Pg||{})[a]=b,c||this.jy(a,b)},pO:function(a){return a.charAt(0).toUpperCase()+a.substr(1)},get:function(a,b,c){var d,e=this.Bh;d="get"+this.pO(a);if(e&&e[a])return c=e[a],c[d]?c[d](b):c.get(a,b);if(this[d]&&!c)return this[d](b);if(this.Pg&&this.Pg.hasOwnProperty(a))return this.Pg[a]},T:function(a,b,c){this.Bh||(this.Bh={});this.Bh[a]!==b&&(b.h(a,function(b){this.jy(a,
    b)},this),this.Bh[a]=b,c||this.jy(a))},td:function(a,b,c){for(var d=0;d<a.length;d+=1)this.T(a[d],b,!c)},vh:function(a){this.Bh&&this.Bh[a]&&(this.Bh[a].D(a,"mv",this),this.Bh[a]=void 0)},Mm:function(){if(this.Bh)for(var a in this.Bh)this.Bh.hasOwnProperty(a)&&this.vh(a)},jy:function(a,b){if(this[a+"Changed"])this[a+"Changed"](b);else this.UM&&this.UM();this.w(a,b)},Uba:function(a,b,c){var d=new (f.Y.extend({ia:[f.ga,f.Gd]}));d.UM=function(){for(var b=!0,e=0;e<a.length;e+=1)d.get(a[e])||(b=!1);b&&
  (d.Mm(),c())};for(var e=0;e<a.length;e+=1)d.T(a[e],b)},jf:function(a,b){var c,d;for(c in a)a.hasOwnProperty(c)&&(d=a[c],this.set(c,d,b))}};f.r={localStorage:!0,Kw:500,ke:!0,bd:{dark:"#202020",blue_night:"#090d20",test:"#033447",mapv:"#000001",techblue:"#000b11",insight:"#19212a","default":"#fcf9f2"},sca:"dark light blue darkblue fresh grey midblue".split(" "),key:"",Zb:"http",ud:[115.423412,39.442759,117.514625,41.060816,116.405285,39.904989],xc:"http://" + mapApiHost,Fb:"http://" + mapApiHost,$x:"http://gaode.com",oo:"http://m.amap.com",Rt:"http://webrd0{1,2,3,4}.is.autonavi.com/appmaptile?lang=[lang]&size=1&scale=1&style=8&x=[x]&y=[y]&z=[z]",
    Lx:"http://" + mapTileHost + "/v3/tile?z=[z]&x=[x]&y=[y]",MF:"http://webst0{1,2,3,4}.is.autonavi.com/appmaptile?style=6&x=[x]&y=[y]&z=[z]",uy:"http://webst0{1,2,3,4}.is.autonavi.com/appmaptile?x=[x]&y=[y]&z=[z]&lang=zh_cn&size=1&scale=1&style=8",vy:"http://wprd0{1,2,3,4}.is.autonavi.com/appmaptile?x=[x]&y=[y]&z=[z]&lang=zh_cn&size=1&scl=1&style=8&ltype=11",uu:"http://wprd0{1,2,3,4}.is.autonavi.com/appmaptile?lang=[lang]&size=1&style=7&x=[x]&y=[y]&z=[z]",
    Du:"http://vector.amap.com",Cu:mapApiHost,mS:"ws"};
  function zc(a){f.Y.Wp=a.Wp;f.l=a.l;f.we=a.we;a.l=null;f.r.Fb=a[2].split(",")[0];f.r.wh=a.wh;var b=f.r.Zb=f.r.Fb.split(":")[0];"https"===b&&(f.r.mS="wss",f.r.xc=f.r.xc.replace("http","https"),f.r.Rt=f.r.Rt.replace("http","https"),f.r.Lx=f.r.Lx.replace("http","https"),f.r.MF=f.r.MF.replace("http","https"),f.r.uy=f.r.uy.replace("http","https"),f.r.vy=f.r.vy.replace("http","https"),f.r.uu=f.r.uu.replace("http","https"),f.r.Du=f.r.Du.replace("http","https"));var c=window.location.href;0!==c.indexOf("http")&&
  window.parent&&window.parent!==window&&(c=window.parent.location.href);f.r.B3=c;c=encodeURIComponent(c);f.r.Kl=c;f.r.Gf=f.r.Fb+"/theme/v1.3/markers/"+(f.l.Oc?"b":"n");var d=document.createElement("style");d.type="text/css";f.r.v2="url("+b+"://"+mapApiHost+"/theme/openhand.cur),default";var e=".amap-container{cursor:"+f.r.v2+";}.amap-drag{cursor:url("+b+"://webapi.amap.com/theme/v1.3/closedhand.cur),default;}";d.styleSheet?(b=function(){try{d.styleSheet.cssText=e}catch(a){}},d.styleSheet.disabled?
    setTimeout(b,10):b()):d.appendChild(document.createTextNode(e));(document.head||document.getElementsByTagName("head")[0]).appendChild(d);f.r.mode=Number(a[3]);f.r.ud=a[1];f.r.key=a[0];f.r.gC=a[4];f.r.Bc=a[5];f.r.B0=a[6]}window.AMap&&window.AMap.EG&&window.AMap.EG.__load__&&window.AMap.EG.__load__(zc);f.TG={D2:Math.PI/180,X6:180/Math.PI};(function(){function a(a){return"undefined"===typeof a?"":a}f.mf={l4:function(b){b.name=a(b.name);var c=[b.y,b.x,b.name];if(f.l.W){var d=[f.r.oo+"/callAPP?","src=jsapi_q"];d.push("&ios="+encodeURIComponent("viewMap?sourceApplication=jsapi_q&dev=0&poiname="+b.name+"&lat="+b.y+"&lon="+b.x));d.push("&android="+encodeURIComponent("androidamap?action=shorturl&q="+c.join(",")+"&sourceApplication=jsapi_q"));d.push("&wp="+encodeURIComponent("viewMap?sourceApplication=jsapi_q&dev=0&poiname="+b.name+"&lat="+
      b.y+"&lon="+b.x));d.push("&mo="+encodeURIComponent(f.r.oo+"?q="+c.join(",")+"&callapp=0&sourceApplication=jsapi_q"));return d.join("")}return f.r.$x+"?q="+c.join(",")+"&src=jsapi_q"},gO:function(b){b.name=a(b.name);b.address=a(b.address);b.x=a(b.x);b.y=a(b.y);var c=[b.id,b.y,b.x,b.name,b.address];if(f.l.W){var d=[f.r.oo+"/callAPP?","src=jsapi_p"];d.push("&ios="+encodeURIComponent("multiPointShow?sourceApplication=jsapi_p&dev=0&q="+[b.y,b.x,b.name,b.address,b.id].join()+"&title="+b.name));d.push("&android="+
    encodeURIComponent("androidamap?action=shorturl&p="+c.join(",")+"&sourceApplication=jsapi_p"));d.push("&wp="+encodeURIComponent("multiPointShow?sourceApplication=jsapi_p&dev=0&q="+[b.y,b.x,b.name,b.address,b.id].join()+"&title="+b.name));return d.join("")}return f.r.$x+"?p="+c.join(",")+"&src=jsapi_p"},eO:function(b){if(f.l.W){var c=[f.r.oo+"/callAPP?","src=jsapi_detail"];c.push("&ios="+encodeURIComponent("viewPOIDetail?sourceApplication=jsapi_detail&poiid="+b.id));b.name=a(b.name);b.x=a(b.x);b.y=
    a(b.y);c.push("&android="+encodeURIComponent("androidamap?action=openFeature&featureName=PoiDetail&poiid="+b.id+"&poiname="+b.name+"&x="+b.x+"&y="+b.y+"&sourceApplication=jsapi_detail"));c.push("&wp="+encodeURIComponent("viewPOIDetail?sourceApplication=jsapi_detail&poiid="+b.id));c.push("&mo="+encodeURIComponent(f.r.oo+"/detail/index/poiid="+b.id+"&sourceApplication=jsapi_detail"));return c.join("")}return f.r.$x+"/detail/"+b.id+"?src=jsapi_detail"},TD:function(b){b.sname=a(b.sname);""===b.sname&&
  (b.sname="\u8d77\u70b9");b.dname=a(b.dname);""===b.dname&&(b.dname="\u7ec8\u70b9");b.mcount=a(b.mcount);b.my=a(b.my);b.mx=a(b.mx);b.mname=a(b.mname);var c=[b.sy,b.sx,b.sname,b.dy,b.dx,b.dname,b.m,b.t,b.mcount,b.my,b.mx,b.mname];if(f.l.W){var d=[f.r.oo+"/callAPP?","src=jsapi_r_"+b.t];d.push("&ios="+encodeURIComponent("path?sourceApplication=jsapi_r_"+b.t+"&dev=0&slat="+b.sy+"&slon="+b.sx+"&sname="+b.sname+"&dlat="+b.dy+"&dlon="+b.dx+"&dname="+b.dname+"&m="+b.m+"&t="+b.t+"&vian=0&vialons=&vialats=&vianames="));
    var e=b.t;0===b.t?e=2:2===b.t&&(e=4);d.push("&android="+encodeURIComponent("androidamap://route?sourceApplication=jsapi_r_"+b.t+"&slat="+b.sy+"&slon="+b.sx+"&sname="+b.sname+"&dlat="+b.dy+"&dlon="+b.dx+"&dname="+b.dname+"&dev=0&"+b.m+"&t="+e));d.push("&wp="+encodeURIComponent("path?sourceApplication=jsapi_r_"+b.t+"&dev=0&slat="+b.sy+"&slon="+b.sx+"&sname="+b.sname+"&dlat="+b.dy+"&dlon="+b.dx+"&dname="+b.dname+"&m="+b.m+"&t="+b.t+"&vian=0&vialons=&vialats=&vianames="));d.push("&mo="+encodeURIComponent(f.r.oo+
        "/?r="+c.join(",")+"&callapp=0&sourceApplication=jsapi_r_"+b.t));return d.join("")}return f.r.$x+"?r="+c.join(",")+"src=jsapi_r_"+b.t},Jm:function(a){f.l.W?window.location.href=a:window.open(a)}}})();"function"!==typeof Object.keys&&(Object.keys=function(a){var b=[],c;for(c in a)a.hasOwnProperty(c)&&b.push(c);return b});f.g={Iy:[],Ra:268435456,kt:{start:function(a){a.startTime=new Date;a.SR=[];var b=(new Date).getTime();a.id=requestAnimationFrame(function d(){var e=(new Date).getTime();a.SR.push(e-b);b=e;a.id=requestAnimationFrame(d)})},cancel:function(a){a.id&&cancelAnimationFrame(a.id)},stop:function(a){a.k2=new Date-a.startTime;this.cancel(a);a.kt=Math.round(1E3/(a.k2/(a.SR.length+1)))}},Gb:function(a){if("object"===typeof a&&null!==a){if(a.xm||this.Ex(a,"Float32Array")||this.Ex(a,"Uint16Array"))return a;var b=
    this.isArray(a)?[]:{},c;for(c in a)a.hasOwnProperty(c)&&(b[c]=f.g.Gb(a[c]));return b}return a},oE:function(a){return"object"===typeof HTMLElement?a instanceof HTMLElement:a&&"object"===typeof a&&1===a.nodeType&&"string"===typeof a.nodeName},yG:function(a,b){var c="ASDFGHJKLQWERTYUIO!sdfghjkleiu3~yr5-P&mq9`%zCN*b=8@^xpVM",d,e;"v5"<(b||"v5")?(d=c.length,e=512):(d=27,c=c.substr(0,27),e=333);var g,h,k,l,m;h=[];k=NaN;l=0;for(m=a.length;l<m;l++)g=a[l],g=c.indexOf(g),isNaN(k)?k=g*d:(h.push(k+g-e),k=NaN);
    return h},U7:function(a,b){for(var c=1,c=512<b.length?Math.round(Math.pow(b.length,0.5)):b.length,d=Math.ceil(b.length/c),e=0;e<d;e+=1){var g=c*e,h=g+c;h>b.length&&(h=b.length);for(;g<h;g+=1)a(b[g])}},X1:function(a){var b={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",
    chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",
    dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4","indianred ":"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",
    lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",
    mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",
    rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};return"string"===typeof a?
    b[a.toLowerCase()]?b[a.toLowerCase()]:a:a},ix:function(a,b,c){var d,e;d=Math.floor(c/2);e=c-d;d=(1<<d)-1<<e;e=(1<<e)-1;return[c,a&d|b&e,b&d|a&e]},jx:function(a){return a?encodeURIComponent(a):""},md:function(a,b,c,d){c=a[b].i[c];if("undefined"===typeof c)return null;a=a[b].s;if("number"===typeof c)return a[c];for(;"undefined"===typeof c[d.toString()]&&!(d-=1,3>d););d=c[d.toString()];return"number"===typeof d?a[d]:null},$f:function(a){for(var b=[],c=0,d=a.length;c<d;c+=2)b.push(parseInt(a.substr(c,
    2),16));b.push((b.shift()/255).toFixed(2));return"rgba("+b.join(",")+")"},Np:function(a){for(var b=[],c=0,d=a.length;c<d;c+=2)b.push(parseInt(a.substr(c,2),16)/255);b.push(b.shift());return b},It:function(a){for(var b in a)if(a.hasOwnProperty(b))return!1;return!0},zk:function(a,b){return 0>b?a:a.slice(0,b).concat(a.slice(b+1,a.length))},F2:function(a,b){var c=f.g.indexOf(a,b);return f.g.zk(a,c)},indexOf:function(a,b){if(a&&!a.length)return-1;if(a.indexOf)return a.indexOf(b);for(var c=0;c<a.length;c+=
    1)if(a[c]===b)return c;return-1},bind:function(a,b){var c=2<arguments.length?Array.prototype.slice.call(arguments,2):null;return function(){return a.apply(b,c||arguments)}},rb:function(a,b){b=b||{};a.F=f.extend({},a.F,b);return a.F},BN:function(){return!1},UN:function(a,b){return(a||"")+Math.round(Math.random()*Math.pow(10,b||6))},Bb:function(){var a=0;return function(b){b._amap_id||(a+=1,b._amap_id=a);return b._amap_id}}(),k3:"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=",Sh:Date.now?
    function(){return Date.now()}:function(){return(new Date).getTime()},Zba:function(a,b,c,d){var e;if(d){var g=0,h,k=this.Sh;e=function(){h=k();if(h-g<b)return!1;g=h;a.apply(c,arguments)}}else{var l,m,n;n=function(){l=!1;m&&(e.apply(c,m),m=!1)};e=function(){l?m=arguments:(l=!0,a.apply(c,arguments),setTimeout(n,b))}}return e},cf:function(a,b){return Number(Number(a).toFixed(b||0))},isArray:function(a){return Array.isArray?Array.isArray(a):"[object Array]"===Object.prototype.toString.call(a)},Ex:function(a,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              b){return Object.prototype.toString.call(a).split(" ")[1].slice(0,-1).toLowerCase()===b.toLowerCase()},ia:function(a,b){return-1!==this.indexOf(a,b)},ER:function(a){var b=0;if(0===a.length)return b;for(var c,d=0,e=a.length;d<e;d+=1)c=a.charCodeAt(d),b=(b<<5)-b+c,b&=b;return b},Paa:function(a,b){b=b?Math.ceil(parseInt(b.substr(6))/24):1;for(var c="",d=0,e=a.length;d<e;d++)c+=String.fromCharCode((a.charCodeAt(d)-256-b+65535)%65535);return c},z2:function(a,b){var c=(a+"").slice(-2),d=(b+"").slice(-2);
    a=a.slice(0,-2);b=b.slice(0,-2);var e=parseInt((d+c).slice(1)),d=parseInt("1"+d)/3E3;a-=parseInt("1"+c)/3E3*(Math.ceil(e/250)%2?1:-1);b-=d*(1<e/500?1:-1);return new f.U(parseFloat(a).toFixed(5),parseFloat(b).toFixed(5))},IP:function(a){return"undefined"!==typeof JSON&&JSON.stringify?f.g.ER(JSON.stringify(a)):null},zda:function(a,b){if(b||!a.hasOwnProperty("_amap_hash")){var c=f.g.IP(a);c&&(a._amap_hash=c)}return a._amap_hash},iepngFix:function(a){function b(){for(var a;c.length;)a=c.shift(),window.DD_belatedPNG.fixPng(a);
    d.rE=!0}this.mQ||(this.mQ=[],this.rE=!1);var c=this.mQ,d=this;if("img"===a.tagName.toLowerCase())c.push(a);else{a=a.getElementsByTagName("*");for(var e=0;e<a.length;e+=1)c.push(a[e])}window.DD_belatedPNG&&this.rE?setTimeout(function(){b()},100):this.rE||f.$a.load("AMap.FixPng",b)},sa:function(a){if(f.g.isArray(a))if(f.g.isArray(a[0]))for(var b=0;b<a.length;b+=1)a[b]=f.g.sa(a[b]);else if(b=typeof a[0],"string"===b||"number"===b)return new f.U(a[0],a[1]);return a},Vk:function(a){return f.g.isArray(a)?
    new f.wc(a[0],a[1]):a}};
  (function(){function a(a){window.clearTimeout(a)}function b(a){var b,c,d=["webkit","moz","o","ms"];for(b=0;b<d.length&&!c;b+=1)c=window[d[b]+a];return c}function c(a){var b=+new Date,c=Math.max(0,(f.l.Zg?50:20)-(b-d));d=b+c;return window.setTimeout(a,c)}var d=0,e=window.requestAnimationFrame||b("RequestAnimationFrame")||c,g=window.cancelAnimationFrame||b("CancelAnimationFrame")||b("CancelRequestAnimationFrame")||a;f.g.ec=function(a,b,c,d){a=f.g.bind(a,b);if(c)a();else return e.call(window,a,d)};f.g.ag=
    function(a){a&&g.call(window,a)}})();f.g.G7=window.requestIdleCallback?window.requestIdleCallback.bind(window):function(a){var b=Date.now();return setTimeout(function(){a({didTimeout:!1,timeRemaining:function(){return Math.max(0,70-(Date.now()-b))}})},0)};f.g.v1=window.cancelIdleCallback?window.cancelIdleCallback.bind(window):function(a){clearTimeout(a)};(function(a){var b=1,c={};a.g.g8=function(a,b){if(c[a]){var g=c[a];g.mu=1;g.result=b;if(g.Di){for(var h=g.Di,k=0,l=h.length;k<l;k++)h[k].call(null,b);g.Di=null}}};a.g.M1=function(a){c[a]=null};a.g.R9=function(a,b){if(c[a]){var g=c[a];0<g.mu?b(null,g.result):(g.Di||(g.Di=[]),g.Di.push(b))}else b(null,a)};a.g.LD=function(d,e){var g=navigator.geolocation;if(!a.l.P4||"https:"===document.location.protocol)return d(null,g);var h;e&&e.S9&&(h="f"+b++,c[h]={mu:0});var k=null,l=!1;e&&e.timeout&&(k=setTimeout(function(){k=
    void 0;d({code:3,info:"TIME_OUT",message:"Get geolocation time out."});l=!0},e.timeout));g.getCurrentPosition(function(){l||(clearTimeout(k),k=void 0,d(null,g))},function(b){l||(clearTimeout(k),k=void 0,2===b.code&&0<b.message.indexOf("permission")?a.$a.load("AMap.GeoRemoteLoc",function(){d(null,a.DS,h)}):d(null,g))});return h}})(f);(function(a){var b=a.Y.extend({ia:[a.ga],C:function(){}});a.il=new b})(f);(function(a){var b=a.Y.extend({ia:[a.ga],C:function(){this.KW()},KW:function(){a.il&&a.il.h("vecTileParsed.buildings",this.tW,this)},VO:function(a){return a.map.IJ},WN:function(a){return this.VO(a)?a.map.HA:null},d8:function(a,b){if(b){var e=b.map;e&&(e.HA?e.HA.toString():"")!==(a?a.toString():"")&&(e.HA=a||[],e.set("display",0))}},hR:function(a,b){if(b){var e=b.map;e&&e.IJ!==a&&(e.IJ=a,e.set("display",0))}},M$:function(){},DJ:function(a,b){if(a)for(var e=0,g=a.length;e<g;e++)a[e]&&0>b.indexOf(a[e])&&
  b.push(a[e])},EN:function(b){if(!b)return null;b=b.map.Ma;for(var d=0,e=b.length;d<e;d++)if(a.S.hi&&b[d]instanceof a.S.hi&&b[d].Ea&&b[d].Ea.length&&(-1!==b[d].Ea.indexOf("building")||-1!==b[d].Ea.indexOf("poilabel")))return b[d];return null},E3:function(a){if(a=this.EN(a)){if(a=a.Qa.get("tiles",null,!0))a=a[0];else return null;if(!a||!a.length)return null;for(var b=[],e=0,g=a.length;e<g;e++){var h=a[e];h.vf&&h.vf.Hd&&this.DJ(h.vf.Hd,b)}return b}},tW:function(a){if(a.qu&&a.qu.vf&&(a=a.qu.vf.Hd)){var b=
    [];this.DJ(a,b);this.w("vecTileParsed.builds.found",{NM:b})}}});a.Pf=new b})(f);(function(a){function b(){return{checkup:function(){var a=Array.prototype.slice.call(arguments,0);a.pop()(null,a)}}}function c(a){return{injectCode:function(b,c){var d=null,e=null;try{d=(new Function("self",b))(a)}catch(g){e=g.toString()}c(e,d)}}}function d(a){function b(c,d){function e(a,b,c){a={ar:Date.now(),Tq:h,error:a,result:b};if(c)for(var g in c)c.hasOwnProperty(g)&&(a[g]=c[g]);d(a)}var g=c.cE,h=c.Tq,l=c.NC,m=c.Rs,w=c.V0||[],s=a._wkHandlers[g];s?s[l]?m?s[l].apply(s,w.concat(e)):e(null,s[l].apply(s,
    w)):e("Unknown cmd: "+l):e("Can not find handler for: "+g)}var c=[];a.Hw=function(a){c.push.apply(c,a)};a.addEventListener("message",function(d){function e(b){if(v){v.push(b);var d=!!b.M5;d||u++;if(u>h)console.error("Resp len wrong!!");else if(b=u===h,d||b){d=1<v.length?{H7:v}:v[0];d.ar=Date.now();d.nda=t;if(c.length){try{a.postMessage(d,c)}catch(g){a.postMessage(d),console.error(g)}c.length=0}else a.postMessage(d);v.length=0;b&&(e=v=null)}}else console.error("Seemed callback already sent!!")}var g=
    d.data;d=g.E7||[g];for(var h=d.length,u=0,t=Date.now()-g.ar,v=[],g=0;g<h;g++)b(d[g],e)},!1)}function e(d,h){this.F=a.extend({batchSend:!0,lazy:!1,libPolyfills:null},h);this.Hp=[];this.Gr=this.F.clientId||"w"+g++;this.F.onReady&&this.YE(this.F.onReady);this.ov=this.IV();if("function"===typeof d){var m={};m[this.ov]=d;d=m}d[e.WD]=c;d[this.UI()]=b;this.Cv=d;this.iL();this.F.lazy||this.Pp();a.wx||!1===this.F.hostWorker||(a.wx=this)}var g=1,h=1;a.extend(e,{WD:"_g_",r8:function(a){if(!a.IT){var b=[];a.addEventListener("message",
    function(a){a=a.data;a=a.H7||[a];for(var c=0,d=a.length;c<d;c++){var e=a[c],g;a:{g=e.Tq;for(var h=!!e.M5,k=0,v=b.length;k<v;k++){var w=b[k];if(g===w.Tq){h||b.splice(k,1);g=w;break a}}g=void 0}g?g.Rs.call(null,e.error,e.result,!0):console.warn("Receive worker msg: ",e)}},!1);a.wT=b;a.IT=!0}}});a.extend(e.prototype,{IV:function(){return"_def_"+this.Gr},UI:function(){return"_cln_"+this.Gr},i_:function(){var a=Array.prototype.slice.call(arguments,0);this.lL=a;if(this.Cp){for(var b=0,c=this.Cp.length;b<
  c;b++)this.Cp[b].apply(null,a);this.Cp.length=0}},Hw:function(a){this.c_&&this.Hp.push.apply(this.Hp,a)},YE:function(a){this.lL?a.apply(null,this.lL):(this.Cp||(this.Cp=[]),this.Cp.push(a))},Pp:function(b){var c=this;if(!c.YH){c.YH=!0;var d=function(d,e){d&&a.l.bP&&console.warn(d);c.i_.call(c,d,e);b&&b(d,e)};a.l.bP?this.b_(function(a,b){b?this.SW(b,function(a,c){a?d(a):(this.$v(c),this.jC=c,this.Hp.length=0,this.Nv=null,d(null,{e1:b,Z9:c}))}):d("Worker start failed!")}):d("Worker not supported!")}},
    NO:function(a,b,c){var d=this;a=a||d.ov;var g={};d.KH(a,b,g);d.$v(null,g);d.YE(function(h){h?c(h):d.jC?(h=d.$I(b,d.wA(d.Gr,a)),d.jC.sendMessage(e.WD+":injectCode",h,function(a,b){a||d.$v(d.jC,g);c(a,b)})):c("Worker msger missing!!")})},wA:function(a,b){if(!a||!b)throw Error("clientId or ns missing!!");return a+"_"+b},ZV:function(a,b,c){function d(){var b=Array.prototype.slice.call(arguments,0);c.sendMessage.apply(c,[a].concat(b))}var e=this;if(!c)return function(){e.YH||"utilCall"===e.F.lazy&&e.Pp();
      b.apply(this.Nv,arguments)};d._proxy2Worker=!0;return d},iL:function(){this.$v(null)},tU:function(a){var b={},c;for(c in a)a.hasOwnProperty(c)&&this.KH(c,a[c],b);return b},KH:function(a,b,c){b=b.call(null,!1);for(var d in b)b.hasOwnProperty(d)&&(c[a+":"+d]=b[d],a===this.ov&&(c[d]=b[d]))},$v:function(a,b){b||(this.Nv||(this.Nv=this.tU(this.Cv)),b=this.Nv);for(var c in b)if(b.hasOwnProperty(c)){var d=b[c];"function"===typeof d&&(this[c]=this.ZV(c,d,a))}this.c_=!!a},$I:function(a,b){var c=a.toString(),
      d,c=c.replace(/^function([^\(]*)\(/,function(){d="_prep_h"+h++;return"function "+d+"("});return d?c+';if(self._wkHandlers["'+b+'"]){ console.log(self._wkHandlers["'+b+'"]); throw new Error("'+b+' already exists!"); }self._wkHandlers["'+b+'"]='+d+".call(null,self)||{};"+d+"=null;":(console.error("No function match!!"),!1)},b_:function(a){var b=this.Gr,c=[],d;for(d in this.Cv)if(this.Cv.hasOwnProperty(d)){var g=this.$I(this.Cv[d],this.wA(b,d));g&&c.push(g)}b=this.F.libPolyfills||[];d=0;for(g=b.length;d<
    g;d++)b[d]="("+b[d].toString()+")(self);";var h=b.join(";\n")+";\n"+c.join(";\n"),c=this.F.hostWorker,r=this;c&&c!==r?c.YE(function(b,c){b?a.call(r,b):c.Z9.sendMessage(e.WD+":injectCode",h,function(b){b?a.call(r,b):a.call(r,null,c.e1)})}):setTimeout(function(){a.call(r,null,r.e0(h))},0)},e0:function(a){var b={type:"text/javascript; charset=utf-8"};a="self._wkHandlers={};("+d.toString()+")(self);\n"+a;var c;try{var e=window.URL||window.webkitURL,g=e.createObjectURL(new Blob([a],b));c=new Worker(g);
      setTimeout(function(){e.revokeObjectURL(g);g=null},3E3)}catch(h){console.error(h);return}return c},YU:function(b){var c=1,d=b.wT,e=this,g=!!e.F.batchSend;return function(h){var r=Array.prototype.slice.call(arguments,1),u="function"===typeof r[r.length-1]?r.pop():null,t=e.Gr,v=h.split(":"),w=e.ov;1<v.length&&(h=v[1],w=v[0]);r={ar:a.g.Sh(),cE:e.wA(t,w),Rs:!!u,Tq:t+"_"+c++,NC:h,V0:r};u&&d.push({NC:r.NC,cE:r.cE,ar:r.ar,Tq:r.Tq,Rs:u});g?e.$T(b,r):e.Ap(b,r)}},Ap:function(a,b){if(this.Hp.length){try{a.postMessage(b,
      this.Hp)}catch(c){a.postMessage(b),console.error(c)}this.Hp.length=0}else a.postMessage(b)},$T:function(b,c){b.jB||(b.jB=[]);b.jB.push(c);if(!b.gL){var d=this;b.gL=setTimeout(function(){b.gL=null;var c=b.jB;c.length&&(d.Ap(b,1===c.length?c[0]:{ar:a.g.Sh(),E7:c}),c.length=0)},0)}},X_:function(a){var b=this;a.addEventListener("error",function(a){console.error(a);b.iL(null)},!1);e.r8(a)},SW:function(a,b){var c=this;c.X_(a);var d=this.YU(a);if(e.MU)b.call(c,null,{sendMessage:d});else{e.MU=!0;var g=[c.UI()+
    ":checkup",Math.random().toFixed(5)+"",Math.round(1E3*Math.random()),!1,function(a,e){var h=!0;if(a||!e||e.length!==g.length-2)h=!1;else for(var k=0,v=e.length;k<v;k++)if(e[k]!==g[k+1]){h=!1;break}h?b.call(c,null,{sendMessage:d}):(console.error(a),b.call(c,"Self checkup failed!!"))}];d.apply(c,g)}}});a.Wu=e})(f);(function(){if(!f.Fd){f.Fd={$d:{},Ft:{}};var a=f.Fd,b=f.Fd.$d,c=f.g;b.start=function(b){a.Ft[b.id]={H:b.H,time:{MO:c.Sh()},u1:function(){return c.Sh()-this.time.MO}}};b.end=function(b){var d=a.Ft[b.id],h=d.time,d=c.bind(d.u1,d),k=b.index,l=b.key;"function"!==typeof b.Bc&&(b.Bc=function(){});if(void 0===h[l])void 0===k?h[l]=d():(h[l]=[],h[l][k]=d());else if(void 0!==k&&void 0===h[l][k])h[l][k]=d();else return b.Bc(Error("Duplicate Invoke"));b.Bc(null)};b.push=function(b){var c=a.Ft[b.id].time,d=b.key,
    k=b.Om;"function"!==typeof b.Bc&&(b.Bc=function(){});if(void 0===c[d])c[d]=k;else return b.Bc(Error("Duplicate Invoke"));b.Bc(null)};b.send=function(b){var c=f.r.Zb+"://webapi.amap.com/count?",h=f.extend(d({H:a.Ft[b.id].H}),b.params||{}),k=f.g;b.params&&b.params.rs&&!b.params.type&&(b=a.Ft[b.id].time,delete b.MO,h=f.extend(h,b));b=[];for(var l in h)k.isArray(h[l])?b.push([l,h[l].join("-")].join("=")):b.push([l,h[l]].join("="));new f.Aa.Pa(c+b.join("&"))};var d=function(a){var b=f.l,c=f.r;a=f.f.ON(a.H);
    return{type:"q",resolution:a.width+"*"+a.height,k:c.key,u:c.Kl,iw:b.Oe?1:0,cw:b.sk?1:0,gc:b.XD,m:b.W?1:0,cv:b.Tw?1:0,pf:b.Iq,dpr:window.devicePixelRatio,screenwidth:screen.width,scale:b.Xy||0,detect:b.ca?1:0}}}})();f.f={get:function(a){return"string"===typeof a?document.getElementById(a):a},eca:function(a,b){var c=document.head||document.getElementsByTagName("head")[0];if(c){var d=document.createElement("link");d.setAttribute("rel","stylesheet");d.setAttribute("type","text/css");d.setAttribute("href",a);b?c.appendChild(d):c.insertBefore(d,c.firstChild)}else document.write("<link rel='stylesheet' href='"+a+"'/>")},md:function(a,b){var c=a.style[b];!c&&a.currentStyle&&(c=a.currentStyle[b]);c&&"auto"!==c||!document.defaultView||
  (c=(c=document.defaultView.getComputedStyle(a,null))?c[b]:null);c&&"auto"!==c||"height"!==b||(c=a.clientHeight+"px");c&&"auto"!==c||"width"!==b||(c=a.clientWidth+"px");return"auto"===c?null:c},vx:function(a){if(a)return new f.wc(a.clientWidth||document.body.clientWidth,a.clientHeight||(f.l.pq?"CSS1Compat"===document.compatMode?document.documentElement.clientHeight:document.body.clientHeight:document.body.clientHeight),!0)},ON:function(a){return new f.wc(a.clientWidth,a.clientHeight)},VD:function(a){var b=
    0,c=0,d=a,e=document.body,g=document.documentElement,h,k=f.l.Bt;do{b+=d.offsetTop||0;c+=d.offsetLeft||0;b+=parseInt(f.f.md(d,"borderTopWidth"),10)||0;c+=parseInt(f.f.md(d,"borderLeftWidth"),10)||0;h=f.f.md(d,"position");if(d.offsetParent===e&&"absolute"===h)break;if("fixed"===h){b+=e.scrollTop||g.scrollTop||0;c+=e.scrollLeft||g.scrollLeft||0;break}d=d.offsetParent}while(d);d=a;do{if(d===e)break;b-=d.scrollTop||0;c-=d.scrollLeft||0;f.f.P2()||!f.l.T9&&!k||(c+=d.scrollWidth-d.clientWidth,k&&"hidden"!==
  f.f.md(d,"overflow-y")&&"hidden"!==f.f.md(d,"overflow")&&(c+=17));d=d.parentNode}while(d);return new f.G(c,b)},P2:function(){f.f.kV||(f.f.kV=!0,f.f.jV="ltr"===f.f.md(document.body,"direction"));return f.f.jV},create:function(a,b,c){a=document.createElement(a);c&&(a.className=c);b&&b.appendChild(a);return a},oN:function(){document.selection&&document.selection.empty&&document.selection.empty();this.qZ||(this.qZ=document.onselectstart,document.onselectstart=f.g.BN)},tN:function(){},lq:function(a,b){if(a&&
    b)return 0<a.className.length&&RegExp("(^|\\s)"+b+"(\\s|$)").test(a.className)},ta:function(a,b){a&&b&&!f.f.lq(a,b)&&(a.className+=(a.className?" ":"")+b)},za:function(a,b){function c(a,c){return c===b?"":a}a&&b&&(a.className=a.className.replace(/(\S+)\s*/g,c).replace(/(^\s+|\s+$)/,""))},aO:function(a,b){return 1===b?"":"opacity"in a.style?"opacity:"+b:8<=document.documentMode?"-ms-filter:'progid:DXImageTransform.Microsoft.Alpha(opacity="+Math.ceil(100*b)+")'":"filter:alpha(opacity="+Math.ceil(100*
      b)+")"},Gm:function(a,b){if("opacity"in a.style)a.style.opacity=b;else if("filter"in a.style){a=a.childNodes.length?a.childNodes:[a];for(var c=Math.round(100*b),d=0;d<a.length;d+=1)a[d].childNodes&&a[d].childNodes.length?this.Gm(a[d],b):a[d].style&&(a[d].style.filter="",100!==c&&(a[d].style.filter=" progid:DXImageTransform.Microsoft.Alpha(opacity="+c+")"))}},iG:function(a){for(var b=document.documentElement.style,c=0;c<a.length;c+=1)if(a[c]in b)return a[c];return!1},nO:function(a){var b=f.l.U9;return"translate"+
    (b?"3d":"")+"("+a.x+"px,"+a.y+"px"+((b?",0":"")+")")},zba:function(a,b){return f.f.nO(b.add(b.Nc(-1*a)))+(" scale("+a+") ")},vda:function(a,b,c){a.Uf=b;!c&&f.l.lC?(b=f.f.nO(b),c=a.style[f.f.Ee].split("rotate"),1<c.length?(c[0]=b,a.style[f.f.Ee]=c.join("rotate")):a.style[f.f.Ee]=b,f.l.A5&&(a.style.WebkitBackfaceVisibility="hidden")):(a.style.left=b.x+"px",a.style.top=b.y+"px")},Id:function(a){a.Uf||(a.Uf=a.style.left?new f.G(parseInt(a.style.left),parseInt(a.style.top)):new f.G(0,0));return a.Uf},
    tda:function(a,b){a=a instanceof Array?a:[a];for(var c=0;c<a.length;c+=1)a[c].style.cssText=b},eR:function(a,b){";"!==b[b.length-1]&&(b+=";");return b.toLowerCase()!==a.style.cssText.replace(/ /g,"").toLowerCase()?(a.style.cssText=b,!0):!1},wa:function(a,b){a=a instanceof Array?a:[a];for(var c=0;c<a.length;c+=1)for(var d in b)b.hasOwnProperty(d)&&(a[c].style[d]=b[d]);return this},zQ:function(a){for(;a.childNodes.length;)a.removeChild(a.childNodes[0])},remove:function(a){a&&a.parentNode&&a.parentNode.removeChild(a)},
    rotate:function(a,b,c){var d=f.f.Ee;c=c||{x:a.clientWidth/2,y:a.clientHeight/2};d?(a.style[d]=""+(" rotate("+b+"deg)"),a.style[f.f.Km[d]+"-origin"]=c.x+"px "+c.y+"px"):(d=Math.cos(b*Math.PI/180),b=Math.sin(b*Math.PI/180),a.style.filter="progid:DXImageTransform.Microsoft.Matrix()",0<a.filters.length&&(a=a.filters.item(0),a.o$=-c.x*d+c.y*b+c.x,a.p$=-c.x*b-c.y*d+c.y,a.M11=a.M22=d,a.M12=-(a.M21=b)))},jO:function(a,b,c){var d=f.f.Ee;c=c||{x:a.clientWidth/2,y:a.clientHeight/2};return d?f.f.Km[d]+":"+(""+
      (" rotate("+b+"deg)"))+";"+(f.f.Km[d]+"-origin:"+c.x+"px "+c.y+"px"):""},Qj:function(a,b,c){a.width=b;a.height=c},getElementsByClassName:function(a,b,c){b=b||"*";c=c||document;if(c.getElementsByClassName)return c.getElementsByClassName(a);b=c.getElementsByTagName(b);a=RegExp("(^|\\s)"+a+"(\\s|$)");c=[];for(var d=0,e;d<b.length;d++)e=b[d],a.test(e.className)&&c.push(e);return c},fillText:function(a,b){if(a)return void 0!==a.textContent?a.textContent=b:void 0!==a.innerText?a.innerText=b:a.innerHTML=
      b,a}};(function(){var a=f.f.iG(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]),b;f.extend(f.f,{oN:function(){f.A.h(window,"selectstart",f.A.preventDefault);if(a){var c=document.documentElement.style;"none"!==c[a]&&(b=c[a],c[a]="none")}},tN:function(){f.A.D(window,"selectstart",f.A.preventDefault);a&&"none"!==b&&(document.documentElement.style[a]=b,b="none")},I2:function(){f.A.h(window,"dragstart",f.A.preventDefault)},m3:function(){f.A.D(window,"dragstart",f.A.preventDefault)}})})();
  f.f.Ee=f.f.iG(["WebkitTransform","OTransform","MozTransform","msTransform","transform"]);f.f.Km={transform:"transform",WebkitTransform:"-webkit-transform",OTransform:"-o-transform",MozTransform:"-moz-transform",msTransform:"-ms-transform"};f.f.tz=f.f.iG(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);f.f.B$="webkitTransition"===f.f.tz||"OTransition"===f.f.tz?f.f.tz+"End":"transitionend";f.A={h:function(a,b,c,d){function e(b){b=b||window.event;b.target=b.target||b.srcElement;return c.call(d||a,b,k)}var g=f.g.Bb(a)+"_"+f.g.Bb(c)+"_"+f.g.Bb(d||a),h=b+g;if(a[h])return this;var k=b;f.l.FN&&"mousewheel"===b&&(b="DOMMouseScroll");if(f.l.pq&&("mouseover"===b||"mouseout"===b)){var l=e;b="mouseover"===b?"mouseenter":"mouseleave";e=function(a){l(a)}}if(f.l.oQ&&0===b.indexOf("touch"))return a[h]=e,this.I0(a,b,e,g);f.l.Yd&&"dblclick"===b&&this.F0&&this.F0(a,e,g);"addEventListener"in a?a.addEventListener(b,
    e,!1):"attachEvent"in a?a.attachEvent("on"+b,e):a["on"+b]=e;a[h]=e;return this},Am:function(a,b,c,d){var e=this;this.h(a,b,function h(k){e.D(a,b,h,d);return c.call(d||a,k||window.event,b)},d)},D:function(a,b,c,d){c=f.g.Bb(a)+"_"+f.g.Bb(c)+"_"+f.g.Bb(d||a);d=b+c;var e=a[d];f.l.FN&&"mousewheel"===b&&(b="DOMMouseScroll");!f.l.pq||"mouseover"!==b&&"mouseout"!==b||(b="mouseover"===b?"mouseenter":"mouseleave");f.l.oQ&&-1<b.indexOf("touch")?this.j7(a,b,c):f.l.Yd&&"dblclick"===b&&this.f7?this.f7(a,c):"removeEventListener"in
  a?a.removeEventListener(b,e,!1):"detachEvent"in a&&-1===b.indexOf("touch")?e&&a.detachEvent("on"+b,e):a["on"+b]=null;a[d]=null;return this},xda:function(a,b){var c=document.createEvent("MouseEvents");c.initMouseEvent(a,!0,!0,window,1,b.screenX,b.screenY,b.clientX,b.clientY,!1,!1,!1,!1,0,null);b.target.dispatchEvent(c)},stopPropagation:function(a){a.stopPropagation?a.stopPropagation():a.cancelBubble=!0;return this},D8:function(a){var b=f.A.stopPropagation;f.l.Yd&&(f.A.h(a,"touchstart",b,this),f.A.h(a,
    "touchmove",b,this),f.A.h(a,"touchend",b,this));f.l.W||(f.A.h(a,"mousedown",b,this),f.A.h(a,"mouseup",b,this),f.A.h(a,"mousemove",b,this));f.l.nQ&&(f.A.h(a,"pointerdown",b,this),f.A.h(a,"pointerup",b,this),f.A.h(a,"pointermove",b,this));f.l.G5&&(f.A.h(a,"MSPointerDown",b,this),f.A.h(a,"MSPointerUp",b,this),f.A.h(a,"MSPointerMove",b,this))},preventDefault:function(a){a.preventDefault?a.preventDefault():a.returnValue=!1;return this},stop:function(a){return f.A.preventDefault(a).stopPropagation(a)},
    X7:function(a){return a&&a.getBoundingClientRect?(a.xz=a.getBoundingClientRect(),a.xH=[a.clientLeft,a.clientTop],!0):!1},w9:function(a){a.xz&&(a.xz=null,a.xH=null)},p3:function(a,b){var c=b.xz||b.getBoundingClientRect(),d=b.xH||[b.clientLeft,b.clientTop];return new f.G(a.clientX-c.left-d[0],a.clientY-c.top-d[1])},Rh:function(a,b){if(b&&b.getBoundingClientRect)return this.p3(a,b);var c=document.body,d=document.documentElement,c=new f.G(f.l.Yd?a.pageX:a.clientX+(c.scrollLeft||d.scrollLeft),f.l.Yd?a.pageY:
      a.clientY+(c.scrollTop||d.scrollTop));return b?c.Oa(f.f.VD(b)):c},XO:function(a){return 1===a.which||0===a.button||1===a.button}};f.extend(f.A,{iB:[],hK:!1,I0:function(a,b,c,d){switch(b){case "touchstart":return this.L0(a,b,c,d);case "touchend":return this.J0(a,b,c,d);case "touchmove":return this.K0(a,b,c,d)}},Bj:function(a){if(f.l.nQ)return a;switch(a){case "pointerdown":return"MSPointerDown";case "pointerup":return"MSPointerUp";case "pointercancel":return"MSPointerCancel";case "pointermove":return"MSPointerMove"}},L0:function(a,b,c,d){function e(a){for(var b=!1,d=0;d<g.length;d+=1)if(g[d].pointerId===a.pointerId){b=!0;break}b||
  g.push(a);a.touches=g.slice();a.changedTouches=[a];c(a)}var g=this.iB;a["_amap_touchstart"+d]=e;a.addEventListener(this.Bj("pointerdown"),e,!1);this.hK||(a=function(a){for(var b=0;b<g.length;b+=1)if(g[b].pointerId===a.pointerId){g.splice(b,1);break}},document.documentElement.addEventListener(this.Bj("pointerup"),a,!1),document.documentElement.addEventListener(this.Bj("pointercancel"),a,!1),this.hK=!0);return this},K0:function(a,b,c,d){function e(a){if(a.pointerType!==a.MSPOINTER_TYPE_MOUSE||0!==a.buttons){for(var b=
    0;b<g.length;b+=1)if(g[b].pointerId===a.pointerId){g[b]=a;break}a.touches=g.slice();a.changedTouches=[a];c(a)}}var g=this.iB;a["_amap_touchmove"+d]=e;a.addEventListener(this.Bj("pointermove"),e,!1);return this},J0:function(a,b,c,d){function e(a){for(var b=0;b<g.length;b+=1)if(g[b].pointerId===a.pointerId){g.splice(b,1);break}a.touches=g.slice();a.changedTouches=[a];c(a)}var g=this.iB;a["_amap_touchend"+d]=e;a.addEventListener(this.Bj("pointerup"),e,!1);a.addEventListener(this.Bj("pointercancel"),
    e,!1);return this},j7:function(a,b,c){c=a["_amap_"+b+c];switch(b){case "touchstart":a.removeEventListener(this.Bj("pointerdown"),c,!1);break;case "touchmove":a.removeEventListener(this.Bj("pointermove"),c,!1);break;case "touchend":a.removeEventListener(this.Bj("pointerup"),c,!1),a.removeEventListener(this.Bj("pointercancel"),c,!1)}return this}});(function(){function a(a){var b=a.target||a.srcElement;b.FH&&g(b.FH);b.FH=e(function(){var c=b.bk;if(c&&c.ak)for(var d=0;d<c.ak.length;d+=1)c.ak[d].call(c,a)})}function b(){var b=this.contentDocument.defaultView;b.bk=this.GT;b.addEventListener("resize",a);a.call(b,{target:b})}var c=document.attachEvent,d=navigator.userAgent.match(/(Trident|Edge)/),e=f.g.ec,g=f.g.ag;f.extend(f.A,{N0:function(e,g){if(!e.ak)if(e.ak=[],c)e.bk=e,e.attachEvent("onresize",a);else{"static"===window.getComputedStyle(e).position&&
  (e.style.position="relative");var l=e.bk=document.createElement("object");l.setAttribute("style","display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; pointer-events: none; z-index: -1;");l.GT=e;l.onload=b;l.type="text/html";d&&e.appendChild(l);l.data="about:blank";d||e.appendChild(l)}e.ak.push(g)},Vca:function(b,d){b.ak.splice(b.ak.indexOf(d),1);b.ak.length||(c?b.detachEvent("onresize",a):(b.bk.contentDocument.defaultView.removeEventListener("resize",
    a),b.bk=!b.removeChild(b.bk)))},N1:function(a){a.ak=null;if(a.bk){var b=a.bk;b.parentNode===a&&b.parentNode.removeChild(b);a.bk=null}}})})();(function(a){function b(a){var b=Array(4);a&&"object"===typeof a&&(b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3]);this.elements=b}function c(a){var b=Array(3);a&&"object"===typeof a&&(b[0]=a[0],b[1]=a[1],b[2]=a[2]);this.elements=b}function d(a){this.elements=a||[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}d.prototype.set=function(a){var b,c;b=a.elements;c=this.elements;if(b!==c){for(a=0;16>a;++a)c[a]=b[a];return this}};d.prototype.concat=function(a){var b,c,d,l,m,n,p;c=b=this.elements;d=a.elements;if(b===d)for(d=
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      Array(16),a=0;16>a;++a)d[a]=b[a];for(a=0;4>a;a++)l=c[a],m=c[a+4],n=c[a+8],p=c[a+12],b[a]=l*d[0]+m*d[1]+n*d[2]+p*d[3],b[a+4]=l*d[4]+m*d[5]+n*d[6]+p*d[7],b[a+8]=l*d[8]+m*d[9]+n*d[10]+p*d[11],b[a+12]=l*d[12]+m*d[13]+n*d[14]+p*d[15];return this};d.prototype.multiply=d.prototype.concat;d.prototype.Bq=function(a){var c=this.elements;a=a.elements;var d=new b,k=d.elements;k[0]=a[0]*c[0]+a[1]*c[4]+a[2]*c[8]+a[3]*c[12];k[1]=a[0]*c[1]+a[1]*c[5]+a[2]*c[9]+a[3]*c[13];k[2]=a[0]*c[2]+a[1]*c[6]+a[2]*c[10]+a[3]*c[14];
    k[3]=a[0]*c[3]+a[1]*c[7]+a[2]*c[11]+a[3]*c[15];return d};d.prototype.e8=function(a){var b,c,d;b=a.elements;a=this.elements;c=Array(16);c[0]=b[5]*b[10]*b[15]-b[5]*b[11]*b[14]-b[9]*b[6]*b[15]+b[9]*b[7]*b[14]+b[13]*b[6]*b[11]-b[13]*b[7]*b[10];c[4]=-b[4]*b[10]*b[15]+b[4]*b[11]*b[14]+b[8]*b[6]*b[15]-b[8]*b[7]*b[14]-b[12]*b[6]*b[11]+b[12]*b[7]*b[10];c[8]=b[4]*b[9]*b[15]-b[4]*b[11]*b[13]-b[8]*b[5]*b[15]+b[8]*b[7]*b[13]+b[12]*b[5]*b[11]-b[12]*b[7]*b[9];c[12]=-b[4]*b[9]*b[14]+b[4]*b[10]*b[13]+b[8]*b[5]*b[14]-
    b[8]*b[6]*b[13]-b[12]*b[5]*b[10]+b[12]*b[6]*b[9];c[1]=-b[1]*b[10]*b[15]+b[1]*b[11]*b[14]+b[9]*b[2]*b[15]-b[9]*b[3]*b[14]-b[13]*b[2]*b[11]+b[13]*b[3]*b[10];c[5]=b[0]*b[10]*b[15]-b[0]*b[11]*b[14]-b[8]*b[2]*b[15]+b[8]*b[3]*b[14]+b[12]*b[2]*b[11]-b[12]*b[3]*b[10];c[9]=-b[0]*b[9]*b[15]+b[0]*b[11]*b[13]+b[8]*b[1]*b[15]-b[8]*b[3]*b[13]-b[12]*b[1]*b[11]+b[12]*b[3]*b[9];c[13]=b[0]*b[9]*b[14]-b[0]*b[10]*b[13]-b[8]*b[1]*b[14]+b[8]*b[2]*b[13]+b[12]*b[1]*b[10]-b[12]*b[2]*b[9];c[2]=b[1]*b[6]*b[15]-b[1]*b[7]*b[14]-
    b[5]*b[2]*b[15]+b[5]*b[3]*b[14]+b[13]*b[2]*b[7]-b[13]*b[3]*b[6];c[6]=-b[0]*b[6]*b[15]+b[0]*b[7]*b[14]+b[4]*b[2]*b[15]-b[4]*b[3]*b[14]-b[12]*b[2]*b[7]+b[12]*b[3]*b[6];c[10]=b[0]*b[5]*b[15]-b[0]*b[7]*b[13]-b[4]*b[1]*b[15]+b[4]*b[3]*b[13]+b[12]*b[1]*b[7]-b[12]*b[3]*b[5];c[14]=-b[0]*b[5]*b[14]+b[0]*b[6]*b[13]+b[4]*b[1]*b[14]-b[4]*b[2]*b[13]-b[12]*b[1]*b[6]+b[12]*b[2]*b[5];c[3]=-b[1]*b[6]*b[11]+b[1]*b[7]*b[10]+b[5]*b[2]*b[11]-b[5]*b[3]*b[10]-b[9]*b[2]*b[7]+b[9]*b[3]*b[6];c[7]=b[0]*b[6]*b[11]-b[0]*b[7]*
    b[10]-b[4]*b[2]*b[11]+b[4]*b[3]*b[10]+b[8]*b[2]*b[7]-b[8]*b[3]*b[6];c[11]=-b[0]*b[5]*b[11]+b[0]*b[7]*b[9]+b[4]*b[1]*b[11]-b[4]*b[3]*b[9]-b[8]*b[1]*b[7]+b[8]*b[3]*b[5];c[15]=b[0]*b[5]*b[10]-b[0]*b[6]*b[9]-b[4]*b[1]*b[10]+b[4]*b[2]*b[9]+b[8]*b[1]*b[6]-b[8]*b[2]*b[5];d=b[0]*c[0]+b[1]*c[4]+b[2]*c[8]+b[3]*c[12];if(0===d)return this;d=1/d;for(b=0;16>b;b++)a[b]=c[b]*d;return this};d.prototype.Gt=function(){return(new d).e8(this)};d.prototype.jR=function(a,b,c,d,l){var m,n,p,q;if(a===b||c===d||1===l)throw"null frustum";
    n=1/(b-a);p=1/(d-c);q=1/(1-l);m=this.elements;m[0]=2*n;m[1]=0;m[2]=0;m[3]=0;m[4]=0;m[5]=2*p;m[6]=0;m[7]=0;m[8]=0;m[9]=0;m[10]=-2*q;m[11]=0;m[12]=-(b+a)*n;m[13]=-(d+c)*p;m[14]=-(1+l)*q;m[15]=1;return this};d.prototype.i8=function(a,b,c,d){var l,m;if(c===d||0===b)throw"null frustum";if(0>=c)throw"near <= 0";if(0>=d)throw"far <= 0";a/=2;m=Math.sin(a);if(0===m)throw"null frustum";l=1/(d-c);m=Math.cos(a)/m;a=this.elements;a[0]=m/b;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=m;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=-(d+
    c)*l;a[11]=-1;a[12]=0;a[13]=0;a[14]=-2*c*d*l;a[15]=0};d.prototype.j8=function(a,b){var c=this.elements;c[0]=a;c[4]=0;c[8]=0;c[12]=0;c[1]=0;c[5]=b;c[9]=0;c[13]=0;c[2]=0;c[6]=0;c[10]=1;c[14]=0;c[3]=0;c[7]=0;c[11]=0;c[15]=1};d.prototype.scale=function(a,b,c){var d=this.elements;d[0]*=a;d[4]*=b;d[8]*=c;d[1]*=a;d[5]*=b;d[9]*=c;d[2]*=a;d[6]*=b;d[10]*=c;d[3]*=a;d[7]*=b;d[11]*=c;return this};d.prototype.mR=function(a,b,c){var d=this.elements;d[12]=a;d[13]=b;d[14]=c;return this};d.prototype.translate=function(a,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              b,c){var d=this.elements;d[12]+=d[0]*a+d[4]*b+d[8]*c;d[13]+=d[1]*a+d[5]*b+d[9]*c;d[14]+=d[2]*a+d[6]*b+d[10]*c;d[15]+=d[3]*a+d[7]*b+d[11]*c;return this};d.prototype.TF=function(a,b,c,d){var l,m,n,p,q,r,u,t;a=Math.PI*a/180;l=this.elements;m=Math.sin(a);a=Math.cos(a);0!==b&&0===c&&0===d?(0>b&&(m=-m),l[0]=1,l[4]=0,l[8]=0,l[12]=0,l[1]=0,l[5]=a,l[9]=-m,l[13]=0,l[2]=0,l[6]=m,l[10]=a,l[14]=0,l[3]=0,l[7]=0,l[11]=0):0===b&&0!==c&&0===d?(0>c&&(m=-m),l[0]=a,l[4]=0,l[8]=m,l[12]=0,l[1]=0,l[5]=1,l[9]=0,l[13]=0,
    l[2]=-m,l[6]=0,l[10]=a,l[14]=0,l[3]=0,l[7]=0,l[11]=0):0===b&&0===c&&0!==d?(0>d&&(m=-m),l[0]=a,l[4]=-m,l[8]=0,l[12]=0,l[1]=m,l[5]=a,l[9]=0,l[13]=0,l[2]=0,l[6]=0,l[10]=1,l[14]=0,l[3]=0,l[7]=0,l[11]=0):(n=Math.sqrt(b*b+c*c+d*d),1!==n&&(n=1/n,b*=n,c*=n,d*=n),n=1-a,p=b*c,q=c*d,r=d*b,u=b*m,t=c*m,m*=d,l[0]=b*b*n+a,l[1]=p*n+m,l[2]=r*n-t,l[3]=0,l[4]=p*n-m,l[5]=c*c*n+a,l[6]=q*n+u,l[7]=0,l[8]=r*n+t,l[9]=q*n-u,l[10]=d*d*n+a,l[11]=0,l[12]=0,l[13]=0,l[14]=0);l[15]=1;return this};d.prototype.rotate=function(a,b,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      c,k){return this.concat((new d).TF(a,b,c,k))};a.Ah=d;c.prototype.normalize=function(){var a=this.elements,b=a[0],c=a[1],d=a[2],l=Math.sqrt(b*b+c*c+d*d);if(l){if(1===l)return this}else return a[0]=0,a[1]=0,a[2]=0,this;l=1/l;a[0]=b*l;a[1]=c*l;a[2]=d*l;return this};a.G$=c;b.prototype.multiply=function(a){var b=this.elements;b[0]*=a;b[1]*=a;b[2]*=a;b[3]*=a};a.uz=b})(f);f.$a={B5:"http://"+mapApiHost+"/maps",Wp:f.Y.Wp,HE:0,Gq:[],Jn:{},Ff:function(a,b){function c(){d+=1;d===e.length&&b&&b()}a.length||b();for(var d=0,e=[],g=0;g<a.length;g+=1){var h=this.Wp[a[g]];if(h)for(var k=0;k<h.length;k+=1)e.push(h[k]);e.push(a[g])}for(g=0;g<e.length;g+=1)this.qD(e[g],c)},Hx:function(a){for(var b=0;b<a.length;b+=1)if(1!==this.cx(a[b]).status)return!1;return!0},qD:function(a,b){var c=this.cx(a);if(1===c.status)b&&b();else{b&&c.Rp.push(b);try{if(f.l.Pk&&window.localStorage){var d=window.localStorage["_AMap_"+
  a];d&&(d=JSON.parse(d),d.version===f.r.wh?(window._jsload_(a,d.script,!0),d.css&&window._cssload_(a,d.css,!0)):window.localStorage.removeItem("_AMap_"+a))}}catch(e){}if(0===c.status){this.U6(a);var g=this;g.HE||(g.HE=1,window.setTimeout(function(){g.HE=0;var a=g.B5+"/modules?v="+f.r.gC+"&key="+f.r.key+"&m="+g.Gq.join(",")+"&vrs="+f.r.wh;f.$a.Wz(g.Gq.join(","));g.Gq=[];c.zy=g.k5(a)},1));c.status=-1}}},Wz:function(a){new f.Aa.Pa(f.r.xc+"/v3/log/init?"+["s=rsv3&product=JsModule&key="+f.r.key,"m="+a].join("&"),
    {callback:"callback"})},load:function(a,b){var c=this.Wp[a];if(c){for(var d=[],e=0;e<c.length;e+=1)d.push(c[e]);d.push(a);for(var g=0,c=function(){g+=1;g===d.length&&b&&b()},e=0;e<d.length;e+=1)this.qD(d[e],c)}else this.qD(a,b)},U6:function(a){for(var b=0;b<this.Gq.length;b+=1)if(this.Gq[b]===a)return;this.Gq.push(a)},Rj:function(a,b){var c=this.cx(a);try{eval(b)}catch(d){return}c.status=1;for(var e=0,g=c.Rp.length;e<g;e+=1)c.Rp[e]();c.Rp=[]},Aaa:function(a,b){var c=this;c.timeout=setTimeout(function(){1!==
  c.Jn[a].status?(c.remove(a),c.load(a,b)):clearTimeout(c.timeout)},5E3)},cx:function(a){this.Jn[a]||(this.Jn[a]={},this.Jn[a].status=0,this.Jn[a].Rp=[]);return this.Jn[a]},remove:function(a){this.Jn[a]=null},k5:function(a){f.r.mode&&(a+="&mode="+f.r.mode);var b=document.createElement("script");b.charset="utf-8";b.src=a;document.body.appendChild(b);return b}};
  window._jsload_=function(a,b,c){var d=f.$a.cx(a);d.zy&&0<=f.g.indexOf(document.body.childNodes,d.zy)&&document.body.removeChild(d.zy);d.zy=null;try{if(!c&&window.localStorage&&b&&""!==b&&f.l.Pk){var e=window.localStorage["_AMap_"+a],e=e||"{}",e=JSON.parse(e);e.version!==f.r.wh||e.script?window.localStorage.setItem("_AMap_"+a,JSON.stringify({script:b,version:f.r.wh})):window.localStorage.setItem("_AMap_"+a,JSON.stringify({script:b,css:e.css,version:f.r.wh}))}}catch(g){}f.$a.Rj(a,b)};
  window._cssload_=function(a,b,c){try{!c&&window.localStorage&&b&&""!==b&&f.l.Pk&&window.localStorage.setItem("_AMap_"+a,JSON.stringify({css:b,version:f.r.wh}))}catch(d){}var e=document.createElement("style");e.type="text/css";-1===f.r.Fb.indexOf("webapi.amap.com")&&(b=b.replace(eval("/webapi.amap.com/gi"),f.r.Fb.split("://")[1]));"https"===f.r.Zb&&(b=b.replace(eval("/http:/gi"),"https:"));e.styleSheet?(a=function(){try{e.styleSheet.cssText=b}catch(a){}},e.styleSheet.disabled?setTimeout(a,10):a()):
    e.appendChild(document.createTextNode(b));a=document.head||document.getElementsByTagName("head")[0];2>a.childNodes.length?a.appendChild(e):a.insertBefore(e,a.childNodes[1])};(function(a){var b=f.l;if(!f.indexedDB&&b.le){var c=a.indexedDB||a.webkitIndexedDB||a.msIndexedDB||a.mozIndexedDB,d=a.IDBKeyRange||a.Vda||a.oca||a.nca;if(c){var e=f.g,g=null;a="amap-jsapi"+(a.q$?"-debug":"");var h=f.extend({},f.ga),k;try{k=c.open(a),k.onsuccess=function(){g=this.result;h.w("dbReady",{status:"success"})},k.onerror=function(){h.w("dbReady",{status:"error"})},k.onblocked=function(){h.w("dbReady",{status:"blocked"})},k.onupgradeneeded=function(a){a.currentTarget.result.createObjectStore("tile",
    {keyPath:"tileKey"})}}catch(l){b.le=!1}finally{if(!b.le)return}var b=function(a){return function(){try{return a.apply(this,arguments)}catch(b){var c=arguments[arguments.length-1];"function"===typeof c&&setTimeout(function(){c({code:4})},1)}}},m=b(function(a,b){return null===g?(setTimeout(function(){b&&b({code:3})},1),null):g.transaction("tile",a).objectStore("tile")}),n=function(a,b){for(var c=-1,d=0,e=b.length;d<e;d++)if(b[d]>a){c=d;break}return c};f.indexedDB={Js:b(function(a,b){g?"function"===
    typeof a&&a():h.h("dbReady",function(c){"success"===c.status?"function"===typeof a&&a():"function"===typeof b&&b({code:3,status:status})})}),count:b(function(a){var b=this,c=arguments;this.Js(function(){b.Wz.apply(b,c)},a)}),Wz:b(function(a){var b=m("readonly",a).count();b.onsuccess=function(){a(null,b.result)};b.onerror=function(){a({code:7})}}),get:b(function(a,b){var c=this,d=arguments;this.Js(function(){c.DV.apply(c,d)},b)}),DV:b(function(a,b){var c=m("readonly",b);if(e.isArray(a)){var g=[],h=
    a.slice(0);a.sort();c.openCursor(d.bound(a[0],a[a.length-1])).onsuccess=function(c){if(c=c.target.result){var d=e.indexOf(h,c.value.tileKey);-1!==d&&(g[d]=c.value);c["continue"](a[n(c.value.tileKey,a)])}else b&&b(null,g.filter(function(a){return void 0!==a}))}}else c=c.get(a),c.onsuccess=function(a){b&&b(null,a.target.result)},c.onerror=function(){b&&b({code:1})}}),add:b(function(a,b){var c=this,d=arguments;this.Js(function(){c.KT.apply(c,d)},b)}),KT:b(function(a,b){e.isArray(a)||(a=[a]);for(var c=
    a.length,d=0,g=c;d<g;d++){var h=m("readwrite",b).add(a[d]);h.onsuccess=function(){0===--c&&b(null)};h.onerror=function(a){-1===a.target.error.message.indexOf("Key already exists")?(b({code:5}),c=0):0===--c&&b(null)}}}),remove:b(function(a,b){var c=this,d=arguments;this.Js(function(){c.o_.apply(c,d)},b)}),o_:b(function(a,b){var c=m("readwrite",b);e.isArray(a)||(a=[a]);a=a.sort();c.openCursor(d.bound(a[0],a[a.length-1])).onsuccess=function(c){if(c=c.target.result){if(e.ia(c.value.tileKey,a))c["delete"]();
    c["continue"](a[n(c.value.tileKey,a)])}else b&&b(null)}}),clear:b(function(a){var b=this,c=arguments;this.Js(function(){b.bv.apply(b,c)},a)}),bv:b(function(a){var b=m("readwrite",a).clear();b.onsuccess=function(){a&&a(null)};b.onerror=function(){a&&a({code:2})}})}}else b.le=!1}})(window);(function(){function a(a){t.data.keys=t.data.keys.filter(function(b){return!q.ia(a,b)}).concat(a)}function b(a){return[f.r.wh,a.ai.replace(/\//g,","),a.Oe?"w":"v",u(a.ca,a.ke),l(a.url)].join("|")}function c(){t.data.keys.length>=t.kz&&d()}function d(){var a=t.data.keys.length,b=Math.floor(a/2);a>t.kz&&(b=Math.floor(a-t.kz/2));a=t.data.keys.slice(0,b);t.data.keys=t.data.keys.slice(b+1);r.remove(a,function(a){a&&3===a.code&&(p.le=!1)})}function e(){h();w.setItem(t.key,t.data,!0);p.le&&r&&r.clear(function(a){a&&
  3===a.code&&(p.le=!1)})}function g(){h();var a=w.getItem(t.key,!0);a&&(a.Wy===t.data.Wy&&a.tM===t.data.tM?t.data=a:e())}function h(){t.data={Wy:p.Uj,tM:f.r.wh,keys:[],yf:{},gh:{}};t.fl={}}function k(a){a&&(t.data.Wy=a,p.Uj=a)}function l(a){var b="limg";/flds=([^&]+)/.test(a)&&(b=RegExp.$1);return b}function m(a){if("object"===typeof a&&null!==a){var b=[];if(q.isArray(a))if(Object.keys(a).length==a.length)b=a.map(function(a){return m(a)});else{b.push("__arrayObject");var c={},d;for(d in a)(0>parseInt(d)||
  isNaN(parseInt(d)))&&a.hasOwnProperty(d)&&(c[d]=m(a[d]));b.push(c);b.push(a.map(function(a){return m(a)}))}else if(q.Ex(a,"Float32Array"))b.push("__Float32Array"),b.push(Array.prototype.slice.call(a));else if(q.Ex(a,"Uint16Array"))b.push("__Uint16Array"),b.push(Array.prototype.slice.call(a));else for(d in b={},a)a.hasOwnProperty(d)&&(b[d]=m(a[d]));return b}return a}function n(a){if("object"===typeof a&&null!==a){var b={};if(q.isArray(a))if("__Float32Array"===a[0])b=new Float32Array(a[1]);else if("__Uint16Array"===
    a[0])b=new Uint16Array(a[1]);else if("__arrayObject"===a[0]){b=n(a[2]);a=a[1];for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c])}else b=a.map(function(a){return n(a)});else for(c in a)a.hasOwnProperty(c)&&(b[c]=n(a[c]));return b}return a}var p=f.l,q=f.g;if(!f.Xm&&(f.l.Lt||f.l.sk)&&(p.le||p.Pk)){var r=f.indexedDB,u=function(a,b){return[a?1:0,p.W?1:0,b?1:0].join()},t={kz:1E3,key:"_AMap_data.tileKeys"},v=[],w={getItem:function(a,b){var c=localStorage.getItem(a);if(c&&b){var d;try{d=JSON.parse(c)}catch(e){d=
    null}c=d}return c},setItem:function(a,b,c){var d=b;c&&(d=JSON.stringify(b),1.5<d.length/1024/1024&&Object.keys(b.gh).length&&(b.gh={},d=JSON.stringify(b)));try{localStorage.setItem(a,d)}catch(g){e()}}};f.Xm={get:function(c,d){function g(a){var b={eE:w,z5:Q,yf:t.data.yf};/\|limg/.test(R[0])?b.c5=h(a):b.od=k(a);d&&d(null,b)}function h(a){var b=[];a.forEach(function(a){a.data.forEach(function(a){b.push(a)})});return b}function k(a){var b=[];l(c.url).split(",").forEach(function(c){a.forEach(function(a){if(a=
      a.data[c]){var d=a.$i;a.$i=new f.zh(d.z,d.x,d.y);a.$i.M=d.M;for(var e in a.Da)a.Da.hasOwnProperty(e)&&delete a.Da[e].Sm;b.push(a)}})});return b}var u=c.U8,w=[],R=[],Q=[],S=[];if("FS"!==c.type&&!t.data.keys.length)return d({code:1});u.forEach(function(a){var d=b({ai:a.key,url:c.url,Oe:c.Oe,ca:c.S.ca,ke:c.ke});"FS"!==c.type||p.le?"FS"!==c.type||/\|w\|/.test(d)?q.ia(t.data.keys,d)?(w.push(a),R.push(d)):Q.push(a):(v.push(d),t.data.gh[d]?(w.push(a),R.push(d),S.push({data:n(t.data.gh[d]),tileKey:d})):q.ia(t.data.keys,
    d)?(w.push(a),R.push(d)):Q.push(a)):/\|w\|/.test(d)?Q.push(a):(v.push(d),t.data.gh[d]?(w.push(a),R.push(d),S.push({data:n(t.data.gh[d]),tileKey:d})):Q.push(a))});if(R.length){if(!p.le)return g(S);var C=R.slice(0);if(S.length){if(S.length===C.length)return g(S);S.forEach(function(a){a=q.indexOf(C,a.tileKey);C.splice(a,1)})}r.get(C,function(b,h){if(b)3===b.code?p.le=!1:e(),d&&d({code:1});else{"FS"===c.type&&h.length&&h.forEach(function(a){/\|w\|/.test(a.tileKey)||(t.data.gh[a.tileKey]=m(a.data))});
    if(S.length){var l=[];h=h.concat(S);h.forEach(function(a){var b=q.indexOf(v,a.tileKey);l[b]=a});h=l=l.filter(function(a){return void 0!==a})}h.length===R.length?(g(h),a(R)):(e(),d&&d({code:1}))}})}else d&&d({code:1})},hl:function(a){a.Zq.forEach(function(c){c=b({ai:c.key,url:a.url,Oe:a.Oe,ca:a.S.ca,ke:a.ke});t.fl[c]&&delete t.fl[c]})},set:function(a,c){a.Uj&&a.Uj!==t.data.Wy&&(k(a.Uj),e(),c&&c({code:2}));if(a.Wh){var d=b({ai:a.ai,url:a.url,Oe:a.Oe,ca:a.S.ca,ke:a.ke});if(p.le||q.ia(v,d)){var g=t.fl[d]||
    [];g.push(q.Gb(a.data));t.fl[d]=g}}else a.od.forEach(function(c){var d=b({ai:c.ai,url:a.url,Oe:a.Oe,ca:a.S.ca,ke:a.ke});if(p.le||q.ia(v,d)){var e=t.fl[d]||{};e[c.gd]=q.Gb(c);t.fl[d]=e}});t.data.yf={"x-vd-v":a["x-vd-v"],tv:a.tv,bgc:a.bgc}},flush:function(){var a=!0;return function(){var b=this;if(a){if(Object.keys(t.data.gh).length)for(var c in t.data.gh)t.data.gh.hasOwnProperty(c)&&!q.ia(v,c)&&delete t.data.gh[c];p.le?r.count(function(a,c){a||(c!==t.data.keys.length?(r.clear(function(a){!a&&b.rv()}),
    t.data.keys=[]):b.rv())}):b.rv();a=!1}else b.rv()}}(),rv:function(){var a={},b=[],d=Object.keys(t.fl),g=[];d.length?(d.forEach(function(c){var d=t.fl[c];c.split("|").pop().split(",").every(function(a){return"limg"===a?d&&3===d.length:d&&void 0!==d[a]})?(g.push(c),q.ia(v,c)&&void 0===t.data.gh[c]&&(t.data.gh[c]=m(d)),b.push({tileKey:c,data:d})):a[c]=d}),b.length&&(p.le?r.add(b,function(a){a?3!==a.code?e():p.le=!1:(t.data.keys=t.data.keys.concat(g),w.setItem(t.key,t.data,!0),c())}):w.setItem(t.key,
    t.data,!0)),t.fl=a):(w.setItem(t.key,t.data,!0),c())}};g()}})();f.U=f.Y.extend({C:function(a,b,c){var d=parseFloat(b),e=parseFloat(a);if(isNaN(a)||isNaN(b))throw"Invalid Object: LngLat("+e+", "+d+")";!0!==c&&(d=Math.max(Math.min(d,90),-90),e=(e+180)%360+(-180>e||180===e?180:-180));this.Q=d;this.N=e},$N:function(){return f.g.cf(this.N,6)},YN:function(){return f.g.cf(this.Q,6)},add:function(a,b){return new f.U(this.N+a.N,this.Q+a.Q,b)},Oa:function(a,b){return new f.U(this.N-a.N,this.Q-a.Q,b)},Rb:function(a,b){return new f.U(this.N/a,this.Q/a,b)},Nc:function(a,b){return new f.U(this.N*
    a,this.Q*a,b)},gg:function(a){a=f.g.sa(a);if(a instanceof f.U){var b=Math.cos,c=0.017453292519943295*this.Q,d=0.017453292519943295*a.Q;a=0.017453292519943295*a.N-0.017453292519943295*this.N;b=(1-b(d-c)+(1-b(a))*b(c)*b(d))/2;return 12756274*Math.asin(Math.sqrt(b))}if(a instanceof Array)return this.J2(a)},J2:function(a){a=f.g.sa(a);for(var b=Infinity,c=0,d=1,e=a.length;d<e;c=d,d+=1)c=f.vc.cN([this.N,this.Q],[[a[c].N,a[c].Q],[a[d].N,a[d].Q]]),b=Math.min(b,this.gg(new f.U(c[0],c[1])));return b},offset:function(a,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    b){if(isNaN(a)||isNaN(b))return!1;var c=2*Math.asin(Math.sin(Math.round(a)/12756274)/Math.cos(this.Q*Math.PI/180)),c=this.N+180*c/Math.PI,d=2*Math.asin(Math.round(b)/12756274);return new f.U(c,this.Q+180*d/Math.PI)},Ob:function(a){a=f.g.sa(a);return a instanceof f.U?1E-9>=Math.max(Math.abs(this.Q-a.Q),Math.abs(this.N-a.N)):!1},toString:function(){return f.g.cf(this.N,6)+","+f.g.cf(this.Q,6)},Gb:function(){return new f.U(this.N,this.Q)}});
  f.U.b4=function(a,b,c){c=c+1||Math.round(Math.abs(a.N-b.N));if(!c||0.001>Math.abs(a.N-b.N))return[];var d=[],e=f.TG.D2,g=f.TG.X6,h=Math.asin,k=Math.sqrt,l=Math.sin,m=Math.pow,n=Math.cos,p=Math.atan2,q=a.Q*e;a=a.N*e;var r=b.Q*e;b=b.N*e;for(var h=2*h(k(m(l((q-r)/2),2)+n(q)*n(r)*m(l((a-b)/2),2))),u,t,v,w,e=1;e<c;e+=1)u=1/c*e,t=l((1-u)*h)/l(h),v=l(u*h)/l(h),u=t*n(q)*n(a)+v*n(r)*n(b),w=t*n(q)*l(a)+v*n(r)*l(b),t=t*l(q)+v*l(r),t=p(t,k(m(u,2)+m(w,2))),u=p(w,u),d.push(new f.U(u*g,t*g));return d};
  f.U.$p({$N:"getLng",YN:"getLat",add:"add",Oa:"subtract",Rb:"divideBy",Nc:"multiplyBy",gg:"distance",offset:"offset",Ob:"equals",toString:"toString"});f.me=f.Y.extend({C:function(){if(2===arguments.length)this.Ab=f.g.sa(arguments[0]),this.sb=f.g.sa(arguments[1]);else if(4===arguments.length)this.Ab=new f.U(arguments[0],arguments[1]),this.sb=new f.U(arguments[2],arguments[3]);else throw"Invalid Object: Bounds("+arguments.join(",")+")";},rt:function(){return this.Ab},pt:function(){return this.sb},Ki:function(){return new f.U(this.Ab.N,this.sb.Q,!0)},em:function(){return new f.U(this.sb.N,this.Ab.Q,!0)},contains:function(a){var b=this.Ab,c=this.sb,
    d;a instanceof f.me?(d=a.Ab,a=a.sb):d=a=f.g.sa(a);var e=d.N,g=b.N,h=a.N,k=c.N;g>k&&(k+=360,0>e&&(e+=360),0>h&&(h+=360));return d.Q>=b.Q&&a.Q<=c.Q&&e>=g&&h<=k},te:function(a){var b=this.Ab,c=this.sb,d=a.Ab;a=a.sb;var e=a.N>=b.N&&d.N<=c.N;return a.Q>=b.Q&&d.Q<=c.Q&&e},jg:function(){return new f.U(this.Ab.N>this.sb.N?(this.Ab.N+this.sb.N+360)/2%360:(this.Ab.N+this.sb.N)/2,(this.Ab.Q+this.sb.Q)/2)},extend:function(a){this.Ab.N=Math.min(this.Ab.N,a.N);this.Ab.Q=Math.min(this.Ab.Q,a.Q);this.sb.N=Math.max(this.sb.N,
    a.N);this.sb.Q=Math.max(this.sb.Q,a.Q);return this},v9:function(a){return this.extend(a.Ab).extend(a.sb)},toString:function(){return this.Ab.toString()+";"+this.sb.toString()},Gb:function(){return new f.me(this.Ab.Gb(),this.sb.Gb())},Ob:function(a){return a instanceof f.me?this.Ab.Ob(a.Ab)&&this.sb.Ob(a.sb):!1},Ef:function(){return Math.abs(this.sb.N-this.Ab.N)},Bf:function(){return Math.abs(this.Ab.Q-this.sb.Q)}});
  f.me.$p({rt:"getSouthWest",pt:"getNorthEast",Ki:"getNorthWest",em:"getSouthEast",contains:"contains",te:"intersects",jg:"getCenter"});f.G=f.Y.extend({C:function(a,b,c){if(isNaN(a)||isNaN(b))throw"Invalid Object: Pixel("+a+", "+b+")";this.x=c?Math.round(a):Number(a);this.y=c?Math.round(b):Number(b)},xd:function(){return this.x},Lc:function(){return this.y},add:function(a,b){return new f.G(this.x+a.x,this.y+a.y,b)},Oa:function(a,b){return new f.G(this.x-a.x,this.y-a.y,b)},Rb:function(a,b){return new f.G(this.x/a,this.y/a,b)},Nc:function(a,b){return new f.G(this.x*a,this.y*a,b)},gg:function(a){var b=a.x-this.x;a=a.y-this.y;return Math.sqrt(b*
    b+a*a)},floor:function(){return new f.G(Math.floor(this.x),Math.floor(this.y))},round:function(){return new f.G(this.x,this.y,!0)},Ob:function(a){return a instanceof f.G&&this.x===a.x&&this.y===a.y},Gb:function(a){return new f.G(this.x,this.y,a)},toString:function(){return this.x+","+this.y},su:function(){return[this.x,this.y]},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},direction:function(){var a=this.x,b=this.y;if(0===a&&0===b)return null;if(0===a)return 0<b?Math.PI/2:-Math.PI/
    2;var c=180*Math.atan(b/a)/Math.PI;return 0>a&&0<b?c+180:0>a&&0>b?c+180:0<a&&0>b?c+360:c},Hn:function(a){var b=this.length(),c=a.length();return b&&c?180*Math.acos((this.x*a.x+this.y*a.y)/c/b)/Math.PI:null}});f.G.$p({xd:"getX",Lc:"getY",add:"add",Oa:"subtract",Rb:"divideBy",Nc:"multiplyBy",gg:"distance",Ob:"equals",toString:"toString"});f.wc=f.Y.extend({C:function(a,b,c){if(isNaN(a)||isNaN(b))throw"Invalid Object: Size("+a+", "+b+")";this.width=c?Math.round(a):Number(a);this.height=c?Math.round(b):Number(b)},Ef:function(){return this.width},Bf:function(){return this.height},br:function(){return new f.G(this.Ef(),this.Bf())},contains:function(a){return Math.abs(a.x)<=Math.abs(this.width)&&Math.abs(a.y)<=Math.abs(this.height)},Ob:function(a){return a instanceof f.wc&&this.width===a.width&&this.height===a.height},toString:function(){return this.Ef()+
    ","+this.Bf()}});f.wc.$p({Ef:"getWidth",Bf:"getHeight",toString:"toString"});f.OG=f.Y.extend({C:function(a){this.path=a;if(a[0]instanceof f.G){this.path=[];for(var b=0;b<a.length;b+=1)this.path.push([a[b].x,a[b].y])}else if(a[0]instanceof f.U)for(this.path=[],b=0;b<a.length;b+=1)this.path.push([a[b].N,a[b].Q]);this.bounds=a},contains:function(a,b){a instanceof f.G?a=[a.x,a.y]:a instanceof f.U&&(a=[a.N,a.Q]);return f.vc.Sc(a,this.path,b)}});f.ne=f.Y.extend({C:function(){if(2===arguments.length)this.ub=arguments[0],this.uc=arguments[1];else if(1===arguments.length&&arguments[0]instanceof Array||4===arguments.length){var a=arguments[0]instanceof Array?arguments[0]:arguments;this.ub=new f.G(a[0],a[1]);this.uc=new f.G(a[2],a[3])}else throw"Invalid Object: PixelBounds("+arguments.join(",")+")";},jg:function(a){return new f.G((this.ub.x+this.uc.x)/2,(this.ub.y+this.uc.y)/2,a)},contains:function(a){var b;a instanceof f.ne?(b=a.ub,a=a.uc):b=
    a;return b.x>this.ub.x&&a.x<this.uc.x&&b.y>this.ub.y&&a.y<this.uc.y},Ef:function(){return this.uc.x-this.ub.x},Bf:function(){return this.uc.y-this.ub.y},te:function(a,b){b||0===b||(b=20);var c=this.ub,d=this.uc,e=a.ub,g=a.uc,h=g.y>=c.y-b&&e.y<=d.y+b;return g.x>=c.x-b&&e.x<=d.x+b&&h},toString:function(){return this.ub+";"+this.uc},Gb:function(){return new f.ne(this.ub.Gb(),this.uc.Gb())}});f.B={};f.B.CM=function(a){for(var b=[Infinity,Infinity,-Infinity,-Infinity],c=0,d=a.length;c<d;c+=1)f.B.yN(b,a[c]);return b};f.B.DM=function(a,b,c){var d=Math.min.apply(null,a);a=Math.max.apply(null,a);var e=Math.min.apply(null,b);b=Math.max.apply(null,b);return f.B.p2(d,a,e,b,c)};f.B.buffer=function(a,b){a[0]-=b;a[1]-=b;a[2]+=b;a[3]+=b};f.B.Gb=function(a){return a.slice()};f.B.Sc=function(a,b){return a[0]<=b[0]&&b[0]<=a[2]&&a[1]<=b[1]&&b[1]<=a[3]};
  f.B.fN=function(a,b){return a[0]<=b[0]&&b[2]<=a[2]&&a[1]<=b[1]&&b[3]<=a[3]};f.B.Laa=function(){return[Infinity,Infinity,-Infinity,-Infinity]};f.B.p2=function(a,b,c,d,e){return"undefined"!==typeof e?(e[0]=a,e[2]=b,e[1]=c,e[3]=d,e):[a,c,b,d]};f.B.empty=function(a){a[0]=a[1]=Infinity;a[2]=a[3]=-Infinity;return a};f.B.Ob=function(a,b){return a[0]===b[0]&&a[2]===b[2]&&a[1]===b[1]&&a[3]===b[3]};
  f.B.extend=function(a,b){b[0]<a[0]&&(a[0]=b[0]);b[2]>a[2]&&(a[2]=b[2]);b[1]<a[1]&&(a[1]=b[1]);b[3]>a[3]&&(a[3]=b[3])};f.B.yN=function(a,b){b[0]<a[0]&&(a[0]=b[0]);b[0]>a[2]&&(a[2]=b[0]);b[1]<a[1]&&(a[1]=b[1]);b[1]>a[3]&&(a[3]=b[1])};f.B.fba=function(a){return[a[0],a[1]]};f.B.gba=function(a){return[a[2],a[1]]};f.B.jg=function(a){return[(a[0]+a[2])/2,(a[1]+a[3])/2]};
  f.B.oba=function(a,b,c,d,e){var g=b*d[0]/2;d=b*d[1]/2;b=Math.cos(c);c=Math.sin(c);g=[-g,-g,g,g];d=[-d,d,-d,d];var h,k,l;for(h=0;4>h;h+=1)k=g[h],l=d[h],g[h]=a[0]+k*b-l*c,d[h]=a[1]+k*c+l*b;return f.B.DM(g,d,e)};f.B.Bf=function(a){return a[3]-a[1]};f.B.Aba=function(a){return[a[2]-a[0],a[3]-a[1]]};f.B.Eba=function(a){return[a[0],a[3]]};f.B.Fba=function(a){return[a[2],a[3]]};f.B.Ef=function(a){return a[2]-a[0]};f.B.te=function(a,b){return a[0]<=b[2]&&a[2]>=b[0]&&a[1]<=b[3]&&a[3]>=b[1]};
  f.B.It=function(a){return a[2]<a[0]||a[3]<a[1]};f.B.normalize=function(a,b){return[(b[0]-a[0])/(a[2]-a[0]),(b[1]-a[1])/(a[3]-a[1])]};f.B.pda=function(a,b){var c=(a[2]-a[0])/2*(b-1),d=(a[3]-a[1])/2*(b-1);a[0]-=c;a[2]+=c;a[1]-=d;a[3]+=d};f.B.touches=function(a,b){return f.B.te(a,b)&&(a[0]===b[2]||a[2]===b[0]||a[1]===b[3]||a[3]===b[1])};f.B.transform=function(a,b,c){a=[a[0],a[1],a[0],a[3],a[2],a[1],a[2],a[3]];b(a,a,2);return f.B.DM([a[0],a[2],a[4],a[6]],[a[1],a[3],a[5],a[7]],c)};f.me.nb({C:function(){var a=f.me.prototype.C;return function(){a.apply(this,arguments);this.southwest=this.Ab;this.northeast=this.sb}}(),extend:function(){var a=f.me.prototype.extend;return function(){a.apply(this,arguments);this.Ab.lng=this.Ab.N;this.Ab.lat=this.Ab.Q;this.sb.lng=this.sb.N;this.sb.lat=this.sb.Q;return this}}()});f.U.nb({C:function(){var a=f.U.prototype.C;return function(){a.apply(this,arguments);this.lng=parseFloat(this.N.toFixed(6));this.lat=parseFloat(this.Q.toFixed(6))}}()});f.Uu=f.Y.extend({C:function(a,b,c,d){this.HH=a;this.SH=b;this.$H=c;this.uI=d},transform:function(a,b){return this.YL(a.Gb(),b)},YL:function(a,b){b=b||1;a.x=b*(this.HH*a.x+this.SH);a.y=b*(this.$H*a.y+this.uI);return a},x9:function(a,b){b=b||1;return new f.G((a.x/b-this.SH)/this.HH,(a.y/b-this.uI)/this.$H)}});f.$j=f.Y.extend({C:function(a){this.jz=a.MAX_LATITUDE||85.0511287798;a.project&&a.unproject&&(this.Pb=a.project,this.rg=a.unproject)}});f.$j.iH={Pb:function(a){return new f.G(a.N,a.Q)},rg:function(a,b){return new f.U(a.x,a.y,b)}};
  f.$j.gT=new f.$j({MAX_LATITUDE:85.0511287798,project:function(a){var b=Math.PI/180,c=this.jz,c=Math.max(Math.min(c,a.Q),-c);a=a.N*b;b=Math.log(Math.tan(Math.PI/4+c*b/2));return new f.G(a,b,!1)},unproject:function(a,b){var c=180/Math.PI;return new f.U(a.x*c,(2*Math.atan(Math.exp(a.y))-Math.PI/2)*c,b)}});
  f.$j.kH={jz:85.0840591556,pz:6356752.3142,oz:6378137,Pb:function(a){var b=Math.PI/180,c=this.jz,d=Math.max(Math.min(c,a.Q),-c),e=this.oz,c=this.pz;a=a.N*b*e;b*=d;e=c/e;e=Math.sqrt(1-e*e);d=e*Math.sin(b);d=Math.pow((1-d)/(1+d),0.5*e);b=Math.tan(0.5*(0.5*Math.PI-b))/d;b=-c*Math.log(b);return new f.G(a,b)},rg:function(a,b){for(var c=180/Math.PI,d=this.oz,e=this.pz,g=a.x*c/d,d=e/d,d=Math.sqrt(1-d*d),e=Math.exp(-a.y/e),h=Math.PI/2-2*Math.atan(e),k=15,l=0.1;1E-7<Math.abs(l)&&(k-=1,0<k);)l=d*Math.sin(h),
    l=Math.PI/2-2*Math.atan(e*Math.pow((1-l)/(1+l),0.5*d))-h,h+=l;return new f.U(g,h*c,b)}};f.yh={};f.yh.Ku={BE:function(a,b){var c=this.Dd.Pb(a),d=this.scale(b);return this.vu.YL(c,d)},rF:function(a,b,c){b=this.scale(b);a=this.vu.x9(a,b);return this.Dd.rg(a,c)},Pb:function(a){return this.Dd.Pb(a)},scale:function(a){return 256<<a},RD:function(a){return 12756274*Math.PI/(256*Math.pow(2,a))}};f.yh.zS=f.extend({},f.yh.Ku,{code:"EPSG:3857",Dd:f.$j.gT,vu:new f.Uu(0.5/Math.PI,0.5,-0.5/Math.PI,0.5),Pb:function(a){return this.Dd.Pb(a).Nc(6378137)}});
  f.yh.yS=f.extend({},f.yh.Ku,{code:"EPSG:3395",Dd:f.$j.kH,vu:function(){var a=f.$j.kH;return new f.Uu(0.5/(Math.PI*a.oz),0.5,-0.5/(Math.PI*a.pz),0.5)}()});f.yh.AS=f.extend({},f.yh.Ku,{code:"EPSG:4326",Dd:f.$j.iH,vu:new f.Uu(1/360,0.5,-1/360,0.25)});f.yh.z$=f.extend({},f.yh.Ku,{Dd:f.$j.iH,vu:new f.Uu(1,0,1,0)});f.tP={Pb:function(a,b){a=f.g.sa(a);return this.Xs.BE(a,b||this.get("zoom"))},rg:function(a,b,c){return this.Xs.rF(a,b||this.get("zoom"),c)},cca:function(a,b){return this.Pb(a,b)},eba:function(a,b){return this.rg(a,b)},Rl:function(a,b){var c=this.get("size").br().Rb(2);if(a.Ob(c))return this.get("center");c=this.re(a,b);return this.Xd(c)},Lk:function(a){a=this.Wb(a);return this.he(a)},h2:function(a){return this.Xd(a.Rb(this.get("resolution",20)))},Wb:function(a){a=f.g.sa(a);return this.Pb(a,20)},Xd:function(a){return a?
    this.rg(a,20):a},h5:function(a){a=f.g.sa(a);return this.Pb(a,20).Oa(f.g.Fe)},D3:function(a){return this.rg(a.add(f.g.Fe),20)},bca:function(a,b,c){a=f.g.sa(a);return this.Wb(a).Nc(c||this.get("resolution",20))},jba:function(a){return a?this.Pb(this.get("center"),a):this.get("centerPixel")}};var Ac=f.Y.extend({ia:[f.ga,f.Gd],F:{center:new f.U(116.397128,39.916527),zoom:13,rotation:0,crs:"EPSG3857"},C:function(a){this.CLASS_NAME="AMap.View2D";f.e.hb("AMap.View2D",a);a=a||{};a.center&&(a.center=f.g.sa(a.center));this.F=a}});var Kc=f.Y.extend({ia:[f.ga,f.Gd,f.tP],F:{features:"all",dragEnable:!0,showIndoorMap:f.l.W?!1:!0,lang:"zh_cn",keyboardEnable:!0,doubleClickZoom:!0,"3rdpartyDataEnable":!1,scrollWheel:!0,zoomEnable:!0,jogEnable:!0,continuousZoomEnable:!0,resizeEnable:!1,animateEnable:!0,rotateEnable:!1,labelzIndex:99,touchZoom:!0,zooms:[3,f.l.W?f.l.Oc?19:20:18],defaultCursor:"url(//" + mapApiHost + "/theme/openhand.cur),default",limitBounds:null,logoUrl:f.r.Fb+"/theme/v1.3/autonavi.png",logoUrlRetina:f.r.Fb+"/theme/v1.3/mapinfo_05.png",
    copyright:"\x3c!--v1.4.0--\x3e &copy "+(new Date).getFullYear()+" AutoNavi ",isHotspot:!f.l.W,baseRender:f.l.c1,overlayRender:f.l.k6,mapStyle:"normal",showBuildingBlock:f.l.Oe,crs:"EPSG3857",rotation:0,pitch:0,yaw:0,scale:1,center:new f.U(116.397128,39.916527),zoom:13,detectRetina:!0,pitchEnable:!1,buildingAnimation:!f.l.W,maxPitch:83},poiOnAMAP:function(a){f.e.add(this.CLASS_NAME,"poiOnAMAP");var b={},c=f.g.sa(a.location);b.id=a.id;c&&(b.y=c.Q,b.x=c.N);b.name=a.name;b.address=a.address;f.mf.Jm(f.mf.gO(b))},
    detailOnAMAP:function(a){f.e.add(this.CLASS_NAME,"detailOnAMAP");var b={},c=f.g.sa(a.location);b.id=a.id;c&&(b.y=c.Q,b.x=c.N);b.name=a.name;f.mf.Jm(f.mf.eO(b))},setLabelzIndex:function(a){return this.set("labelzIndex",a)},getLabelzIndex:function(){return this.get("labelzIndex",null,!0)},setMapStyle:function(a){f.e.add(this.CLASS_NAME,"setMapStyle",a);-1===a.indexOf("amap://styles/")?(this.set("styleUrl","",!0),this.set("mapStyle",a)):this.set("styleUrl",a);this.IE()},getMapStyle:function(){f.e.add(this.CLASS_NAME,
      "getMapStyle");return this.get("styleUrl")||this.get("mapStyle",null,!0)},getFeatures:function(){f.e.add(this.CLASS_NAME,"getFeatures");return this.get("features",null,!0)},setFeatures:function(a){f.e.add(this.CLASS_NAME,"setFeatures");this.set("features",a)},setLang:function(a){f.e.add(this.CLASS_NAME,"setLang",a);"en"!==a&&"zh_cn"!==a&&"zh_en"!==a||a===this.getLang()||(this.set("lang",a),this.Gj&&this.Gj.RQ(this))},getLang:function(){f.e.add(this.CLASS_NAME,"getLang");return this.get("lang",null,
      !0)},setCity:function(a,b){f.e.add(this.CLASS_NAME,"setCity");var c=this;(new f.Aa.Pa(f.r.xc+"/v3/config/district?subdistrict=0&extensions=all&key="+f.r.key+"&s=rsv3&output=json&keywords="+a,{callback:"callback"})).h("complete",function(a){if((a=a.districts)&&a.length)try{var e=a[0].center.split(","),g;switch(a[0].level){case "city":g=10;break;case "province":g=7;break;case "district":g=12;break;case "country":g=4;break;default:g=12}-1!==a[0].name.indexOf("\u5e02")&&(g=10);c.setZoomAndCenter(g,new f.U(e[0],
      e[1]),!0);b&&b.call(c,e,g)}catch(h){}},this)},getCity:function(a,b){f.e.add(this.CLASS_NAME,"getCity");var c=f.r.xc+"/v3/geocode/regeo?&extensions=&&key="+f.r.key+"&s=rsv3&output=json&location="+(b||this.get("center",null,!0));(new f.Aa.Pa(c,{callback:"callback"})).h("complete",function(b){b=b.regeocode.addressComponent;a({province:b.province,city:b.city instanceof Array?"":b.city,citycode:b.citycode instanceof Array?"":b.citycode,district:b.district instanceof Array?"":b.district})},this)},C:function(a,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 b){this.id=f.g.Bb(this);this.CLASS_NAME="AMap.Map";f.e.hb("AMap.Map",b);b=b||{};b.mapStyle&&-1!==b.mapStyle.indexOf("amap://styles/")&&(b.styleUrl=b.mapStyle,delete b.mapStyle);b.bgColor&&f.extend(f.r.bd,b.bgColor);b.maxPitch&&(b.maxPitch=Math.min(this.F.maxPitch,Math.max(b.maxPitch,0)));b.pitch&&(b.pitch=Math.min(b.maxPitch||this.F.maxPitch,Math.max(b.pitch,0)));f.r.Rw=b.buildingColor||null;b.mobile&&(f.l.W=!0);b.noPoi&&(f.r.L5=!0);b.editEnable&&(b.nolimg=1,b.showIndoorMap=!1);"3D"===b.viewMode&&
    f.l.sk&&(b.showIndoorMap=!1,b.showBuildingBlock=b.showBuildingBlock||!0);this.lm=b.disableSocket?!1:f.l.lm;b.server&&(f.r.xc=b.server);b.vdataUrl&&(f.r.Cu=b.vdataUrl);if("string"===typeof a){if(a=this.H=document.getElementById(a),!a)return}else"DIV"===a.tagName&&(this.H=a);this.H.Jz&&this.H.Jz.destroy();f.Fd.$d.start({id:this.id,H:this.H});this.H.Jz=this;var c=this.F.zooms[1],d=this.F.zooms[0];b.zooms?(b.zooms[0]=Math.max(d,b.zooms[0]),!0===b.expandZoomRange&&(c=f.l.W?f.l.Oc?19:20:20),b.zooms[1]=
      Math.min(c,b.zooms[1])):b.zooms=[d,c];b.forceZooms&&(b.zooms=b.forceZooms);b=this.y1(b);c=this.getSize();b.center&&(b.center=f.g.sa(b.center));this.Xs=this.q2(b.crs||this.F.crs,b.center||this.F.center);this.Y0(c,b);d=b.lang;"en"!==d&&"zh_cn"!==d&&"zh_en"!==d&&(b.lang="zh_cn");f.l.Jd&&(b.rotateEnable=!1);f.g.rb(this,b);this.jf(this.F);"rotateEnable"in b||"3D"!==b.viewMode||!f.l.sk||this.set("rotateEnable",!0);"pitchEnable"in b||"3D"!==b.viewMode||!f.l.sk||this.set("pitchEnable",!0);b.forceVector&&
    (f.l.Oe?this.set("baseRender","vw"):this.set("baseRender","v"));b.disableVector&&this.set("baseRender","d");"dom"===b.renderer&&(this.set("baseRender","d"),this.set("overlayRender","d"));b.baseRender&&this.set("baseRender",b.baseRender);c=Math.max(c.width,c.height);f.l.ca&&(c*=Math.min(2,window.devicePixelRatio||1));"vw"===this.get("baseRender")&&c>f.l.u5&&this.set("baseRender","dv");c=this.get("zoom",null,!0);d=this.get("zooms");c>d[1]?c=d[1]:c<d[0]&&(c=d[0]);this.set("zoom",c);this.F.zoom=c;this.r2(this.F);
      this.EC();f.l.Ht&&this.D0();var e=this;this.jf({overlays:[],infos:{},controls:{}});c=[];b.forceVector&&(c.push("vectorlayer"),c.push("overlay"));b.editEnable&&(c.push("edit"),c.push("labelDir"));"3D"===b.viewMode&&f.l.sk&&c.push("Map3D");this.ca=f.l.ca&&this.get("detectRetina");f.$a.Ff(c,function(){if(!e.get("destroy")){var b=new f.yc(a,e);b.td("zoom center centerCoords rotation yaw pitch resolution".split(" "),e.view,!0);b.h("complete",function(){this.w("complete")},e,!0);b.Xs=e.Xs;e.td(["zoomSlow",
        "panTo","targetLevel","render"],b);b.td(["size","bounds"],e);e.loaded=!0;e.w("coreMapCreated")}})},getViewMode_:function(){return this.view.type},H3:function(a,b,c){var d=new f.U(a[4],a[5]);if((a=new f.me(a[0],a[1],a[2],a[3]))&&b&&d){for(var e=c[1];e>c[0];e-=1){var g=this.Pb(a.Ab,e),h=this.Pb(a.sb,e);if(Math.abs(h.x-g.x)<b.width&&Math.abs(g.y-h.y)<b.height)break}return[d,Math.min(e+1,c[1])]}return null},Y0:function(a,b){if(!(b&&b.center&&b.zoom)){var c=this.H3(f.r.ud,a,b.zooms);b.center=b.center||
      c&&c[0];"number"!==typeof b.zoom&&(b.zoom=c&&c[1])}},q2:function(a,b){if(b instanceof f.U){if("string"===typeof a){switch(a){case "EPSG3395":return f.yh.yS;case "EPSG4326":return f.yh.AS}return f.yh.zS}if(a.pointToLngLat&&a.lngLatToPoint)return{rF:a.pointToLngLat,BE:a.lngLatToPoint,RD:a.getResolution};throw"illegal projection";}var c=this.get("zoom",null,!0);return{RD:function(a){return Math.pow(2,c-a)},BE:function(){},rF:function(){}}},p8:function(a,b){var c=["pitch","rotation","zoom","center"],
      d={},e=!1,g;for(g in a)if(a.hasOwnProperty(g)&&-1!==f.g.indexOf(c,g)){var h=this.get(g);void 0===h||h===a[g]||h.Ob&&h.Ob(a[g])||(d[g]=this.get(g),e=!0)}e&&(this.Vu=new f.xh(d,a,null,0),this.Vu.transition=function(a,c,e){e/=b||300;if(1<=e)return c;var g={},h;for(h in d)d.hasOwnProperty(h)&&(g[h]="center"===h?a[h].add(c[h].Oa(a[h]).Nc(e)):a[h]+(c[h]-a[h])*e);return g},this.Vu.zm=function(b){b===a&&(this.Vu.stop(),this.fc=null);for(var c in b)b.hasOwnProperty(c)&&("center"===c?this.setCenter(b[c],!0):
      this.set(c,b[c]))},this.Vu.Rj(this))},r2:function(a){"3D"===this.get("viewMode")&&f.l.sk?(this.set("baseRender","vw"),this.view=new f.tT(this,a)):this.view=new f.sT(this,a);this.IO()},IO:function(){this.jh="d"<this.get("baseRender")||"3D"===this.view.type},featuresChanged:function(){this.EC()},IE:function(){this.EC();this.WF()},WF:function(){if(this.Ni){var a=!0,b=this.getMapStyle();if(!1===this.get("showIndoorMap")||"normal"!==b&&"amap://styles/normal"!==b)a=!1;var b=this.getLayers(),c;for(c in b)"AMap.IndoorMap"===
    b[c].CLASS_NAME&&b[c]!==this.Ni&&(a=!1);this.Ni.getMap()!==this&&this.Ni.setMap(this);this.Ni.set("visible",a)}},EC:function(){if(this.view&&"3D"!==this.view.type){var a=this.get("baseRender");if(a&&!("dv"<a)){var b=this.get("features",null,!0),c=this.getMapStyle(),d=this.get("editEnable");b&&c&&(f.l.Tw&&(d||"all"!==b||"normal"!==c&&"amap://styles/normal"!==c)?(this.set("baseRender","v"),this.fF=a):this.fF&&(this.set("baseRender",this.fF),this.fF=null));this.IO()}}},D0:function(){var a=this;AMap.plugin(["AMap.IndoorMap"],
      function(){!a.Ni&&a.H&&(a.indoorMap=a.Ni=new AMap.IndoorMap({innerLayer:!0,map:a}),a.WF(),f.g.ec(function(){a.w("indoor_create",{target:a});a.set("display")}))})},layersChanged:function(){var a=this.getLayers();this.Qx=!1;for(var b=0;b<a.length;b+=1)a[b].getMap()!==this&&a[b].setMap(this),a[b].Qx&&(this.Qx=!0);this.WF()},getMapNumber:function(){if(this.map)return this.map.du()},getAdcode:function(){f.e.add(this.CLASS_NAME,"getAdcode");return f.r.B0},y1:function(a){a||(a={});if(a.hasOwnProperty("defaultLayer")){a.layers=
      [a.defaultLayer];var b=a.defaultLayer;b.nC=!0;this.set("defaultLayer",b,!0)}a.layers&&0!==a.layers.length||(b=new Bc,a.layers=[b],b.nC=!0,this.set("defaultLayer",b,!0));if(b=a.view)b.F.rotation&&(a.rotation=b.F.rotation),b.F.center&&(a.center=b.F.center),b.F.zoom&&(a.zoom=Math.max(a.zooms[0],Math.min(a.zooms[1],b.F.zoom))),b.F.crs&&(a.crs=b.F.crs);a.level&&!a.zoom&&(a.zoom=a.level);return a},setLimitBounds:function(a){f.e.add(this.CLASS_NAME,"setLimitBounds");a instanceof f.me||(a=null);this.set("limitBounds",
      a)},clearLimitBounds:function(){f.e.add(this.CLASS_NAME,"clearLimitBounds");this.set("limitBounds",null)},getLimitBounds:function(){f.e.add(this.CLASS_NAME,"getLimitBounds");return this.get("limitBounds",null,!0)},nM:function(a){var b=this.get("layers");0<=f.g.indexOf(b,a)||(b.push(a),this.set("layers",b))},qM:function(a){var b=this.get("overlays");0<=f.g.indexOf(b,a)||(a instanceof Cc?(this.get("overlays").push(a),this.$w instanceof Cc&&this.$w.close(),this.$w=a,this.set("contextmenu",a,!0)):(a instanceof
    Dc&&(this.Hj instanceof Dc&&this.ny(this.Hj),this.Hj=a),this.get("overlays").push(a)),this.w("overlays"))},Kq:function(a){var b=this.get("layers");a=f.g.indexOf(b,a);-1!==a&&this.set("layers",f.g.zk(b,a))},ny:function(a){var b=this.get("overlays");this.set("overlays",f.g.zk(b,f.g.indexOf(b,a)))},setZoom:function(a,b){f.e.add(this.CLASS_NAME,"setZoom");a=this.uD(a);var c=this.get("zooms");a>c[1]&&(a=c[1]);a<c[0]&&(a=c[0]);this.get("zoomEnable")&&(b||!this.loaded?(this.set("zoom",a),this.w("zoomstart"),
      this.w("zoomchange"),this.w("zoomend")):this.set("zoomSlow",a))},getZoom:function(){f.e.add(this.CLASS_NAME,"getZoom");return this.uD(this.get("targetLevel")||this.get("zoom",null,!0))},getCenter:function(){f.e.add(this.CLASS_NAME,"getCenter");return this.get("center",null,!0)},setCenter:function(a,b){f.e.add(this.CLASS_NAME,"setCenter");a=f.g.sa(a);b||!this.loaded?(this.w("movestart"),this.set("center",a),this.w("mapmove"),this.map?this.map.w("moveend"):this.w("moveend")):this.panTo(a)},getCoordsBound:function(){return this.view.Ii()},
    setRotation:function(a){f.e.add(this.CLASS_NAME,"setRotation");!f.l.Jd&&this.get("rotateEnable")&&this.set("rotation",a)},getRotation:function(){f.e.add(this.CLASS_NAME,"getRotation");return this.get("rotateEnable")&&this.get("rotation")||0},setPitch:function(a){a=Math.min(this.get("maxPitch"),Math.max(a,0));f.e.add(this.CLASS_NAME,"setRotation");!f.l.Jd&&this.get("pitchEnable")&&this.set("pitch",a)},getPitch:function(){f.e.add(this.CLASS_NAME,"getRotation");return this.get("pitchEnable")&&this.get("pitch")||
      0},getBounds:function(){f.e.add(this.CLASS_NAME,"getBounds");return this.view.oc()},getStatus:function(){f.e.add(this.CLASS_NAME,"getStatus");for(var a="isHotspot dragEnable zoomEnable keyboardEnable jogEnable doubleClickZoom scrollWheel resizeEnable touchZoom rotateEnable animateEnable".split(" "),b={},c=0;c<a.length;c+=1)b[a[c]]=this.get(a[c],null,!0);return b},setStatus:function(a){f.e.add(this.CLASS_NAME,"setStatus");for(var b in a)a.hasOwnProperty(b)&&-1!=="isHotspot,dragEnable,keyboardEnable,doubleClickZoom,scrollWheel,zoomEnable,jogEnable,continuousZoomEnable,resizeEnable,animateEnable,rotateEnable,touchZoom".indexOf(b)&&
    this.set(b,a[b])},getResolution:function(a){f.e.add(this.CLASS_NAME,"getResolution");a=(a=f.g.sa(a))?a.Q:this.get("center",null,!0).Q;return this.get("resolution")*Math.cos(a*Math.PI/180)},getScale:function(a){f.e.add(this.CLASS_NAME,"getScale");return this.getResolution()*(a||96)/0.0254},getDefaultCursor:function(){f.e.add(this.CLASS_NAME,"getDefaultCursor");return this.get("defaultCursor",null,!0)},setDefaultCursor:function(a){f.e.add(this.CLASS_NAME,"setDefaultCursor");return this.set("defaultCursor",
      a,!0)},zoomIn:function(a){f.e.add(this.CLASS_NAME,"zoomIn");this.setZoom(this.getZoom()+1,a)},zoomOut:function(a){f.e.add(this.CLASS_NAME,"zoomOut");this.setZoom(this.getZoom()-1,a)},uD:function(a){return this.view&&"3D"===this.view.type?f.g.cf(a,4):Math.round(a)},setZoomAndCenter:function(a,b,c){f.e.add(this.CLASS_NAME,"setZoomAndCenter");b=f.g.sa(b);a=this.uD(a);var d=this.get("zooms");a>d[1]&&(a=d[1]);a<d[0]&&(a=d[0]);this.loaded?this.set("zoomAndCenter",[a,b,c]):(this.setZoom(a,!0),this.setCenter(b,
      !0))},clearMap:function(){f.e.add(this.CLASS_NAME,"clearMap");for(var a=this.get("overlays"),b=0;b<a.length;b+=1)a[b].set("map",null,!0);this.set("overlays",[]);if(this.map&&this.map.Ma)for(var a=this.map.Ma,c=a.length,b=0;b<c;b+=1)a[b].Qa instanceof Ec&&a[b].Qa.setMap(null)},destroy:function(){f.e.add(this.CLASS_NAME,"destroy");this.Ni&&(this.Ni.setMap(),this.indoorMap=this.Ni=null);this.set("overlays",[]);this.set("layers",[]);var a=this.get("controls");a.remove=[];for(var b in a.Mc)a.Mc.hasOwnProperty(b)&&
    a.remove.push(a.Mc[b]);a.Mc=[];a.add=[];this.set("controls",a);this.set("destroy",!0);this.Ja=!1;this.Mm();this.H=null},addControl:function(a){f.e.add(this.CLASS_NAME,"addControl");var b=f.g.Bb(a),c=this.get("controls")||{};c.Mc=c.Mc||{};c.Mc[b]||(c.Mc[b]=a);c.add=c.add||[];c.add.push(a);this.set("controls",c)},removeControl:function(a){f.e.add(this.CLASS_NAME,"removeControl");var b=f.g.Bb(a),c=this.get("controls")||{};c.Mc=c.Mc||{};c.Mc[b]&&delete c.Mc[b];c.remove=c.remove||[];c.remove.push(a);this.set("controls",
      c)},clearControl:function(){f.e.add(this.CLASS_NAME,"clearControl");var a=this.get("controls")||{};a.remove=a.remove||[];a.Mc=a.Mc||{};for(var b in a.Mc)a.Mc.hasOwnProperty(b)&&(a.remove.push(a.Mc[b]),delete a.Mc[b]);this.set("controls",a)},plugin:function(a,b){"string"===typeof a&&(a=[a]);for(var c=0;c<a.length;c+=1){var d=a[c].split(".");"function"===typeof window[d[0]][d[1]]&&(a.splice(c,1),c-=1)}if(0===a.length)return b(),this;for(var e=a.length,c=0;c<a.length;c+=1)f.$a.load(a[c],function(){e-=
      1;0===e&&b()});return this},clearInfoWindow:function(){f.e.add(this.CLASS_NAME,"clearInfoWindow");var a=this.get("overlays");a&&0!==a.length&&this.Hj&&this.Hj.close()},remove:function(a){f.e.add(this.CLASS_NAME,"remove");a instanceof Array||(a=[a]);for(var b=0;b<a.length;b+=1){var c=a[b];c.getMap&&c.getMap()===this&&(c.close?c.close():c.setMap&&c.setMap(null))}},add:function(a){f.e.add(this.CLASS_NAME,"add");a instanceof Array||(a=[a]);for(var b=0;b<a.length;b+=1){var c=a[b];c.getMap&&c.getMap()!==
    this&&!c.open&&c.setMap&&c.setMap(this)}},getAllOverlays:function(a,b){f.e.add(this.CLASS_NAME,"getAllOverlays");var c=this.get("overlays"),d;if(a)switch(a){case "marker":d=Fc;break;case "circle":d=Gc;break;case "polyline":d=Hc;break;case "polygon":d=Ic}if(d){for(var e=[],g=0;g<c.length;g+=1)c[g]instanceof d&&(b||!c[g].ma&&!c[g].isOfficial)&&e.push(c[g]);return e}if(!b){e=[];for(g=0;g<c.length;g+=1)c[g].ma||c[g].isOfficial||e.push(c[g]);c=e}d=this.get("layers");e=[];if(d)for(var g=0,h=d.length;g<
    h;g+=1)d[g]instanceof Ec&&e.push(d[g]);return c.concat(e)},triggerResize:function(){this.map&&this.map.GB()},refreshSize:function(){this.fv=this.J3()},J3:function(){return f.f.ON(this.H)},getSize:function(){f.e.add(this.CLASS_NAME,"getSize");(!this.fv||10>this.fv.width*this.fv.height)&&this.refreshSize();return this.fv},getContainer:function(){f.e.add(this.CLASS_NAME,"getContainer");return this.H},panTo:function(a){f.e.add(this.CLASS_NAME,"panTo");a=f.g.sa(a);this.loaded?this.set("panTo",a):this.setCenter(a)},
    panBy:function(a,b,c){f.e.add(this.CLASS_NAME,"panBy");var d=this.get("rotation")*Math.PI/180,e=a*Math.cos(d)+Math.sin(d)*b;a=-Math.sin(d)*a+Math.cos(d)*b;b=this.loaded&&this.map&&this.map.fc?this.map.fc.JR:this.get("centerCoords");d=Math.pow(2,20-this.getZoom());e=b.add(new f.G(-e*d,-a*d));e=this.Xd(e);!this.loaded||c?this.setCenter(e):this.set("panTo",e)},setFitView:function(a,b,c,d){f.e.add(this.CLASS_NAME,"setFitView");if(a=this.bO(a)){if(c=this.px(a,0,new f.G(40,40),c,d))b=b||!this.getBounds().contains(a.jg())||
      f.l.W&&1<Math.abs(c[0]+this.get("zoom",null,!0)),this.setZoomAndCenter(c[0],c[1],b);return a}},bO:function(a){if(a)if(a instanceof Jc)a=[a];else{if(!(a instanceof Array))return null}else a=this.getAllOverlays();if(a){for(var b,c=0;c<a.length;c+=1){var d=a[c];!d.get("visible")||d instanceof Dc||d instanceof Cc||(d=d.getBounds())&&(b=b?d.v9(b):d)}return b}},setBounds:function(a,b,c,d,e,g){f.e.add(this.CLASS_NAME,"setBounds");c=this.px(a,b,c,e,g);d=d||!this.getBounds().contains(a.jg())||f.l.W&&1<Math.abs(c[0]+
        b-this.get("zoom",null,!0));this.setZoomAndCenter(c[0],c[1],d);return a},SN:function(a,b,c,d,e){a=this.bO(a);return this.px(a,b,c,d,e)},px:function(a,b,c,d,e){b=b?Number(b):0;var g=this.WP||this.get("zooms")[1];e=this.getSize().br();var h=0,k=0;if(d){var k=d[0],l=d[1],h=d[2];d=d[3];e.x-=h+d;e.y-=k+l;h=(h-d)/2;k=(k-l)/2}d=this.get("zooms");for(c&&(e=e.Oa(c));g>d[0]&&!(c=this.Pb(a.Ab,g),l=this.Pb(a.sb,g),a.Ab.N>a.sb.N&&(l.x+=this.Pb(new f.U(180,0),g).x),Math.abs(l.x-c.x)<e.x&&Math.abs(c.y-l.y)<e.y);g-=
      1);e=f.l.W?17:18;b=Math.min(d[1],e,Math.max(d[0],g+b));a=this.rg(this.Pb(a.jg(),b).Oa(new f.G(h,k)),b);return[b,a]},setLayers:function(a){f.e.add(this.CLASS_NAME,"setLayers");for(var b=0;b<a.length;b+=1)a[b].set("map",this,!0);this.set("layers",a)},getLayers:function(){f.e.add(this.CLASS_NAME,"getLayers");return this.get("layers",null,!0)},getDefaultLayer:function(){f.e.add(this.CLASS_NAME,"getDefaultLayer");return this.get("defaultLayer",null,!0)},setDefaultLayer:function(a){f.e.add(this.CLASS_NAME,
      "setDefaultLayer");a.nC=!0;var b=this.get("defaultLayer"),c=this.get("layers");if(b){if(a===b)return;b.nC=!1;c=f.g.zk(c,f.g.indexOf(c,b))}this.set("defaultLayer",a,!0);c.push(a);this.setLayers(c)},pixelToLngLat:function(a,b){f.e.add(this.CLASS_NAME,"pixelToLngLat");return this.rg(a,b)},lnglatToPixel:function(a,b){f.e.add(this.CLASS_NAME,"lnglatToPixel");return this.Pb(a,b)},drawPolyline:function(a){f.e.add(this.CLASS_NAME,"drawPolyline");this.set("draw","polyline");this.set("drawStyle",a||{strokeColor:"#006600",
        Ka:0.9})},drawPolygon:function(a){f.e.add(this.CLASS_NAME,"drawPolygon");this.set("draw","polygon");this.set("drawStyle",a||{strokeColor:"#006600",Ka:0.9,fillColor:"#FFAA00",Cc:0.9})},drawCircle:function(a){f.e.add(this.CLASS_NAME,"drawCircle");this.set("draw","circle");this.set("drawStyle",a||{strokeColor:"#006600",Ka:0.9,fillColor:"#006600",Cc:0.9})},ux:function(){return this.view.ux()},endDraw:function(){this.set("draw",null)},isGoogleTileVisible:function(){return this.map&&this.map.KA()},he:function(a,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     b){return this.view.he(a,b)},re:function(a,b){return this.view.re(a,b)}});Kc.$p({h5:"lngLatToGeodeticCoord",D3:"geodeticCoordToLngLat",px:"getFitZoomAndCenterByBounds",SN:"getFitZoomAndCenterByOverlays",Lk:"lnglatTocontainer",lnglatTocontainer:"lngLatToContainer",Rl:"containTolnglat",containTolnglat:"containerToLngLat",Wb:"lngLatToP20",Xd:"p20ToLngLat",he:"p20ToContainer",re:"containerToP20",Pb:"project",rg:"unproject"});Kc.nb({isHotspotChanged:function(){if("undefined"!==typeof this.ut&&(this.Q1(),this.get("isHotspot"))){var a=this.get("layers",null,!0);a&&a.length&&!this.ut&&this.Qx&&this.e6()}},e6:function(){if(this.Gj)this.GO();else{var a=this;this.plugin("AMap.HotSpot",function(){if(!a.ut){if(!a.Gj){var b=new f.nf;new Dc;a.Gj=b}a.GO()}})}},Q1:function(){this.Gj&&this.B4()},TP:function(a){a.type="hotspotover";a.isIndoorPOI=!1;this.w("hotspotover",a)},RP:function(a){a.type="hotspotclick";a.isIndoorPOI=!1;this.w("hotspotclick",
    a)},SP:function(a){a.type="hotspotout";a.isIndoorPOI=!1;this.w("hotspotout",a)},GO:function(){var a=this.Gj;this.Gj.setMap(this);a.h("mouseover",this.TP,this);a.h("click",this.RP,this);a.h("mouseout",this.SP,this)},B4:function(){var a=this.Gj;a.D("mouseover",this.TP,this);a.D("click",this.RP,this);a.D("mouseout",this.SP,this);this.Gj.setMap(null);this.Gj=null}});var W={R:function(a,b,c,d){f.e.add("AMap.event","addDomListener");f.A.h(a,b,c,d);return new f.Mu(0,a,b,c,d)},E0:function(){},addListener:function(a,b,c,d){f.e.add("AMap.event","addListener");a.lg||(a.lg=f.ga.lg);f.ga.h.call(a,b,c,d);return new f.Mu(1,a,b,c,d)},oM:function(a,b,c,d){f.e.add("AMap.event","addListenerOnce");a.lg||(a.lg=f.ga.lg);f.ga.h.call(a,b,c,d,!0);return new f.Mu(1,a,b,c,d)},YM:function(a){f.ga.wk.call(a)},Vw:function(a,b){f.ga.wk.call(a,b)},removeListener:function(a){f.e.add("AMap.event",
    "removeListener");a instanceof f.Mu&&(0===a.type?f.A.D(a.im,a.wN,a.AO,a.Af):1===a.type&&(a.im.lg||(a.im.lg=f.ga.lg),f.ga.D.call(a.im,a.wN,a.AO,a.Af)))},J:function(a,b){f.e.add("AMap.event","trigger");a.lg||(a.lg=f.ga.lg);var c=Array.prototype.slice.call(arguments,1);f.ga.w.apply(a,c)}};f.Mu=f.Y.extend({C:function(a,b,c,d,e){this.type=a;this.im=b;this.wN=c;this.AO=d;this.Af=e}});
  var Lc={R:"addDomListener",E0:"addDomListenerOnce",addListener:"addListener",oM:"addListenerOnce",YM:"clearInstanceListeners",Vw:"clearListeners",removeListener:"removeListener",J:"trigger"},Mc;for(Mc in Lc)Lc.hasOwnProperty(Mc)&&(W[Lc[Mc]]=W[Mc]);f.event=W;f.event.R(window,"beforeunload",f.e.send);var Nc=f.Y.extend({ia:[f.ga,f.Gd],C:function(a){this.CLASS_NAME="AMap.Layer";f.g.rb(this,a);this.jf(this.F)},getContainer:function(){if(this.S&&this.S.L)return this.S.L.kg()},getZooms:function(){f.e.add(this.CLASS_NAME,"getZooms");return this.get("zooms",null,!0)},setOpacity:function(a){f.e.add(this.CLASS_NAME,"setOpacity");a!==this.get("opacity",null,!0)&&this.set("opacity",a)},getOpacity:function(){return this.get("opacity",null,!0)},show:function(){f.e.add(this.CLASS_NAME,"show");this.set("visible",
    !0);this.wm&&this.S.j.layersChanged()},hide:function(){f.e.add(this.CLASS_NAME,"hide");this.set("visible",!1);this.wm&&this.S.j.layersChanged()},setMap:function(a){f.e.add(this.CLASS_NAME,"setMap");var b=this.get("map");a?(b&&a!==b&&b.Kq(this),this.set("map",a)):b&&(b.Kq(this),this.set("map",null,!0),this.Ci=!1,this.If&&this.If())},getMap:function(){f.e.add(this.CLASS_NAME,"getMap");return this.get("map",null,!0)},mapChanged:function(){this.get("map")&&this.get("map").nM(this)},setzIndex:function(a){f.e.add(this.CLASS_NAME,
    "setzIndex");this.set("zIndex",a)},getzIndex:function(){return this.get("zIndex",null,!0)}});var Bc=Nc.extend({F:{tileSize:256,visible:!0,opacity:1,zIndex:0,noLimg:1,zooms:[3,20],getTileUrl:f.l.W?f.r.uu:f.r.Rt,errorUrl:f.g.k3,detectRetina:!0,className:"amap-layer",mapNumber:""},C:function(a){f.e.hb("AMap.TileLayer",a);(a=a||{})&&a.tileUrl&&(a.getTileUrl=a.tileUrl);this.E1(a);var b=a.zooms;b&&b[1]>=this.nh[0]?(b[0]<this.nh[0]&&(b[0]=this.nh[0]),b[1]>this.nh[1]&&(b[1]=this.nh[1])):a.zooms=[this.nh[0],this.nh[1]];arguments.callee.Ba.call(this,a);this.CLASS_NAME="AMap.TileLayer"},setTextIndex:function(a){f.e.add(this.CLASS_NAME,
    "setTextIndex");this.set("textIndex",a)},pE:function(){var a=this.get("getTileUrl");return a!==f.r.Rt&&a!==f.r.uu?!1:!0},FC:function(){if(!this.pE())return!1;var a=this.get("map");return a&&a.jh&&"zh_cn"===a.get("lang")&&!this.noVector?!0:!1},ah:function(a){var b=this.get("map");this.pE()&&(this.FC()?this.set("mapNumber","GS(2016)710"):this.set("mapNumber","GS(2015)2681"));if(this.FC())if(this.wm=!0,f.S.hi){var c=f.r.Lx;f.l.ca&&this.get("detectRetina")&&
  (c=f.r.Lx.replace("scl=1","scl=2"));var d=b.get("showBuildingBlock");d||(c=c.replace("ltype=3","ltype=11"));c=new f.S.of(this,a,this.Wr(c),void 0,!0);d&&(c.$h=new f.S.Hc(new Bc({zooms:[16,20],innerLayer:"true"}),a,["building"]),c.$h.type="\u697c\u5757\u56fe\u5c42",c.$h.td(["visible","opacity","zIndex"],c,!0),c.$h.Qs(b.get("mapStyle")||"normal"));c.type="\u6805\u683c\u5e95\u56fe";return c}else return["vectorlayer","overlay"];else return this.wm=!1,new f.S.of(this,a,null,this.F.maxDataZoom)},getTileUrlChanged:function(){var a=this.get("getTileUrl");if(a===f.r.Rt||a===f.r.uu||a===
    f.r.uy)this.Qx=!0;"string"===typeof a&&(a=this.Wr(a));this.set("tileFun",a)},E1:function(a){this.nh||(this.nh=[this.F.zooms[0],this.F.zooms[1]]);var b;a.hasOwnProperty("detectRetina")&&!1===a.detectRetina&&(b=!0);f.l.W&&f.l.ca&&this.F.detectRetina&&!b&&(this.nh[1]-=1)},getTiles:function(){f.e.add(this.CLASS_NAME,"getTiles");var a=this.get("tiles",null,!0);if(a&&a.length)a=a[0];else return[];for(var b=[],c,d=0;d<a.length;d+=1)a[d].key&&(c=a[d].key.split("/"),b.push(""+c[1]+","+c[2]));return b},reload:function(){f.e.add(this.CLASS_NAME,
    "reload");this.set("reload",1)},Em:function(){var a=this.get("map",null,!0);this.setMap(null);this.Ci=!1;this.setMap(a)},setTileUrl:function(a){f.e.add(this.CLASS_NAME,"setTileUrl");this.FC()?(this.set("getTileUrl",a),this.Em()):this.set("getTileUrl",a)},Wr:function(a){var b=this,c,d,e;return function(g,h,k){g=(g+Math.pow(2,k))%Math.pow(2,k);if("number"!==typeof(g+h+k))return null;var l=b.get("map"),m="zh_cn";l&&(m=l.get("lang")||"zh_cn");k=a.replace("[x]",g).replace("[y]",h).replace("[z]",k).replace("[lang]",
    m);if(!c){if(d=a.match(/\{.*\}/))e=d.toString().replace("{","").replace("}",""),e=e.split(",");c=!0}e&&e.length&&(k=k.replace(d,e[Math.abs(g+h)%e.length]));return k}},getTileUrl:function(a,b,c){f.e.add(this.CLASS_NAME,"getTileUrl");return this.get("tileFun",null,!0)(a,b,c)},getZooms:function(){f.e.add(this.CLASS_NAME,"getZooms");return this.get("zooms",null,!0)}});
  Bc.cz=Bc.extend({F:{getTileUrl:function(a,b,c){var d="zh_cn";if(this&&this.get){var e=this.get("map");e&&(d=e.get("lang")||"zh_cn")}return"http://grid.amap.com/grid/"+c+"/"+a+"/"+b+"?src=jsapi&key="+f.r.key+"&lang="+d+"&dpiType="+(f.l.Oc?"wprd":"webrd")},zooms:[10,18],zIndex:2},C:function(a){arguments.callee.Ba.apply(this,arguments)}});
  Bc.pH=Bc.extend({F:{getTileUrl:f.r.MF,zooms:[3,20],zIndex:2,maxDataZoom:18,detectRetina:!1,mapNumber:"GS(2017)154",className:"amap-layer amap-satellite"},C:function(a){this.nh=[3,20];arguments.callee.Ba.apply(this,arguments);this.CLASS_NAME="AMap.TileLayer.Satellite";f.e.hb(this.CLASS_NAME,a)}});
  Bc.nH=Bc.extend({F:{getTileUrl:f.r.uy,zooms:[3,20],zIndex:3,type:"overlayer",maxDataZoom:18,className:"amap-layer amap-roadnet"},C:function(a){this.nh=[3,20];arguments.callee.Ba.apply(this,arguments);this.CLASS_NAME="AMap.TileLayer.RoadNet";f.e.hb(this.CLASS_NAME,a)},ah:function(a){if(this.get("map").jh){this.wm=!0;var b=f.r.vy;f.l.ca&&this.get("detectRetina")&&(b=f.r.vy.replace("scl=1","scl=2"));a=new f.S.of(this,a,this.Wr(b),this.F.maxDataZoom)}else this.wm=!1,a=new f.S.of(this,a);return a}});
  Bc.rH=Bc.extend({F:{getTileUrl:function(a,b,c){return f.r.Zb+"://tm.amap.com/trafficengine/mapabc/traffictile?v=1.0&t=1&zoom="+(17-c)+"&x="+a+"&y="+b},zooms:[6,20],zIndex:4,type:"overlayer",autoRefresh:!1,interval:180,maxDataZoom:17,alwaysRender:!f.l.hD,className:"amap-layer amap-traffic"},C:function(a){this.nh=[6,20];arguments.callee.Ba.apply(this,arguments);this.startRefresh();this.CLASS_NAME="AMap.TileLayer.Traffic";f.e.hb(this.CLASS_NAME,a)},stopRefresh:function(){f.e.add(this.CLASS_NAME,"stopRefresh");
    this.ky&&(clearInterval(this.ky),this.ky=null)},startRefresh:function(){f.e.add(this.CLASS_NAME,"startRefresh");if(this.get("autoRefresh")&&!this.ky){var a=this;this.ky=setInterval(function(){a.reload();a.w("refresh")},Math.max(1E3*(this.get("interval")||180),1E4))}},reload:function(){f.e.add(this.CLASS_NAME,"reload");f.g.ec(function(){this.set("reload")},this)},If:function(){this.stopRefresh();this.get("map")&&this.get("map").D("zoomstart",this.reload,this)},ah:function(a){var b=this.get("map"),
    b=a.P;b.h("zoomstart",this.reload,this);return"d"!==b.get("baseRender")?f.S.Xo?a=new f.S.Xo(this,a):["vt"]:a=new f.S.of(this,a,null,this.F.maxDataZoom)}});var Oc=Nc.extend({F:{visible:!0,zooms:[3,25],type:"overlay",zIndex:5,alwaysRender:!0},C:function(a){arguments.callee.Ba.apply(this,arguments)},ah:function(a){return new f.S.jd(this,a)}});var Pc=Nc.extend({F:{zooms:[16,20],zIndex:8,url:f.r.Du+"/vector/buildings",wallColor:[200,190,180],strokeColor:[145,140,135],CAM_Z:400,lineCap:"round",lineJoin:"round",lineWidth:1,fadeFactor:1,visible:!0},C:function(){arguments.callee.Ba.apply(this,arguments);this.CLASS_NAME="AMap.Buildings"},ah:function(a){if(f.S.or)return"3D"===a.P.view.type?(a=new f.S.Hc(this,a,["building"]),a.Ad=17,a):new f.S.or(this,a);if(f.l.Ht)return["building","overlay"]}});var Qc=Nc.extend({F:{visible:!0,zooms:[3,f.l.W?20:18],opacity:1,type:"overlay",zIndex:6},C:function(a){arguments.callee.Ba.apply(this,arguments);this.CLASS_NAME="AMap.ImageLayer";f.e.hb(this.CLASS_NAME,a)},ah:function(a){return f.S.$G?new f.S.$G(this,a):["imagelayer"]},getMap:function(){f.e.add(this.CLASS_NAME,"getMap");return this.Pg.map},show:function(){f.e.add(this.CLASS_NAME,"show");this.set("visible",!0);this.w("options")},getOpacity:function(){f.e.add(this.CLASS_NAME,"getOpacity");return this.get("opacity",
    null,!0)},setOpacity:function(a){f.e.add(this.CLASS_NAME,"setOpacity");this.set("opacity",a)},getBounds:function(){f.e.add(this.CLASS_NAME,"getBounds");return this.get("bounds",null,!0).Gb()},setBounds:function(a){f.e.add(this.CLASS_NAME,"setBounds");this.setOptions({bounds:a})},getImageUrl:function(){f.e.add(this.CLASS_NAME,"getImageUrl");return this.get("url")},setImageUrl:function(a){f.e.add(this.CLASS_NAME,"setImageUrl");return this.set("url",a)},hide:function(){f.e.add(this.CLASS_NAME,"hide");
    this.set("visible",!1);this.w("options")},setOptions:function(a){f.e.add(this.CLASS_NAME?this.CLASS_NAME:"AMap.ImageLayer","setOptions");this.jf(a);this.w("options")},getOptions:function(){f.e.add(this.CLASS_NAME,"getOptions");var a={},b;for(b in this.F)this.F.hasOwnProperty(b)&&(a[b]=this.get(b));return a}});var Rc=Nc.extend({F:{visible:!0,zooms:[3,f.l.W?20:18],type:"overlay",zIndex:5,cursor:"pointer",alwaysRender:!0,stable:!0,bubble:!0,className:"amap-mass"},C:function(a,b){this.CLASS_NAME="AMap.MassMarks";f.e.hb(this.CLASS_NAME,b);f.l.Ht&&(this.Uh=!0,b.size&&(b.size=f.g.Vk(b.size)),this.setData(a),f.g.rb(this,b),b.style?(this.jf(this.F,!0),this.setStyle(b.style)):this.setStyle(this.F))},clear:function(){this.set("dataSources","")},getStyle:function(){f.e.add(this.CLASS_NAME,"getStyle");return this.Yi},
    setStyle:function(a){f.e.add(this.CLASS_NAME,"setStyle");if(a instanceof Array){for(var b=0;b<a.length;b+=1)a[b].size=f.g.Vk(a[b].size),a.ye=Math.max(a.ye||0,a[b].size.width+a[b].anchor.x),a.ef=Math.max(a.ye||0,a[b].size.height+a[b].anchor.y);this.Yi=a}else a.size&&(a.size=f.g.Vk(a.size)),this.jf(a,!0),this.Yi={anchor:this.get("anchor"),url:this.get("url"),size:this.get("size")},this.Yi.ye=this.Yi.size.width+this.Yi.anchor.x,this.Yi.ef=this.Yi.size.height+this.Yi.anchor.y;this.w("style")},setData:function(a){f.e.add(this.CLASS_NAME,
      "setData");this.set("dataSources",a)},getData:function(){f.e.add(this.CLASS_NAME,"getData");return this.get("datas")||this.get("dataSources")},setMap:function(a){f.e.add(this.CLASS_NAME,"setMap");f.l.Ht&&(a?(this.get("map")&&this.get("map").Kq(this),this.set("map",a)):this.get("map")&&(this.get("map").Kq(this),this.set("map",null,!0),this.Ci=!1,this.If&&this.If()))},ah:function(a){return f.$a.Hx(["cvector"])?(a=new f.S.jd(this,a),this.T("datas",a),a):["cvector"]}});var Ec=Qc.extend({C:function(a,b,c){f.e.hb("AMap.GroundImage",c);c=c||{};this.Kk=!0;var d=parseFloat(c.opacity);isNaN(d)&&(d=1);arguments.callee.Ba.call(this,{url:a,bounds:b,clickable:c.clickable,opacity:d,map:c.map,zooms:c.zooms||[3,20]});this.CLASS_NAME="AMap.GroundImage"},W5:function(a){this.get("bounds").contains(a.lnglat)&&(a.target=this,this.w("click",a))},X5:function(a){this.get("bounds").contains(a.lnglat)&&(a.target=this,this.w("dblclick",a))},setMap:function(a){f.e.add(this.CLASS_NAME,"setMap");
    a?(this.get("map")&&(this.get("map").Kq(this),this.bN&&W.removeListener(this.bN),this.lN&&W.removeListener(this.lN)),this.set("map",a)):this.get("map")&&(this.get("map").Kq(this),this.Pg.map=null)},mapChanged:function(){this.get("map")&&(this.get("map").nM(this),this.get("clickable")&&(this.bN=W.addListener(this.get("map"),"click",this.W5,this),this.lN=W.addListener(this.get("map"),"dblclick",this.X5,this)))}});var Jc=f.Y.extend({ia:[f.ga,f.Gd,{sa:f.g.sa}],F:{extData:{},bubble:!1,clickable:!0,draggable:!1},C:function(){this.Kv=f.g.Bb(this)},sba:function(){return this.Kv},Baa:function(){this.get("map",null,!0)&&this.setMap(this.get("map"))},mapChanged:function(){this.get("map",null,!0)&&this.get("map",null,!0).qM(this)},show:function(){f.e.add(this.CLASS_NAME,"show");this.set("visible",!0)},hide:function(){f.e.add(this.CLASS_NAME,"hide");this.set("visible",!1)},setMap:function(a){f.e.add(this.CLASS_NAME,
    "setMap");a!==this.get("map",null,!0)&&(a?(this.get("map",null,!0)&&this.get("map",null,!0).ny(this),this.set("map",a)):this.get("map",null,!0)&&(this.get("map",null,!0).ny(this),this.set("map",null,!0)))},getMap:function(){f.e.add(this.CLASS_NAME,"getMap");return this.get("map",null,!0)},setExtData:function(a){f.e.add(this.CLASS_NAME,"setExtData");this.set("extData",a)},getExtData:function(){f.e.add(this.CLASS_NAME,"getExtData");return this.get("extData",null,!0)}});var Sc=Jc.extend({C:function(a){Sc.qf.C.apply(this,arguments)},show:function(){this.set("visible",!0);this.w("show",{type:"show",target:this})},hide:function(){this.set("visible",!1);this.w("hide",{type:"hide",target:this})},getVisible:function(){return this.get("visible",null,!0)},getOptions:function(){var a={},b="map zIndex strokeColor strokeOpacity strokeWeight strokeStyle strokeDasharray extData bubble clickable".split(" "),c="isOutline outlineColor geodesic path lineJoin lineCap borderWeight showDir".split(" "),
    d=["fillColor","fillOpacity","path","lineJoin"],e=["center","radius"],g=[];this instanceof Hc&&(g=b.concat(c));this instanceof Ic&&(g=b.concat(d));this instanceof Gc&&(g=b.concat(e).concat(d));for(b=0;b<g.length;b+=1)a[g[b]]=this.get(g[b],null,!0);return a},setOptions:function(a){a.hasOwnProperty("path")&&(a.path&&a.path.length||(a.path=[]),a.path=f.g.sa(a.path));a.center&&(a.center=f.g.sa(a.center));a.hasOwnProperty("map")&&this.setMap(a.map);this.jf(a);this.w("options");this.w("change",{type:"change",
    target:this})},setDraggable:function(a){this.set("draggable",a)}});var Tc=Sc.extend({F:{visible:!0,zIndex:10,strokeColor:"#006600",strokeOpacity:0.9,strokeWeight:3,strokeStyle:"solid",strokeDasharray:[10,5],lineJoin:"miter",path:[]},C:function(a){Tc.qf.C.apply(this,arguments)},setPath:function(a,b){f.e.add(this.CLASS_NAME,"setPath");a&&a.length||(a=[]);a=this.sa(a);this.set("path",a);this.w("change",{type:"change",target:this});b||this.w("setPath")},getPath:function(){f.e.add(this.CLASS_NAME,"getPath");return this.get("path",null,!0)},oc:function(){var a=this.get("path");
    if(!a||!a.length)return null;a[0]instanceof f.U&&(a=[a]);for(var b=new f.me(180,90,-180,-90),c=0;c<a.length;c+=1)for(var d=a[c],e=d.length-1;0<=e;e-=1)b.extend(d[e]);return b}});Tc.$p({oc:"getBounds"});var Uc=f.Y.extend({ia:[f.ga,f.Gd],F:{size:new f.wc(36,36),imageOffset:new f.G(0,0),image:f.r.Fb+"/theme/v1.3/markers/0.png",imageSize:null},C:function(a){this.CLASS_NAME="AMap.Icon";f.e.hb(this.CLASS_NAME,a);a=a||{};a.size&&(a.size=f.g.Vk(a.size));a.imageSize&&(a.imageSize=f.g.Vk(a.imageSize));f.g.rb(this,a);this.jf(this.F)},setImageSize:function(a){f.e.add(this.CLASS_NAME,"setImageSize");a=f.g.Vk(a);this.set("imageSize",a)},getImageSize:function(){f.e.add(this.CLASS_NAME,"getImageSize");return this.get("imageSize",
    null,!0)}});var Vc=f.Y.extend({ia:[f.ga,f.Gd],F:{coords:[],type:""},C:function(a){this.CLASS_NAME="AMap.MarkerShape";f.e.hb(this.CLASS_NAME,a);f.g.rb(this,a);this.jf(this.F)}});var Fc=Jc.extend({F:{cursor:"pointer",visible:!0,zIndex:100,angle:0,autoRotation:!1,opacity:1,offset:new f.G(-9,-31),size:new f.G(19,33),raiseOnDrag:!1,topWhenClick:!1,topWhenMouseOver:!1,animation:"AMAP_ANIMATION_NONE"},C:function(a){this.CLASS_NAME="AMap.Marker";f.e.hb(this.CLASS_NAME,a);a=a||{};this.Kk=!0;a.position&&(a.position=this.sa(a.position));f.g.rb(this,a);f.l.Jd&&(this.F.angle=0);this.jf(this.F,!0);this.mapChanged()},setRaiseOnDrag:function(a){f.e.add(this.CLASS_NAME,"setRaiseOnDrag");
    this.set("raiseOnDrag",a)},setPosition:function(a){f.e.add(this.CLASS_NAME,"setPosition");a=this.sa(a);this.set("position",a)},getBounds:function(){var a=this.getPosition().Gb();return new f.me(a,a.Gb())},mapChanged:function(){this.get("map",null,!0)&&(this.get("position",null,!0)||this.set("position",this.get("map").get("center")),this.get("map",null,!0).qM(this))},getPosition:function(){f.e.add(this.CLASS_NAME,"getPosition");return this.get("position",null,!0)},setIcon:function(a){f.e.add(this.CLASS_NAME,
    "setIcon");this.set("icon",a)},getIcon:function(){f.e.add(this.CLASS_NAME,"getIcon");return this.get("icon",null,!0)},setContent:function(a){f.e.add(this.CLASS_NAME,"setContent");this.set("content",a)},getContent:function(){f.e.add(this.CLASS_NAME,"getContent");return this.get("content",null,!0)},getContentDom:function(){return this.get("contentDom",null,!0)},hide:function(){f.e.add(this.CLASS_NAME,"hide");this.set("visible",!1)},show:function(){f.e.add(this.CLASS_NAME,"show");this.set("visible",
    !0)},setCursor:function(a){f.e.add(this.CLASS_NAME,"setCursor");this.set("cursor",a)},setRotation:function(a){f.e.add(this.CLASS_NAME,"setRotation");f.l.Jd||this.set("angle",a)},setAngle:function(a){f.e.add(this.CLASS_NAME,"setAngle");f.l.Jd||"number"!==typeof a||this.set("angle",a)},getAngle:function(){f.e.add(this.CLASS_NAME,"getAngle");return this.get("angle",null,!0)},setOffset:function(a){f.e.add(this.CLASS_NAME,"setOffset");this.set("offset",a)},getOffset:function(){f.e.add(this.CLASS_NAME,
    "getOffset");return this.get("offset",null,!0)},setzIndex:function(a){f.e.add(this.CLASS_NAME,"setzIndex");this.set("zIndex",a)},getzIndex:function(){f.e.add(this.CLASS_NAME,"getzIndex");return this.get("zIndex",null,!0)},setOpacity:function(a){f.e.add(this.CLASS_NAME,"setOpacity");this.set("opacity",a)},setDraggable:function(a){f.e.add(this.CLASS_NAME,"setDraggable");this.set("draggable",a)},getDraggable:function(){f.e.add(this.CLASS_NAME,"getDraggable");return this.get("draggable",null,!0)},moveTo:function(a,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      b,c){f.e.add(this.CLASS_NAME,"moveTo");a=this.sa(a);this.set("move",{fe:a,speed:b,ab:c})},moveAlong:function(a,b,c,d){f.e.add(this.CLASS_NAME,"moveAlong");this.set("move",{fe:a,speed:b,ab:c,H1:d})},stopMove:function(){f.e.add(this.CLASS_NAME,"stopMove");this.set("move",!1)},pauseMove:function(){f.e.add(this.CLASS_NAME,"pauseMove");var a=this.get("move");if(!a)return!1;a.action="pause";this.set("move",a);return!0},resumeMove:function(){f.e.add(this.CLASS_NAME,"resumeMove");var a=this.get("move");if(!a)return!1;
    a.action="resume";this.set("move",a);return!0},setShadow:function(a){f.e.add(this.CLASS_NAME,"setShadow");this.set("shadow",a)},getShadow:function(){f.e.add(this.CLASS_NAME,"getShadow");return this.get("shadow",null,!0)},setClickable:function(a){f.e.add(this.CLASS_NAME,"setClickable");a!==this.getClickable()&&this.set("clickable",a)},getClickable:function(){f.e.add(this.CLASS_NAME,"getClickable");return this.get("clickable",null,!0)},setTitle:function(a,b){f.e.add(this.CLASS_NAME,"setTitle");"string"===
  typeof a&&this.set("title",a,b)},getTitle:function(){f.e.add(this.CLASS_NAME,"getTitle");return this.get("title",null,!0)},setLabel:function(a){f.e.add(this.CLASS_NAME,"setLabel");a&&(a.hasOwnProperty("content")||a.hasOwnProperty("offSet"))||(a={content:""});a=f.extend({},this.get("label"),a);this.set("label",a)},getLabel:function(){f.e.add(this.CLASS_NAME,"getLabel");return this.get("label",null,!0)},setTop:function(a,b){f.e.add(this.CLASS_NAME,"setTop");this.set("isTop",a,b)},getTop:function(){f.e.add(this.CLASS_NAME,
    "getTop");return this.get("isTop",null,!0)},setShape:function(a,b){f.e.add(this.CLASS_NAME,"setShape");this.set("shape",a,b)},getShape:function(){f.e.add(this.CLASS_NAME,"getShape");return this.get("shape",null,!0)},setAnimation:function(a,b){f.e.add(this.CLASS_NAME,"setAnimation");this.set("animation",a,b)},getAnimation:function(){f.e.add(this.CLASS_NAME,"getAnimation");return this.get("animation",null,!0)},getMap:function(){f.e.add(this.CLASS_NAME,"getMap");return this.get("map",null,!0)},markOnAMAP:function(a){f.e.add(this.CLASS_NAME,
    "markOnAMAP");a=a||{};var b={};b.name=a.name||this.get("name",null,!0)||"";a=this.sa(a.position)||this.get("position",null,!0);b.y=a.Q;b.x=a.N;f.mf.Jm(f.mf.l4(b))}});
  f.is={xQ:12,N$:function(){},fL:function(){if(f.Ga&&f.Ga.length){var a=f.is.it(JSON.stringify({mks:f.Ga,from:f.r.B3,key:f.r.key}));new f.Aa.XMLHttpRequest(f.r.Fb+"/count",{g2:"data="+a,gd:"POST"});f.Ga=[]}},it:function(a){for(var b="",c=0,d=a.length;c<d;c++)b+=String.fromCharCode((a.charCodeAt(c)+256)%65535);return b},Bg:function(a){for(var b="",c=0,d=a.length;c<d;c++)b+=String.fromCharCode((a.charCodeAt(c)-256+65535)%65535);return b}};
  if(f.l.Tw&&!f.l.W&&(new Date).getHours()===f.is.xQ){var Wc=setInterval(function(){(new Date).getHours()!==f.is.xQ?clearInterval(Wc):f.is.fL()},6E3);f.event.R(window,"beforeunload",f.is.fL)};var Cc=Jc.extend({F:{visible:!1,items:[]},C:function(a){this.CLASS_NAME="AMap.ContextMenu";f.e.hb(this.CLASS_NAME,a);this.Kk=!0;f.g.rb(this,a);this.F.items=[];this.jf(this.F)},addItem:function(a,b,c){f.e.add(this.CLASS_NAME,"addItem");this.get("items").push({aS:a,ab:b,Yx:c});this.w("items")},removeItem:function(a,b){f.e.add(this.CLASS_NAME,"removeItem");var c=this.get("items"),d,e;for(e=0;e<c.length;e+=1)if(d=c[e],d.aS===a&&d.ab===b){c.splice(e,1);break}this.w("items")},open:function(a,b){f.e.add(this.CLASS_NAME,
    "open");b=f.g.sa(b);this.set("position",b);this.map?this.map&&this.map!==a&&(this.map.ny(this),this.map=a,this.setMap(a)):(this.map=a,this.setMap(a));this.w("open",{type:"open",target:this})},close:function(){f.e.add(this.CLASS_NAME,"close");this.setMap(null);this.map&&(this.map=this.map.$w=null,this.w("close",{type:"close",target:this}))}});var Dc=Jc.extend({F:{visible:!0,offset:new f.G(0,0),showShadow:!1,closeWhenClickMap:!1,retainWhenClose:!0,autoMove:!0},C:function(a){this.CLASS_NAME="AMap.InfoWindow";f.e.hb(this.CLASS_NAME,a);a=a||{};this.Kk=!0;a&&a.size&&(a.size=f.g.Vk(a.size));f.g.rb(this,a);this.jf(this.F);a.position&&this.set("position",f.g.sa(a.position),!0)},open:function(a,b){f.e.add(this.CLASS_NAME,"open");b=f.g.sa(b);if(a)if(this.get("toBeClose"))this.set("toBeClose",!1);else if(b=b||this.get("position",null,!0)){this.w("change",
    {type:"change",target:this});var c=this.get("map",null,!0);c&&c===a?this.set("position",b):(this.map=a,a.Hj&&a.Hj.close(),this.set("position",b,!0),this.setMap(a));this.w("open",{type:"open",target:this})}},close:function(){f.e.add(this.CLASS_NAME,"close");this.setMap(null);this.map=null;this.w("change",{type:"change",target:this})},setContent:function(a){f.e.add(this.CLASS_NAME,"setContent");this.set("content",a);this.w("change",{type:"change",target:this})},getContentU:function(){f.e.add(this.CLASS_NAME,
    "getContentU");return this.get("content",null,!0)},getContentDom:function(){return this.get("contentDom",null,!0)},getContent:function(){f.e.add(this.CLASS_NAME,"getContent");return this.get("content",null,!0)},setPosition:function(a){f.e.add(this.CLASS_NAME,"setPosition");a=f.g.sa(a);this.set("position",a);this.w("change",{type:"change",target:this})},setOffset:function(a){f.e.add(this.CLASS_NAME,"setOffset");this.set("offset",a);this.w("change",{type:"change",target:this})},getPosition:function(){f.e.add(this.CLASS_NAME,
    "getPosition");return this.get("position",null,!0)},setSize:function(a){f.e.add(this.CLASS_NAME,"setSize");a=f.g.Vk(a);this.set("size",a);this.w("change",{type:"change",target:this})},getSize:function(a){f.e.add(this.CLASS_NAME,"getSize");var b=this.get("size",null,!0);if(b)return b;if(this.Xa&&!a)return new f.wc(this.Xa.zf.offsetWidth,this.Xa.zf.offsetHeight)},getIsOpen:function(){f.e.add(this.CLASS_NAME,"getIsOpen");return!!this.get("map")}});var Hc=Tc.extend({F:{isOutline:!1,outlineColor:"#000000",geodesic:!1,borderWeight:1},C:function(a){Hc.qf.C.apply(this,arguments);this.CLASS_NAME="AMap.Polyline";f.e.hb(this.CLASS_NAME,a);this.Kk=!0;a=a||{};a.zIndex="number"===typeof a.zIndex?a.zIndex:50;a.path&&(a.path=this.sa(a.path));f.g.rb(this,a);this.setOptions(this.F)},getLength:function(){f.e.add(this.CLASS_NAME,"getLength");for(var a=this.get("path"),b=0,c=0;c<a.length-1;c+=1)b+=a[c].gg(a[c+1]);return parseFloat(b.toFixed(2))}});var Ic=Tc.extend({C:function(a){Ic.qf.C.apply(this,arguments);this.CLASS_NAME="AMap.Polygon";f.e.hb(this.CLASS_NAME,a);this.Kk=!0;a=a||{};a.zIndex="number"===typeof a.zIndex?a.zIndex:10;a.path&&(a.path=this.sa(a.path));f.g.rb(this,f.extend({fillColor:"#FFAA00",fillOpacity:0.9},a));this.setOptions(this.F)},PD:function(a){var b=6378137*Math.PI/180,c=0,d=a.length;if(3>d)return 0;for(var e=0;e<d-1;e+=1)var g=a[e],h=a[e+1],c=c+(g.N*b*Math.cos(g.Q*Math.PI/180)*h.Q*b-h.N*b*Math.cos(h.Q*Math.PI/180)*g.Q*
    b);d=a[e];a=a[0];c+=d.N*b*Math.cos(d.Q*Math.PI/180)*a.Q*b-a.N*b*Math.cos(a.Q*Math.PI/180)*d.Q*b;return 0.5*Math.abs(c)},getArea:function(){f.e.add(this.CLASS_NAME,"getArea");var a=this.get("path",null,!0),b;if(!a.length||a[0]instanceof f.U)b=this.PD(a);else{b=this.PD(a[0]);for(var c=1;c<a.length;c+=1)b-=this.PD(a[c])}return Number(b.toFixed(2))},toString:function(){f.e.add(this.CLASS_NAME,"toString");return this.get("path").join(";")},contains:function(a){f.e.add(this.CLASS_NAME,"contains");a=f.g.sa(a);
    var b=this.get("path");b.length&&b[0]instanceof f.U&&(b=[b]);a=[a.N,a.Q];for(var c,d=0,e=b.length;d<e&&(c=this.x1(b[d]),f.vc.jm(c)||c.reverse(),c=f.vc.Sc(a,c,0===d?!0:!1),0<d&&(c=!c),c);d+=1);return c},x1:function(a){for(var b=[],c=0;c<a.length;c+=1)b.push([a[c].N,a[c].Q]);return b}});var Gc=Sc.extend({F:{visible:!0,zIndex:10,strokeColor:"#006600",strokeOpacity:0.9,strokeWeight:3,strokeStyle:"solid",strokeDasharray:[10,5],radius:1E3,fillColor:"#006600",fillOpacity:0.9},C:function(a){Gc.qf.C.apply(this,arguments);this.CLASS_NAME="AMap.Circle";f.e.hb(this.CLASS_NAME,a);a=a||{};a.center&&(a.center=f.g.sa(a.center));a.zIndex="number"===typeof a.zIndex?a.zIndex:10;f.g.rb(this,a);this.Kk=this.F.center?!0:!1;this.setOptions(this.F)},setCenter:function(a,b){f.e.add(this.CLASS_NAME,"setCenter");
    (a=f.g.sa(a))&&a instanceof f.U&&(this.set("center",a),this.w("change",{type:"change",target:this}),this.Kk||(this.Kk=!0,this.get("map")&&this.get("map").w("overlays")),b||this.w("setCenter"))},getCenter:function(){f.e.add(this.CLASS_NAME,"getCenter");return this.get("center",null,!0)},setRadius:function(a,b){f.e.add(this.CLASS_NAME,"setRadius");this.set("radius",a);this.w("change",{type:"change",target:this});b||this.w("setRadius")},getRadius:function(){f.e.add(this.CLASS_NAME,"getRadius");return this.get("radius",
    null,!0)},getBounds:function(){var a=this.get("center"),b=this.get("radius");if(!a)return null;var c=a.offset(-b,-b),a=a.offset(b,b);return new f.me(c,a)},contains:function(a){f.e.add(this.CLASS_NAME,"contains");return this.get("center").gg(a)<=this.get("radius")?!0:!1}});f.US=Kc.extend({C:function(a,b){b&&(b.center=b.position,b.zoom=11);arguments.callee.Ba.apply(this,arguments);window.console&&window.console.log&&window.console.log("\u9ad8\u5fb7\u5730\u56feJSAPI\u8857\u666f\u5df2\u4e0b\u7ebf\uff0c\u611f\u8c22\u60a8\u7684\u652f\u6301\u3002")}});f.VS=Fc.extend({C:function(a){arguments.callee.Ba.apply(this,arguments)}});f.vc={Vl:function(a,b){for(var c=Infinity,d=0,e=1,g=b.length;e<g;d=e,e+=1)c=Math.min(c,f.vc.y8(a,[b[d],b[e]]));return Math.sqrt(c)},y8:function(a,b){return this.x8(a,this.cN(a,b))},x8:function(a,b){var c=a[0]-b[0],d=a[1]-b[1];return c*c+d*d},cN:function(a,b){var c=a[0],d=a[1],e=b[0],g=b[1],h=e[0],e=e[1],k=g[0],g=g[1],l=k-h,m=g-e,c=0===l&&0===m?0:(l*(c-h)+m*(d-e))/(l*l+m*m||0);0>=c||(1<=c?(h=k,e=g):(h+=c*l,e+=c*m));return[h,e]},jm:function(a){for(var b=a.length,c=0,d=a[b-1],e=d[0],d=d[1],g,h,k=0;k<
  b;k+=1)h=a[k],g=h[0],h=h[1],c+=(g-e)*(h+d),e=g,d=h;return 0<c},Sc:function(a,b,c){var d=a[0];a=a[1];var e=!1,g,h,k,l,m=b.length,n=0;for(l=m-1;n<m;l=n,n+=1){var p=!1;g=b[n][0];h=b[n][1];k=b[l][0];l=b[l][1];if(g===d&&h===a||k===d&&l===a)return c?!0:!1;if(h<a===l>=a){g=(k-g)*(a-h)/(l-h)+g;if(d===g)return c?!0:!1;p=d<g}p&&(e=!e)}return e},pQ:function(a,b){function c(a,b,c,d){var e=[a[0]-b[0],a[1]-b[1]],g=[c[0]-d[0],c[1]-d[1]];a=a[0]*b[1]-a[1]*b[0];c=c[0]*d[1]-c[1]*d[0];d=1/(e[0]*g[1]-e[1]*g[0]);return[(a*
  g[0]-c*e[0])*d,(a*g[1]-c*e[1])*d]}function d(a,b,c){return(c[0]-b[0])*(a[1]-b[1])>(c[1]-b[1])*(a[0]-b[0])}var e,g,h,k,l=a;e=b[b.length-2];for(var m=0,n=b.length-1;m<n;m++){g=b[m];var p=l,l=[];h=p[p.length-1];for(var q=0,r=p.length;q<r;q++)k=p[q],d(k,e,g)?(d(h,e,g)||l.push(c(e,g,h,k)),l.push(k)):d(h,e,g)&&l.push(c(e,g,h,k)),h=k;e=g}if(3>l.length)return[];l.push(l[0]);return l}};var Xc={Pixel:f.G,LngLat:f.U,Size:f.wc,Bounds:f.me,PixelBounds:f.ne,event:W,Panorama:f.US,PanoramaMarker:f.VS,Map:Kc,View2D:Ac,GroundImage:Ec,Marker:Fc,ImageMarker:yc.s$,Text:yc.C$,Icon:Uc,MarkerShape:Vc,Polyline:Hc,Polygon:Ic,Circle:Gc,ContextMenu:Cc,InfoWindow:Dc,Buildings:Pc,TileLayer:Bc,ImageLayer:Qc,VectorLayer:Oc,MassMarks:Rc,CANVAS:"canvas",DOM:"dom"};Xc.plugin=Xc.service=Kc.prototype.plugin;Xc.TileLayer.Satellite=Bc.pH;Xc.TileLayer.RoadNet=Bc.nH;Xc.TileLayer.Traffic=Bc.rH;
  Xc.Panorama.Events=W;Xc.TileLayer.PanoramaLayer=Bc.u$;Xc.UA={ie:f.l.pq,ielt9:f.l.Jd,ielt11:f.l.E4,mobile:f.l.W,android:f.l.Zg,ios:f.l.PO};Xc.User={key:f.r.key};window.AMap=Xc;window.AMap.BuryPoint=f.BuryPoint;window.AMap.Class=f.Y;if("undefined"!==typeof arguments&&arguments.callee)try{f.l.Pk&&window.localStorage&&((vc=window.localStorage["_AMap_"+f.we])&&JSON.parse(vc).version===f.r.wh||window.localStorage.setItem("_AMap_"+f.we,JSON.stringify({script:"("+arguments.callee+")()",version:f.r.wh})))}catch(Yc){};window.AMap.convertFrom=function(a,b,c){f.e.add("AMap","convertFrom",b);var d=f.r.xc+"/v3/assistant/coordinate/convert";a=f.g.sa(a);var e=[];if(a instanceof Array){for(var g=0,h=a.length;g<h;g+=1)e.push(a[g]+"");e=e.join(";")}else e=a+"";b=["key="+f.r.key,"s=rsv3","locations="+e,"coordsys="+(b||"gps")];d+=0<b.length?"?"+b.join("&"):"";d=new f.Aa.Pa(d,{callback:"callback"});d.h("complete",function(a){if("1"===a.status){a=a.locations.split(";");for(var b=0;b<a.length;b+=1){var d=a[b].split(",");a[b]=
    new AMap.LngLat(d[0],d[1])}c&&"function"===typeof c&&c("complete",{info:"ok",locations:a})}else c&&"function"===typeof c&&c("error",a.info)},this);d.h("error",function(a){c&&"function"===typeof c&&c("error",a.info)},this)};
  _jsload_('http', 'f.Aa=f.Aa||{}; f.Aa.qz=f.Y.extend({ia:[f.ga],C:function(a,b){this.F={callback:"cbk",type:"json",charset:"utf-8"};b=b||{};f.g.rb(this,b);this.url=a;this.send(a,b.gd,b.g2)},send:function(a){var b=f.f.create("script");b.type="text/javascript";b.charset=this.F.charset;var c=this;f.l.Jd?b.onreadystatechange=function(){"loaded"!==this.readyState&&"complete"!==this.readyState||c.w("complete")}:(b.onload=function(){c.w("complete")},b.onerror=function(){c.w("error",{status:0,info:"service error",url:a})});b.src=a;document.getElementsByTagName("head")[0].appendChild(b)}});f.Aa.Pa=f.Aa.qz.extend({z1:function(){if(f.g.dR)return f.g.Iy.push(this),!0},I7:function(){this.w("error",{info:"TIME_OUT_A"})},send:function(a,b,c,d){function e(){window[g]=null;try{window[g]=null}catch(a){}h.onerror=null;h.parentNode&&h.parentNode.removeChild(h)}if(!this.F.Os||!this.z1()){a=encodeURI(a);var g=this.F.fun;if(!g||window[g])g=f.g.UN("jsonp_",6)+"_";var h=document.createElement("script");h.type="text/javascript";h.charset="utf-8";h.async=!0;var k=this;f.l.Jd||(h.onerror=function(){e(); k.w("error",{info:"REQUEST_FAILED",url:a})});window[g]=function(a){e();if(k.F.callbackFunction)k.F.callbackFunction.call(k.F.context,a);else if(3E4===a.errcode&&a.data)f.g.dR=!0,f.$a.load("AMap.AntiCrabFrame",function(){f.g.Os||(f.g.Os=new f.qS);f.g.Iy.push(k);f.g.Os.open(k.F.gd,a.data.host,k.nF||"",k.url)});else{if(a instanceof Array||"string"===typeof a)a={data:a};a.cba=g;k.w("complete",a)}};b="?";-1!==a.indexOf("?")&&(b="&");b=a+b+this.F.callback+"="+g;if(-1!==a.indexOf(f.r.xc+"/v")||-1!==a.indexOf("yuntuapi.amap.com/datasearch"))b+= "&platform=JS&logversion=2.0&sdkversion="+f.r.gC,b+="&appname="+f.r.Kl;b+="&csid="+this.J9();if(c=this.F.jx){var l=[],m;for(m in c)c.hasOwnProperty(m)&&(l.push(m+"="+c[m]),b+="&"+m+"="+encodeURIComponent(c[m]));k.nF=l.join("&")}h.src=d?b+"&rereq=true":b;f.Aa.Pa.AI||(f.Aa.Pa.AI=document.getElementsByTagName("head")[0]);f.Aa.Pa.AI.appendChild(h)}},J9:function(){var a="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split("");return function(b,c){var d=[],e;c=c||a.length;if(b)for(e=0;e< b;e++)d[e]=a[0|Math.random()*c];else{var g;d[8]=d[13]=d[18]=d[23]="-";d[14]="4";for(e=0;36>e;e++)d[e]||(g=0|16*Math.random(),d[e]=a[19===e?g&3|8:g])}return d.join("")}}()});window.AMap.Http={};window.AMap.Http.JSONP=f.Aa.Pa;f.Aa.XMLHttpRequest=f.Aa.qz.extend({send:function(a,b,c){var d=this.c$=new XMLHttpRequest,e=this;d.onreadystatechange=function(){4===d.readyState&&200===d.status?e.w("complete",{url:a,data:d.responseText}):404===d.status&&(d.abort(),e.w("error",{url:a,data:"404"}))};d.open(b||"GET",a);"POST"===b&&d.setRequestHeader("Content-type","application/x-www-form-urlencoded");d.send(c||void 0)},abort:function(){this.c$.abort()}}); ',true),_jsload_('map', 'f.xh=f.Y.extend({C:function(a,b,c,d){this.start=a;this.end=b;this.transition=c;this.precision=d||0;this.Ao=!1;return this},Rj:function(a){this.He=+new Date;this.frames=0;this.Af=a;this.startTime=+new Date;this.Ao=!0;this.sM=f.g.ec(this.update,this,!1)},update:function(){this.sM=f.g.ec(this.update,this,!1);this.frames+=1;var a=+new Date,b=a-this.startTime,b=this.transition?this.transition(this.start,this.end,b,this.frames,a-this.He):null;"number"===typeof b&&Math.abs(b-this.end)<this.precision&&(this.stop(), b=this.end);this.He=a;this.zm.call(this.Af||this,b)},stop:function(a){f.g.ag(this.sM);a&&this.update();this.Ao=!1}});f.xh.Easing={Linear:{None:function(a){return a}},Bounce:{In:function(a){return 1-(a<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+0.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+0.9375:7.5625*(a-=2.625/2.75)*a+0.984375)},Out:function(a){return f.xh.Easing.Bounce.In(1-a)}},Cubic:{In:function(a){return 1-a*a*a},Out:function(a){a=1-a;return 1-a*a*a}}};f.yc=f.Y.extend({ia:[f.ga,f.Gd,f.tP],C:function(a,b){this.P=b;this.Zh="";this.Sg=this.Hh=this.Mh=!1;this.H=a;this.jX();this.M4();this.T("zooms",b,!0);this.T("size",b,!0);this.T("limitBounds",b);this.T("view",b);this.T("nolimg",b,!0);this.T("mapNumber",b,!0);this.T("lang",b,!0);this.T("features",b,!0);this.T("styleID",b,!0);this.T("forceBig",b,!0);this.T("mode",b,!0);this.T("showBuildingBlock",b,!0);this.T("mapStyle",b);var c=this.get("mapStyle");this.bd=f.r.bd[c]||f.r.bd["default"];this.Dw="#a3ccff"; this.T("editEnable",b);this.nc&&this.T("style",b,!0);this.T("styleUrl",b);this.T("hightlight",b,!0);this.T("labelzIndex",b,!0);f.l.Lt&&(this.Vc=new f.S.Og(new Bc({zIndex:b.get("labelzIndex"),visible:!1}),this),this.Vc.type="\\u77e2\\u91cf\\u6807\\u6ce8",b.labelsLayer=this.Vc.Qa,this.Vc.Qa.h("complete",this.sl,this,!0),this.Vc.Qa.h("renderComplete",this.sl,this),this.Vc.bs=this.Vc.ko=!0);this.T("isHotspot",b,!0);this.T("layers",b);this.T("overlays",b);this.T("infos",b,!0);this.T("contextmenus",b,!0);this.T("controls", b);this.T("bounds",b);this.T("draw",b);this.td("zoomAndCenter destroy defaultCursor jogEnable animateEnable baseRender overlayRender 3rdpartyDataEnable".split(" "),b);this.td("rotateEnable pitchEnable dragEnable keyboardEnable doubleClickZoom scrollWheel zoomEnable touchZoom".split(" "),b,!0);this.get("jogEnable")?this.jo=!0:this.jo=!1;this.JW();this.PW();this.LW();this.T("resizeEnable",b);this.P.map=this;c=this.get("size");c=c.width*c.height/65536;f.l.Oc&&3<c&&(this.AM=!0);this.PQ()},editEnableChanged:function(){location.hostname.match(/.amap.com/)&& (this.nc=this.get("editEnable"))},labelzIndexChanged:function(){this.Vc&&this.Vc.set("zIndex",this.get("labelzIndex"))},styleChanged:function(){this.Xh=!0},mapStyleChanged:function(){if(this.P.jh){this.Zh&&(this.set("style",""),this.SC=this.Zh="");var a=this.get("mapStyle");this.Xh=!0;this.bd=f.r.bd[a]||f.r.bd["default"];this.du()}},styleUrlChanged:function(){if(this.P.jh){var a=this.get("styleUrl")||"";if(a!==this.Zh){var b=-1!==a.indexOf("?isPublic=true"),a=a.substr(0,46),c=a.split("amap://styles/")[1]; "normal"===c?(this.Zh="",this.set("nolimg",!1),this.set("style",""),this.SC=""):(this.Bu=!0,this.set("nolimg",!0),b=new f.Aa.Pa(32>c.length?f.r.Zb+"://webapi.amap.com/style?name="+c+"&key="+f.r.key:f.r.xc+"/v4/map/styles?styleid="+c+"&s=rsv3&key="+f.r.key+(b?"&ispublic=1":""),{callback:"callback"}),b.h("complete",function(a){a.data&&a.data.content?this.set("style",JSON.parse(a.data.content)):this.set("style","");this.Bu=!1},this),b.h("error",function(){this.Bu=!1},this),this.Zh=a,this.du())}}},W7:function(a){this.H.style.background= a},resizeEnableChanged:function(){},B1:function(){var a=this.get("limitBounds"),b=this.get("bounds");b.Ab.N>b.sb.N&&(b.sb.N+=360);if(!a.contains(b)){var c=this.get("center").Gb();a.Ef()<b.Ef()?c.N=a.jg().N:(a.Ab.N>b.Ab.N&&(c.N+=a.Ab.N-b.Ab.N),a.sb.N<b.sb.N&&(c.N+=a.sb.N-b.sb.N));a.Bf()<b.Bf()?c.Q=a.jg().Q:(a.Ab.Q>b.Ab.Q&&(c.Q+=a.Ab.Q-b.Ab.Q),a.sb.Q<b.sb.Q&&(c.Q+=a.sb.Q-b.sb.Q));return c}},GB:function(){var a=this.YF;this.P.refreshSize();var b=this.get("size");b&&a&&!b.Ob(a)&&(this.YF=b,this.Vq=!0, this.set("display"),this.QQ(b),this.get("resizeEnable")&&this.da("resize",{Q5:a,HP:b}))},bL:function(){var a=this;a.GB();a.CB=setTimeout(function(){a.bL()},200)},KU:function(){this.CB&&(clearTimeout(this.CB),this.CB=null)},jX:function(){this.YF=this.P.getSize();if(f.l.Jd||f.l.V9&&f.l.PO||f.l.v5)this.bL();else{var a=this;f.A.N0(this.H,function(b){a.GB(b)})}},M4:function(){var a=this.H;f.f.ta(a,"amap-container");var b={};b.Yb=f.f.create("div",a,"amap-maps");this.Eh=f.f.create("div",a);this.Eh.style.display= "none";b.Nl=f.f.create("div",b.Yb,"amap-drags");b.S=f.f.create("div",b.Nl,"amap-layers");b.Xa=f.f.create("div",b.Nl,"amap-overlays");b.controls=f.f.create("div",a,"amap-controls");b.Qt=f.f.create("a",a,"amap-logo");var c=window.location.host;f.f.create("img",b.Qt).src="";b.Oh=f.f.create("div",a,"amap-copyright");b.Oh.style.display= "none";350<f.f.vx(this.H).width&&(b.Oh.innerHTML="",b.Oh.sP=f.f.create("span",b.Oh,"amap-mcode"),this.du());this.ya=b},du:function(){var a=this.get("layers");if(a){for(var b=-1,c="",d=0;d<a.length;d+=1){var e=a[d].get("mapNumber"),g=a[d].getzIndex();e&&g>b&&a[d].get("visible")&&(c=e,b=g)}this.set("mapNumber",c);a=this.P.getMapStyle();"GS(2016)710"===c&&a&&"normal"!==a&&"amap://styles/normal"!==a&&(c="",this.ya.Oh.style.visibility="hidden",this.ya.Qt.style.display="none");c&&this.ya.Oh.sP&& (this.ya.Oh.sP.innerHTML="",this.ya.Oh.style.visibility="visible",this.ya.Qt.style.display="block");return ""}},MI:function(){f.l.Pk&&f.Xm&&f.Xm.flush()},sl:function(){if(!this.XC)if(this.P.Ja)1===this.an&&13===this.get("zoom")&&(f.g.kt.stop(this.sv),f.Fd.$d.send({id:this.P.id,params:{fps:this.sv.kt,type:"fps",rs:this.get("baseRender")}}),this.an=2),this.MI();else{for(var a=this.get("layers"),b=this.get("zoom"),c=0;c<a.length;c+=1){var d=a[c].get("zooms");if(!(!d||b>d[1]||b<d[0]||!a[c].get("visible")|| a[c].S&&a[c].S.Ea&&0===a[c].S.Ea.length||a[c].S&&a[c].S.QE||a[c].S&&a[c].S.Ja))return}this.Vc&&this.Vc.get("visible")&&!this.Vc.Ja||(a={id:this.P.id},f.Fd.$d.end(f.extend(a,{key:"rd"})),f.Fd.$d.send(f.extend(a,{params:{rs:this.get("baseRender")}})),this.P.Ja=!0,this.set("display"),f.g.ec(function(){this.w("complete");this.P&&this.P.Ni&&this.P.Ni.EB();this.MI()},this))}},layersChanged:function(){this.Ma=this.Ma||[];for(var a=this.get("layers"),b=this.Ma.length-1;0<=b;b-=1)this.Ma[b]===this.tc||this.Ma[b]=== this.Cm||this.Ma[b].bs||this.Ma[b].Qa.bs||-1!==f.g.indexOf(a,this.Ma[b].Qa)||(this.Ma[b].If(),this.Ma[b].$h&&this.Ma[b].$h.If(),this.Ma[b].Qa.D("complete",this.sl,this),this.Ma[b].Qa.D("renderComplete",this.sl,this),this.Ma=f.g.zk(this.Ma,b));for(var c=!1,d=!0,e=this.get("labelzIndex"),b=0;b<a.length;b+=1){if(a[b].Ci)-1===f.g.indexOf(this.Ma,a[b].S)&&this.Ma.push(a[b].S);else{var g=this.ah(a[b]);g&&(this.Ma.push(g),a[b].Ci=!0,a[b].S=g);a[b].h("complete",this.sl,this,!0);a[b].h("renderComplete",this.sl, this)}a[b].wm&&a[b].get("visible")&&!a[b].qw&&(c=!0,!1===a[b].get("detectRetina")&&(d=!1),e=a[b].get("textIndex")||e)}a=f.g.indexOf(this.Ma,this.Vc);c?(-1===a&&this.Ma.push(this.Vc),this.Vc.ca=d&&f.l.ca,this.Vc.Qs(this.get("mapStyle")||"normal"),this.Vc.set("zIndex",e),this.Vc.set("visible",!0),this.P.ut=!0,this.P.get("isHotspot")?this.Vc.c6():this.Vc.KC()):(this.Vc&&(this.Vc.set("visible",!1),this.P.ut=!1,this.Vc.KC()),this.P.ut=!1);this.P.isHotspotChanged();this.set("display",0);this.du()},isHotspotChanged:function(){this.layersChanged()}, controlsChanged:function(){var a=this.get("controls"),b,c;if(a.add&&0<a.add.length)for(;0<a.add.length;)b=a.add.shift(),(c=b.wn||b.addTo)&&c.call(b,this.P,this.ya.controls);else if(a.remove&&a.remove.length)for(;0<a.remove.length;)b=a.remove.shift(),(c=b.xo||b.removeFrom)&&c.call(b,this.P,this.ya.controls)},dM:function(){if(!this.XC){var a=this;this.gM=!1;a.tc||(a.tc=new f.S.jd(new Oc,a),a.tc.ye=36,a.tc.ef=36,a.tc.set("zIndex",120),a.Ma.push(a.tc),a.tc.$s=!0);for(var b=a.get("overlays"),c=[],d=0;d< a.Tb.length;d+=1)-1===f.g.indexOf(b,a.Tb[d].sc)&&(a.Tb[d].sc instanceof Dc||a.Tb[d].sc instanceof Cc?a.Tb[d].If():(a.tc&&a.Tb[d]instanceof f.Xa.Ue?(a.tc.xe=f.g.F2(a.tc.xe,a.Tb[d].I),a.tc.AQ([a.Tb[d].I])):a.Cm&&a.Cm.AQ([a.Tb[d].I]),a.Tb[d].I.X?(f.f.remove(a.Tb[d].I.X),a.Tb[d].I.X=null):a.Tb[d].I.ua&&(f.f.remove(a.Tb[d].I.ua.yd),f.f.remove(a.Tb[d].I.ua.wb),a.Tb[d].I.ua=null),a.Tb[d].Ri&&a.Tb[d].Ri.stop(),a.Tb[d].sc.Ci=!1,a.Tb[d].sc.Pg.map=null,a.Tb[d].sc.Xa=null,a.Tb[d].sc=null,a.Tb[d].I.K2(),a.Tb[d].I= null,a.Tb[d].Mm(),a.Tb[d].Pg=null,a.Tb[d].wk(),a.Tb[d].map=null),c.push(a.Tb[d]));for(d=0;d<c.length;d+=1)a.Tb=f.g.zk(a.Tb,f.g.indexOf(a.Tb,c[d]));var e=[],g=[];f.g.U7(function(b){if(!b.Ci&&b.Kk){var c=b.Xa||a.o1(b);c&&(a.Tb.push(c),c instanceof f.Xa.dj||c instanceof f.Xa.bz?c.KP(a):c instanceof f.Xa.Ue?e.push(c.I):g.push(c.I),b.Ci=!0)}},b);e.length&&a.tc.vn(e);g.length&&(a.Cm||(a.Cm=new f.S.jd(new Oc,a),a.Cm.set("zIndex",110),a.Ma.push(a.Cm)),a.Cm.vn(g));a.set("display",0)}},overlaysChanged:function(){this.Tb= this.Tb||[];this.get("overlays")&&0===this.get("overlays").length?this.dM():this.gM||(f.g.ec(this.dM,this),this.gM=!0)},contextmenusChanged:function(){var a=this.get("contextmenu");if(a){var b=this;f.$a.load("overlay",function(){b.$w=new f.Xa.bz(a,b);b.set("display",0)})}},infosChanged:function(){var a=this.get("infos");if(a){this.Hj=this.Hj||{};var b,c=this;f.$a.load("overlay",function(){for(var d in a)a.hasOwnProperty(d)&&(b=a[d],c.Hj[d]=c.Hj[d]||new f.Xa.dj(b,c))})}},o1:function(a){var b=null; if(a instanceof Fc)b=new f.Xa.Ue(a,this);else if(a instanceof Cc)b=new f.Xa.bz(a,this);else if(a instanceof Dc)b=new f.Xa.dj(a,this);else{var c=["overlay"];"d"===this.get("overlayRender")?(c.push("dvector"),f.l.Jk?c.push("svg"):c.push("vml")):c.push("cvector");if(!this.M9&&!f.$a.Hx(c)){var d=this;f.$a.Ff(c,function(){this.M9=!0;d.overlaysChanged()});return}a instanceof Ic?b=new f.Xa.Rd(a,this):a instanceof Hc?b=new f.Xa.oe(a,this):a instanceof Gc&&(b=new f.Xa.Xj(a,this))}return b},paa:function(){function a(){} var b=new f.S.jd,c=[],d=new f.U(116.405467,39.907761);new f.style.pe.Ou;for(var e=0;100>e;e+=1)for(var g=0;100>g;g+=1){var h=new f.U(d.N+0.02*g,d.Q+0.02*e),h=new f.Te({name:"point"+(100*e+g),map:this,xa:new f.fa.Ce(this.Wb(h))});c[100*e+g]=h;h.h("hover",a,h)}b.vn(c);this.Ma.push(b)},pb:function(){},oaa:function(a){var b=new f.S.jd,c=[],c=(new f.ES({map:this})).iy(a);b.vn(c);this.Ma.push(b);this.set("display",0)},ah:function(a){a=a.ah(this);if(!a)return null;if(a.length){var b=this;f.$a.Ff(a,function(){b.layersChanged()})}else return a; return null},wba:function(){return this.ya},Wca:function(){this.set("display",0)},displayChanged:function(a){this.PQ(a)},PQ:function(a){if(a)if(f.g.ag(this.qy),f.l.Zg){var b=this;setTimeout(function(){b.dc()},0)}else this.dc();else this.jr||(this.qy=f.g.ec(this.dc,this),this.jr=!0)},dc:function(){if(!this.XC){this.w("render");this.jr=!1;var a={};if(this.Ma){for(var b=[],c=0,d=this.Ma.length;c<d;c+=1)b.push(this.Ma[c]),this.Ma[c].$h&&b.push(this.Ma[c].$h);b.sort(function(a,b){var c=a.get("zIndex"), d=b.get("zIndex");return c>d?1:c===d?a.Dz>b.Dz?1:-1:-1});a.Ma=b;a.size=this.get("size");b=f.l.ca?Math.min(window.devicePixelRatio||1,2):1;a.f1=15E5<a.size.width*a.size.height*b*b;a.W=f.l.W;a.V=this.P.ux();a.M=this.P.view.get("resolution");a.rm=this.get("mapStyle");a.Xh=this.Xh;a.ed=this.Sg;a.Zd=this.Mh;a.ve=this.Hh;a.nG=this.Hh&&f.l.W;a.WR=f.l.W&&this.Mh;a.Ny=f.l.W&&this.Sg;this.Ny=a.Ny;a.ei=a.V.zoom>this.get("targetLevel");a.H5=!0;a.AM=this.AM;for(var b=!1,e,c=!1,d=0;d<this.Ma.length;d+=1)this.Ma[d].mg&& this.Ma[d].get("visible")&&a.V.zoom<=this.Ma[d].get("zooms")[1]&&(a.FF=!0),this.Ma[d].Ek().Oc&&(b=!0);for(d=0;d<this.Ma.length;d+=1)this.Ma[d].Qa.yM&&a.FF&&(!this.Mh&&this.Ma[d].Qa.get("visible")&&(e=this.Ma[d].Qa.yM(),e.Qba=1,e.zoom=a.V.zoom),c=!0);c?e&&this.Sb!==e&&(this.Sb=e):this.Sb=[];a.Sb=this.Sb;a.Oc=b;a.scale=Math.pow(2,a.V.zoom-a.V.ac);this.lt=a;if(e=this.qx())e.dc(a),this.Xh=!1}}},qx:function(){if(!this.Na||this.Na.type!==this.P.view.type)if(this.Na=null,"3D"==this.P.view.type){var a=this; f.$a.load("Map3D",function(){a.Na||(a.Na=new f.qb.jH(a),a.set("display"))})}else this.Na=new f.L.canvas.yc(this);return this.Na},K3:function(){var a=[],b=this.get("controls").Mc,c;for(c in b)b[c].hq&&b[c].hq()&&a.push(b[c].hq());return a},destroyChanged:function(){this.XC=1;this.K={};this.Vc&&(this.Vc.Qa.D("complete",this.sl,this),this.Vc.If(),this.Ma=f.g.zk(this.Ma,f.g.indexOf(this.Ma,this.Vc)));this.I_&&clearTimeout(this.I_);this.q_();this.FX();this.nB&&this.nB();this.r0();this.Mm();this.P=this.P.map= null;this.H=this.H.Jz=null;this.Uc&&(this.Uc.stop(),this.Uc=null);this.Od&&(this.Od.stop(),this.Od=null);this.fc&&(this.fc.stop(),this.fc=null)},r0:function(){var a=this.H;this.KU();f.A.N1(a);f.f.zQ(a);this.Eh=null;f.f.za(a,"amap-container");this.ya=null},jogEnableChanged:function(){this.get("jogEnable")?this.jo=!0:this.jo=!1},drawChanged:function(){var a=this,b,c,d=this.get("draw");if(d){this.Ik||(this.Ik=[]);b=0;for(c=this.Ik.length;b<c;b+=1)this.Ik[b].g7();f.$a.load("interaction",function(){var b= new f.t$({type:d,S:a.Cm},a);a.Ik.push(b);a.loaded=!0})}else if(this.Ik)for(b=0,c=this.Ik.length;b<c;b+=1)this.Ik[b].g7(),this.Ik[b].Eaa(),this.D("click",this.Ik[b].Hba,this)},he:function(a,b){return this.P.view.he(a,b)},re:function(a,b){return this.P.view.re(a,b)}});f.yc.nb({JW:function(){this.hs=!1;f.l.Yd&&("3D"===this.P.view.type?this.kU():this.iU());f.l.W||this.eU()},q_:function(){f.l.Yd&&("3D"===this.P.view.type?this.LX():this.KX());f.l.W||this.GX()},rotateEnableChanged:function(){this.xy=this.get("rotateEnable");f.l.Yd&&this.BM&&"3D"!==this.P.view.type&&(this.xy?this.BM():this.P5());this.rotation=this.xy?this.get("rotation"):0;this.set("rotation",this.rotation);this.set("display")},zoomEnableChanged:function(){this.get("zoomEnable")?(f.l.Yd&&this.wC&&"3D"!== this.P.view.type&&this.wC(),f.l.W||this.gU()):(f.l.Yd&&this.TE&&this.TE(),f.l.W||this.JX())},mousewheelChanged:function(){},GE:function(a){a&&this.p5(a.sn)},p5:function(a){this.hs=a},xG:function(){this.hs=!1},Hg:function(a,b,c){var d,e={};a||(a=window.event);var g=f.A.Rh(a,this.ya.Yb);f.l.Yd&&("touchend"!==a.type?this.K.UJ=g:g=this.K.UJ);e.ib=g;e.Cd=this.re(g);e.fe=this.Xd(e.Cd);c||(c=!1!==this.hs?this.hs?[this.hs]:null:this.MV(e.Cd))&&0<c.length&&c[0].Cl&&(d=c[0].Cl,e.sn=c[0]);d||(d=this);e.ld=d; e.J$=a.altKey;e.ctrlKey=a.ctrlKey;e.button=void 0===a.button?0:a.button;!b&&a.preventDefault&&a.preventDefault();return e},LA:function(a){return a&&a!==this&&a!==document},DB:function(){if(this.K.Bk&&this.K&&this.K.ue){var a=this.K.Bk.ib.Oa(this.K.ue);a.x||a.y?(this.K.Hh=!0,this.K.gk||(this.K.wj.w("dragstart",this.K.ct),this.K.gk=!0),this.K.wj.w("dragging",this.K.Bk),this.K.ue=this.K.Bk.ib):this.K.Hh=!1}},v8:function(a){for(var b=[],c=0;c<a.length;c+=1)a[c]&&(b=b.concat(a[c]));return b},uo:function(a, b,c){return a&&b&&(a.x-b.x)*(a.x-b.x)+(a.y-b.y)*(a.y-b.y)<(c||10)},MV:function(a){var b=this.qx();if(!b)return null;var c,d=this;this.Ma.sort(function(a,b){return a.get("zIndex")>b.get("zIndex")?-1:1});b.Vn(a,this.Ma,function(a){c=a;c=d.v8(c)},function(){c=[]});return c}});f.yc.nb({PW:function(){this.h("moveend",this.PP,this);f.l.Zg&&(f.l.Ty||f.l.sC)&&this.h("zoomend",this.IG,this);this.h("movestart",this.QP,this);this.h("zoomstart",this.VP,this);this.h("zoomend",this.UP,this);this.Pz();this.an=0;this.sv={};"undefined"===typeof window.requestAnimationFrame&&(this.an=2)},VP:function(){2!==this.an&&12===this.get("zoom")&&(this.an=1,f.g.kt.start(this.sv));this.Mh=!0},UP:function(){1===this.an&&13!==this.get("zoom")&&(this.an=0,f.g.kt.cancel(this.sv));this.Mh=!1;this.set("display")}, FX:function(){this.D("moveend",this.PP,this);f.l.Zg&&(f.l.Ty||f.l.sC)&&this.D("zoomend",this.IG,this);this.D("movestart",this.QP,this);this.D("zoomstart",this.VP,this);this.D("zoomend",this.UP,this);this.HX()},PP:function(a){this.Hh=!1;this.QQ();!a.YO&&this.get("limitBounds")?(a=this.B1())&&!a.Ob(this.get("center"))?this.Dy(this.get("zoom"),a,!1,!0):this.da("moveend"):this.da("moveend");this.set("display")},QP:function(){this.Hh=!0},dragEnableChanged:function(){(this.at=this.get("dragEnable"))?this.Oz(): this.mB()},da:function(a,b){var c;b&&(c=b.HP?{type:a,newsize:b.HP,oldsize:b.Q5}:{type:a,pixel:b.ib,target:this.P,lnglat:b.fe});this.P.w(a,c)},Pz:function(){this.h("click",this.rK);this.h("dblclick",this.tK);f.l.Yd&&this.TH();f.l.W||this.fU()},HX:function(){this.D("click",this.rK);this.D("dblclick",this.tK);f.l.Yd&&this.kK();f.l.W||this.IX()},Zv:function(a,b){var c=this.get("targetLevel")||this.get("zoom"),c=0<b?Math.floor(c)+1:Math.ceil(c)-1,c=Math.min(Math.max(c,this.get("zooms")[0]),this.get("zooms")[1]); c===this.get("zoom")||this.Od&&this.Od.Ao&&c===this.Od.end||this.nr(c,!1,a)},rK:function(a){this.da("click",a)},tK:function(a){this.get("doubleClickZoom")&&this.get("zoomEnable")&&this.Zv(a.Cd,1);this.da("dblclick",a)},baa:function(a){this.Zv(a.Dda,a.Eda);this.da("touchend",a)},Oz:function(){this.at&&("3D"===this.P.view.type?(this.h("dragstart",this.zK),this.h("dragging",this.vK),this.h("dragend",this.xK)):(this.h("dragstart",this.yK),this.h("dragging",this.uK),this.h("dragend",this.wK)))},mB:function(){this.at|| ("3D"===this.P.view.type?(this.D("dragstart",this.zK),this.D("dragging",this.vK),this.D("dragend",this.xK)):(this.D("dragstart",this.yK),this.D("dragging",this.uK),this.D("dragend",this.wK)))},yK:function(a){this.GE(a);this.Sg=!0;this.K.Zp=a.ib.x;this.K.dt=a.ib.y;this.Uc&&(this.Uc.stop(),this.am(!0));this.da("dragstart");this.da("movestart");this.w("movestart",a);this.C8()},uK:function(a){var b=this.K,c=a.ib.x-b.Zp,d=a.ib.y-b.dt;if(d||c){this.K.Hh=!0;b.Zp=a.ib.x;b.dt=a.ib.y;a=c;var b=d,e=this.xy? this.rotation:0;e&&(e*=Math.PI/180,a=c*Math.cos(e)+Math.sin(e)*d,b=-Math.sin(e)*c+Math.cos(e)*d);a=this.get("centerCoords").Oa((new f.G(a,b)).Nc(this.M));(b=this.VM(a))&&(d=Math.round(this.he(b).Oa(this.he(a)).y));this.um(this.ya.Nl,c,d);a.x=(a.x+f.g.Ra)%f.g.Ra;this.set("centerCoords",a,!0);this.set("center",this.Xd(a),!0);this.jo&&(this.He?(a=new Date,this.dn=100<a-this.He?new f.G(0,0):new f.G(c,d),this.He=a):this.He=new Date);this.da("dragging");this.da("mapmove")}else this.K.Hh=!1,this.dn=null}, um:function(a,b,c){if(a&&!(1>Math.abs(b)&&1>Math.abs(c))){var d=parseFloat(a.style.top)||0,e=parseFloat(a.style.left)||0,g="";this.rotation&&(g=f.f.Km[f.f.Ee]+":rotate("+this.rotation+"deg);overflow:visible;");a.style.cssText="position:absolute;top:"+(d+c)+"px;left:"+(e+b)+"px;"+g}},VM:function(a){var b=this.P.view.CH(),c=this.YF.height*this.M/2;return a.y<b.Yc+c?(a.y=b.Yc+c,a):a.y>b.Xc-c?(a.y=b.Xc-c,a):null},wK:function(){this.xG();100<new Date-this.He&&(this.dn=null);this.K.ue=null;this.Sg=!1;this.da("dragend"); if(this.jo&&this.dn)if(this.K.Hh){var a=this.dn,b=new f.G(0,0);this.Uc=new f.xh(a,b,function(a,b,e){return 600<=e?b:a.Nc(1-Math.pow(e/600,2)).floor()},1);this.Uc.zm=function(a){if(2>Math.abs(a.x)&&2>Math.abs(a.y))this.Uc.stop(),this.w("moveend"),this.am(),this.dn=this.He=null;else{var b=a.x,e=a.y,g=this.xy?this.rotation:0;g&&(g*=Math.PI/180,b=a.x*Math.cos(g)+Math.sin(g)*a.y,e=-Math.sin(g)*a.x+Math.cos(g)*a.y);b=this.get("centerCoords").Oa((new f.G(b,e)).Nc(this.M));e=this.VM(b);g=a.y;e&&(g=Math.round(this.he(e).Oa(this.he(b)).y)); this.um(this.ya.Nl,a.x,g);b.x=(b.x+f.g.Ra)%f.g.Ra;this.set("centerCoords",b,!0);this.set("center",this.Xd(b),!0);this.da("mapmove")}};this.Uc.Rj(this)}else this.w("moveend"),this.am(!0),this.dn=this.He=null;else this.w("moveend"),this.am(),this.dn=this.He=null},C8:function(){if(!this.K.refresh){var a=this;this.K.refresh=setInterval(function(){a.set("display",0)},f.l.W?400:100)}},IG:function(){if(f.l.Zg&&(f.l.Ty||f.l.sC)){for(var a=this.ya.S.childNodes,b=0;b<a.length;b+=1){var c=a[b];c instanceof HTMLCanvasElement&& (c.width=0);"amap-e"===c.className&&(c.style.height="0")}for(b=0;b<this.Ma.length;b+=1)c=this.Ma[b],"undefined"!==typeof AMap.IndoorMap&&c instanceof AMap.IndoorMap&&(c.tn&&(c.tn.width=0),c.Jp&&(c.Jp.width=0))}},am:function(a){this.K.refresh&&(clearInterval(this.K.refresh),this.K.refresh=null);a||(this.IG(),this.set("display",0))},QQ:function(a){this.set("refresh",a)}});f.yc.nb({setZoomSlow:function(a){this.Dy(a,null,!this.get("animateEnable"))},setPanTo:function(a){this.Dy(null,a,!this.get("animateEnable"))},zoomAndCenterChanged:function(a){var b=a[0];b<this.get("zooms")[0]&&(b=this.get("zooms")[0]);b>this.get("zooms")[1]&&(b=this.get("zooms")[1]);this.Dy(b,a[1],a[2]||!this.get("animateEnable"))},zoomChanged:function(){this.M=Math.pow(2,20-this.get("zoom"));this.w("closeOverlays");this.set("display",0)},rotationChanged:function(a){this.rotation=this.get("rotateEnable")? this.get("rotation"):0;this.P.w("rotate",{rotation:this.rotation||0});!0!==a&&this.set("display",0)},pitchChanged:function(){this.pitch=this.get("pitchEnable")?this.get("pitch"):0;this.P.w("pitch",{pitch:this.pitch||0});this.set("display",0)},centerCoordsChanged:function(){this.w("closeOverlays");this.set("display",0)}});f.yc.cz=f.Y.extend({C:function(a){this.Rc=a;this.rn=["zooms","visible","opacity","zIndex"];this.gs=!1;this.NU=this.mU();this.Rc.h("zoomend",this.PB,this);this.Rc.h("moveend",this.PB,this);this.PB()},mU:function(){for(var a=[[69,2],[72,14],[89,4],[96,4],[193,2],[196,14],[213,4],[220,4],[317,2],[320,14],[337,4],[344,4],[441,1],[444,14],[461,4],[468,4],[565,1],[568,14],[585,4],[592,4],[689,1],[692,14],[709,4],[716,4],[813,1],[816,14],[833,4],[840,4],[940,14],[957,4],[964,4],[1064,15],[1081,4],[1088, 4],[1188,16],[1205,4],[1212,4],[1312,21],[1336,4],[1436,21],[1460,4],[1560,21],[1584,4],[1684,21],[1708,4],[1808,21],[1832,4],[1932,21],[1956,4],[2056,21],[2080,4],[2180,21],[2204,4],[2304,21],[2328,4],[2428,21],[2452,4],[2552,22],[2576,4],[2676,22],[2700,4],[2800,22],[2824,4],[2924,22],[2948,4],[3048,22],[3072,4],[3172,22],[3196,4],[3295,23],[3320,4],[3418,24],[3444,4],[3541,26],[3568,4],[3664,27],[3692,4],[3788,27],[3816,4],[3912,32],[4036,32],[4160,32],[4285,31],[4394,4],[4409,31],[4517,5],[4531, 33],[4640,9],[4655,33],[4764,12],[4777,35],[4887,50],[5009,1],[5011,50],[5133,53],[5257,53],[5381,60],[5506,59],[5631,58],[5742,4],[5755,58],[5859,2],[5865,6],[5879,58],[5977,8],[5987,10],[5999,2],[6002,59],[6100,78],[6222,80],[6344,82],[6464,1],[6466,84],[6586,88],[6708,90],[6831,91],[6955,91],[7078,92],[7202,92],[7327,91],[7451,91],[7575,91],[7698,92],[7820,94],[7942,96],[8065,97],[8187,99],[8310,100],[8435,99],[8558,100],[8681,101],[8805,101],[8929,102],[9053,104],[9179,3],[9183,100],[9307,104], [9435,101],[9561,48],[9613,49],[9663,1],[9686,44],[9745,44],[9810,33],[9871,42],[9934,32],[9997,40],[10058,32],[10120,41],[10181,30],[10244,42],[10306,27],[10369,3],[10374,39],[10434,18],[10501,37],[10558,19],[10626,36],[10683,18],[10752,35],[10807,17],[10880,32],[10937,10],[10997,39],[11061,9],[11121,31],[11155,5],[11186,5],[11245,31],[11311,3],[11370,29],[11494,26],[11624,18],[11748,17],[11873,16],[11997,15],[12123,13],[12246,13],[12370,12],[12498,1],[12500,2]],b=[],c=0,d=a.length;c<d;c++)for(var e= a[c][0],g=e+a[c][1];e<g;e++)b[e]=1;return b},mX:function(a,b){var c=parseInt((a-73)/0.5),d=parseInt((b-3.5)/0.5);return 0>d||101<=d||0>c||124<=c?!1:1===this.NU[124*d+c]},UT:function(){var a=this.Rc.P.getBounds();if(a){for(var a=[a.jg(),a.rt(),a.pt(),a.Ki(),a.em()],b=0,c=a.length;b<c;b++)if(this.mX(a[b].$N(),a[b].YN()))return!0;return!1}},PB:function(){if(!this.xL){var a=this;a.xL=setTimeout(function(){a.xL=null;a.gV()},0)}},gV:function(){var a=this.SV();0<a.length&&10<=this.Rc.get("zoom")&&!1===this.UT()? this.Z_(a):this.vW(a)},PU:function(a){if(a.qw)for(var b=0,c=this.rn.length;b<c;b++)a.D(this.rn[b],a.qw.gB)},W_:function(a,b){this.PU(a);if(a.qw=b)for(var c=0,d=this.rn.length;c<d;c++)a.h(this.rn[c],b.gB)},IL:function(a,b){b&&(b.vX=a);for(var c=0,d=a.length;c<d;c++)this.W_(a[c],b)},SV:function(){for(var a=this.Rc.Ma,b=[],c=0,d=a.length;c<d;c++)a[c]!==this.Sf&&a[c].Qa instanceof Bc&&a[c].Qa.pE()&&b.push(a[c]);return b},V_:function(a){var b=this;a.gB=function(){a.gK||(a.gK=setTimeout(function(){a.gK= null;b.wX(a)},0))}},TU:function(a,b){for(var c=0,d=this.rn.length;c<d;c++)a.set(this.rn[c],b.get(this.rn[c]))},wX:function(a){var b=a.vX;if(b&&b.length)for(var c=0,d=b.length;c<d;c++){if(!(b[c]instanceof f.S.Og)){this.TU(a,b[c]);break}}else console.warn("No moni layers")},Z_:function(a){if(!this.gs){this.gs=!0;this.Sf||(this.Sf=new f.S.of(new Bc.cz,this.Rc),this.Sf.wm=!1,this.Sf.bs=!0,this.V_(this.Sf));var b=this.Rc.Ma;0>b.indexOf(this.Sf)&&b.push(this.Sf);this.IL(a,this.Sf);this.Sf.gB();this.Y_(); this.Rc.layersChanged();this.Rc.P.w("googleTileVisibleChanged",{display:!0})}},KA:function(){return this.gs},vW:function(a){this.gs&&(this.gs=!1,this.IL(a,null),this.Sf&&(this.Sf.set("visible",!1),a=this.Rc.Ma,f.g.zk(a,a.indexOf(this.Sf)),this.Sf.If(),this.Sf.Qa.D("complete",this.Rc.sl,this.Rc),this.Sf=null),this.uW(),this.Rc.layersChanged(),this.Rc.P.w("googleTileVisibleChanged",{display:!1}))},YI:function(a,b,c){if(!a)return null;a=f.f.getElementsByClassName(b,c,a);return a.length?a[0]:null},RV:function(a){var b= this.Rc.ya;if(b&&b.Oh){var c=this.YI(b.Oh,"google-copyright","span");!c&&a&&(c=f.f.create("span",b.Oh,"google-copyright"),c.innerHTML=" - Data &copy; Google");return c}},WL:function(a){var b=this.RV(a);b&&(b.style.display=a?"":"none");this.Rc.ya&&(b=this.YI(this.Rc.ya.Oh,"amap-mcode","span"))&&(b.style.display=a?"none":"")},Y_:function(){this.WL(!0)},uW:function(){this.WL(!1)}});f.yc.nb({LW:function(){this.get("3rdpartyDataEnable")&&(this.oJ=new f.yc.cz(this))},KA:function(){return this.oJ&&this.oJ.KA()}});f.uH=f.Y.extend({ia:[f.ga,f.Gd],C:function(a,b){this.type="2D";this.map=a;this.jf(b,!0);this.centerChanged();a.td("zoom center centerCoords scale rotation pitch resolution".split(" "),this);this.td(["crs","refresh"],a)},getResolution:function(a){return this.map.Xs.RD(a||this.get("zoom"))},CH:function(){this.Ez||this.a2();return this.Ez},a2:function(){var a;if(this.get("center")instanceof f.U){a=new f.me(-180,-85,180,85);var b=this.map.Wb(a.Ki());a=this.map.Wb(a.em());this.Ez={Kd:b.x,Yc:b.y,nd:a.x, Xc:a.y}}else a=this.map.get("limitBounds"),this.Ez={Kd:a[0],Yc:a[1],nd:a[2],Xc:a[3]}},ux:function(){var a=this.map,b=this.get("zoom");return{zoom:b,bg:this.get("center"),la:this.Ii(),La:this.get("centerCoords"),rotation:a.get("rotateEnable")&&parseInt(this.get("rotation"))||0,Dd:a.get("crs"),M:Math.pow(2,20-b),ac:Math.round(b),Ld:Math.pow(2,20-Math.round(this.get("zoom")))}},centerChanged:function(){this.set("centerCoords",this.map.Wb(this.get("center")),!0)},centerCoordsChanged:function(){var a= this.map,b=this.CH(),c=this.get("centerCoords"),d=a.getSize(),e=this.get("zoom",null,!0),a=this.get("center",null,!0),d=d.height*Math.pow(2,20-e)/2;a instanceof f.U?c.x=(c.x+268435456)%268435456:0>c.x?c.x=0:c.x>b.nd&&(c.x=b.nd);c.y<b.Yc+d?c.y=b.Yc+d:c.y>b.Xc-d&&(c.y=b.Xc-d);this.set("center",this.map.Xd(c),!0)}});f.sT=f.uH.extend({Ii:function(){var a=this.map.get("size"),b=this.get("centerCoords"),c=(this.map.get("rotateEnable")&&parseInt(this.get("rotation")))%360||0,d=this.get("zoom",null,!0),e=Math.pow(2,20-d),c=Math.PI*c/180,a=new f.G((Math.abs(a.width*Math.cos(c))+Math.abs(a.height*Math.sin(c)))/2,(Math.abs(a.width*Math.sin(c))+Math.abs(a.height*Math.cos(c)))/2),e=new f.ne(b.Oa(a.Nc(e)),b.add(a.Nc(e))),c=this.map.get("targetLevel");if(c>d-1){var g=Math.pow(2,20-c);e.az=new f.ne(b.Oa(a.Nc(g)),b.add(a.Nc(g)))}e.hG= c||d;e.tb=a;return e},oc:function(){var a=this.Ii(),b=a.uc.x,c=a.ub.y,a=new f.G(a.ub.x,a.uc.y),b=new f.G(b,c);return new f.me(this.map.Xd(a),this.map.Xd(b))},zoomChanged:function(){},he:function(a,b){this.map.get("size");var c=a.Gb(),d=this.get("centerCoords"),c=c.Oa(d);c.x<-f.g.Ra/2?c.x+=f.g.Ra:c.x>f.g.Ra/2&&(c.x-=f.g.Ra);var d=this.map.get("size").br().Rb(2),e=(this.map.get("rotateEnable")?this.get("rotation"):0)*Math.PI/180;return d.add((new f.G(c.x*Math.cos(e)-Math.sin(e)*c.y,Math.sin(e)*c.x+ Math.cos(e)*c.y)).Nc(Math.pow(2,(b||this.get("zoom"))-20)))},re:function(a,b){var c=this.map.get("size").br().Rb(2),d=a.Oa(c),e=(this.map.get("rotateEnable")?this.get("rotation"):0)*Math.PI/180,c=d.x*Math.cos(e)+Math.sin(e)*d.y,d=-Math.sin(e)*d.x+Math.cos(e)*d.y,c=this.get("centerCoords").add((new f.G(c,d)).Nc(Math.pow(2,20-(b||this.get("zoom")))));c.x=(c.x+268435456)%268435456;return c}});f.tT=f.uH.extend({C:function(a,b){this.to=new f.Ah;this.Aq=new f.Ah([1,0,0,0,0,-1,0,0,0,0,-1,0,0,0,0,1]);arguments.callee.Ba.apply(this,arguments);this.scale=1;this.type="3D";this.Rv=!0;this.JE=f.g.bind(this.JE,this)},refreshChanged:function(){this.Mo()},zoomChanged:function(){this.Mo()},centerChanged:function(){arguments.callee.Ba.apply(this,arguments);this.Mo()},centerCoordsChanged:function(){arguments.callee.Ba.apply(this,arguments);this.Mo()},rotationChanged:function(){this.Mo()},pitchChanged:function(a){this.Pg.pitch= Math.min(this.map.get("maxPitch"),Math.max(a,0));this.Mo()},Mo:function(){this.F9();this.D9();this.L2()},L2:function(){f.g.Sh();this.Rv=!1;this.dB&&clearTimeout(this.dB);this.dB=setTimeout(this.JE,150)},JE:function(){this.dB=null;this.Rv=!0},Rba:function(){return this.Rv},D9:function(){var a=this.get("centerCoords"),b=this.get("pitch"),c=this.get("rotation");this.map.get("rotateEnable")||(c=0);this.map.get("pitchEnable")||(b=0);this.$P=a=(new f.Ah).mR(-a.x+f.g.Fe.x,-a.y+f.g.Fe.y,0);b=(new f.Ah).TF(180- b,1,0,0);c=(new f.Ah).TF(c,0,0,1);this.Aq=(new f.Ah).mR(0,0,-this.rk).multiply(b.multiply(c.multiply(a)))},F9:function(a){a=a||this.get("zoom");var b=this.map.get("size"),c=b.height,b=b.width/c,c=c/2*Math.pow(2,20-a);a=(51-2*a)*Math.PI/180;var d=c/Math.tan(a/2);512>d&&(d=512,a=2*Math.atan(c/d));this.rk=d;this.Px=this.rk/8;this.sD=48*this.rk;this.w2=(this.rk-this.Px)/(this.sD-this.Px);this.to.i8(a,b,this.Px,this.sD)},ux:function(){var a=this.map,b=this.get("zoom");a.map.Vq&&this.Mo();return{zoom:b, top:this.top,bg:this.get("center"),la:this.Ii(),La:this.get("centerCoords"),rotation:a.get("rotateEnable")&&parseInt(this.get("rotation"))||0,pitch:a.get("rotateEnable")&&this.get("pitch")||0,fea:this.get("yaw"),Dd:a.get("crs"),M:Math.pow(2,20-b),ac:Math.round(b),Ld:Math.pow(2,20-Math.round(this.get("zoom"))),to:this.to,Aq:this.Aq}},Ii:function(){var a=this.map.get("size"),b=a.width,a=a.height,c=this.re(new f.G(0,0),!0),d;d=0;c=this.re(new f.G(0,d),!0);if(55<this.Pg.pitch||!c)for(;!c;)d+=b/64,c=this.re(new f.G(0, d),!0);this.top=d/a;d=this.re(new f.G(b,d),!0);var e=0,g=this.Pg.zoom;50<=this.Pg.pitch&&18<=g&&(e=19.5<g?768:18.5<g?512:256);g=this.re(new f.G(b,a+e),!0);e=this.re(new f.G(0,a+e),!0);c=[c.su(),d.su(),g.su(),e.su(),c.su()];c=new f.OG(c);c.OM=this.re(new f.G(b/2,a+256),!0);g=this.get("zoom",null,!0);b=this.map.get("targetLevel");c.hG=b||g;return c},oc:function(){for(var a=this.Ii(),b=[],c=0;c<a.path.length;c+=1){var d=this.map.Xd(new f.G(a.path[c][0],a.path[c][1]));b.push(d)}return new f.OG(b)},he:function(a){a= this.DP([a]);a=a[0];return new f.G(a.x,a.y)},re:function(a,b){var c=this.map.get("size"),d=a.x/c.width*2-1,e=1-a.y/c.height*2,c=new f.uz([d,e,-1,1]);c.multiply(this.Px);c=this.to.Gt().Bq(c);d=new f.uz([d,e,1,1]);d.multiply(this.sD);d=this.to.Gt().Bq(d);e=this.Aq.Gt();c=e.Bq(c).elements;d=e.Bq(d).elements;e=c[2]/(c[2]-d[2]);return 0>d[2]||0>e||b&&e>2.5*this.w2?null:(new f.G(c[0]-e*(c[0]-d[0]),c[1]-e*(c[1]-d[1]))).add(f.g.Fe)},DP:function(a){for(var b=this.get("center"),c=this.map,d=f.g.Fe.x,e=f.g.Fe.y, g=this.map.get("size"),h=[],k=new f.uz([0,0,0,1]),l=k.elements,m=new f.G(0,0),n=0,p=a.length;n<p;n++){m.x=a[n].x;m.y=a[n].y;var q=c.Xd(m);-180>b.N-q.N?m.x-=268435456:180<b.N-q.N&&(m.x+=268435456);l[0]=m.x-d;l[1]=m.y-e;l[2]=0;l[3]=1;q=this.to.Bq(this.Aq.Bq(k));q.multiply(1/q.elements[3]);h.push({x:(q.elements[0]+1)/2*g.width,y:(-q.elements[1]+1)/2*g.height,z:q.elements[2]})}return h}});f.g.Fe=new f.G(215440491,106744817); ',true),_jsload_('anip', 'f.yc.nb({TM:function(a,b,c){var d=this;d.Yy?(clearTimeout(d.Yy),d.Yy=null):(d.da("zoomstart",{zoom:a}),d.w("zoomstart"));d.Yy=setTimeout(function(){d.Yy=null;d.da("zoomend",{zoom:a});d.da("zoomchange",{zoom:a});d.w("zoomend")},150);d.nr(a,!0,b,c)},nr:function(a,b,c,d){function e(b){var c=this.re(k);this.set("zoom",b);c=this.re(k).Oa(c);this.set("centerCoords",this.get("centerCoords").Oa(c));c.x&&c.y&&this.da("mapmove");b===a&&Math.floor(a)===a&&(this.set("targetLevel",null),g&&(this.da("zoomchange"), this.da("zoomend")),h&&this.w("moveend"),this.w("zoomend"),this.Od=null)}"3D"!==this.P.view.type&&(f.l.W||f.l.Jd)&&(b=!0);a=a||this.get("zoom");a=Math.min(Math.max(a,this.get("zooms")[0]),this.get("zooms")[1]);var g=a!==this.get("zoom"),h=!!c;this.Uc&&(this.Uc.stop(),this.Uc=null);c=c||this.get("centerCoords");var k=this.he(c),l;this.fc&&this.fc.Ao&&(this.fc.stop(),this.fc.bE&&(d=!0),this.fc.tt&&(l=!0),this.fc=null,this.set("targetLevel",null));this.Od&&this.Od.Ao&&(this.Od.stop(),d=!0,this.Od.tt&& (l=!0),this.Od=null,this.set("targetLevel",null));g&&!d&&this.da("zoomstart");h&&!l&&this.da("movestart");this.w("zoomstart");b?e.call(this,a):(this.Od=new f.xh(this.get("zoom"),a,null,0.02),this.Od.bE=g,this.Od.tt=h,this.Od.transition=function(a,b,c){return c>=f.r.Kw?b:(b-a)*(1-Math.pow(1-c/f.r.Kw,4))+a},this.Od.zm=e,this.Od.Rj(this),this.set("targetLevel",a))},Dy:function(a,b,c,d){var e=null;a||(a=this.fc?this.fc.J8:this.get("targetLevel")||this.get("zoom"));var e=b?this.Wb(b):this.fc?this.fc.JR: this.get("centerCoords"),g=a!==this.get("zoom"),h=!e.Ob(this.get("centerCoords")),k=b=!1;this.Od&&this.Od.Ao&&(this.Od.stop(),b=!0,this.Od.tt&&(k=!0),this.Od=null,this.set("targetLevel",null));this.fc&&this.fc.Ao&&(this.fc.stop(),this.fc.bE&&(b=!0),this.fc.tt&&(k=!0),this.fc=null,this.set("targetLevel",null));this.Uc&&(this.Uc.stop(),this.Uc=null);if(g||h){if(!this.P.view.Ii().contains(e)||g&&"3D"!==this.P.view.type&&(f.l.W||f.l.Jd))c=!0;if(c)g&&(b||(this.w("zoomstart"),this.da("zoomstart")),this.set("zoom", a),this.da("zoomchange"),this.da("zoomend"),this.w("zoomend")),h&&(k||d||(this.da("movestart"),this.w("movestart")),this.set("centerCoords",e),this.da("mapmove"),this.w("moveend",{YO:d})),this.set("targetLevel",null);else{this.set("targetLevel",a);var l=a-this.get("zoom"),m=e.Oa(this.get("centerCoords"));this.fc=new f.xh(1,0,null,0.001);this.fc.bE=g;this.fc.tt=h;this.fc.JR=e;this.fc.J8=a;this.fc.transition=function(a,b,c){return Math.pow(1-Math.min(f.r.Kw,c)/f.r.Kw,2)};this.fc.zm=function(b){0.02> b?(this.fc&&(this.fc.stop(),this.fc=null),g&&(this.set("zoom",a),this.da("zoomchange"),this.da("zoomend"),g=!1,this.w("zoomend")),h&&(this.set("centerCoords",e),this.w("mapmove"),this.w("moveend",{YO:d})),this.set("targetLevel",null)):(g&&this.set("zoom",a-l*b),h&&(b=e.Oa(m.Nc(b)),this.set("centerCoords",b),this.da("mapmove")));this.set("display",1)};this.fc.Rj(this);g&&!b&&(this.w("zoomstart"),this.da("zoomstart"));!h||k||d||(this.w("movestart"),this.da("movestart"))}}}}); ',true),_jsload_('layers', 'f.S={}; f.S.Pd=f.Y.extend({ia:[f.ga,f.Gd],C:function(a,b){this.Qa=a;this.Pc=[3,18];this.Dz=f.g.Bb(this);a&&this.td(["opacity","visible","zIndex","zooms"],a);this.j=b;this.T("display",b)},If:function(){this.mg&&this.KC();if(f.Ha&&f.Ha.Pm&&f.Ha.Pm.length){var a=f.g.indexOf(f.Ha.Pm,this);-1!==a&&(f.Ha.Pm=f.g.zk(f.Ha.Pm,a))}if(a=this.ob){if(a.length)for(var b=0;b<a.length;b+=1)a[b].parentNode&&a[b].parentNode.removeChild(a[b]);else a.parentNode&&a.parentNode.removeChild(a);this.ob=null}this.Qa.If&&this.Qa.If();this.Qa.Ci= !1;this.Qa.S=null;this.Mm();this.L&&(this.L.WC(),this.L=null)},da:function(a,b){this.Qa.w(a,b)},visibleChanged:function(){this.set("display",0)},zIndexChanged:function(){this.set("display",0)},SF:function(a){f.f.Gm(a,this.opacity)},opacityChanged:function(){var a=this.get("opacity");this.opacity=Math.min(Math.max(0,a),1);if(a=this.ob)if(a.length)for(var b=0;b<a.length;b+=1)this.SF(a[b]);else this.SF(a)},FD:function(){var a=this.get("bounds");if(a){if(a instanceof f.me){var b=a.Ki(),c=a.em(),d=this.j.Wb(new f.U(180, 0)).x,e=this.j.Wb(b),g=this.j.Wb(c),h=this.j.get("center");b.N>c.N&&(0<h.N?g.x+=d:e.x-=d);this.B=[e.x,e.y,g.x,g.y]}a instanceof f.ne&&(this.B=[a.ub.x,a.ub.y,a.uc.x,a.uc.y]);return this.B}return null}});function Zc(a,b,c){this.z=a;this.x=b;this.y=c}Zc.prototype.Gb=function(){return new Zc(this.z,this.x,this.y)};Zc.prototype.toString=function(){return[this.z,this.x,this.y].join("/")};f.of=function(a,b){this.ka=a;this.key=a.toString();this.url=b};f.zh=Zc;f.S.of=f.S.Pd.extend({C:function(a,b,c,d,e){arguments.callee.Ba.apply(this,arguments);this.T("tileSize",a);this.T("tiles",a);this.td(["zooms","type","detectRetina","tileFun","errorUrl"],a);this.T("lang",b,!0);this.T("mapStyle",b,!0);this.T("style",b,!0);this.T("features",b,!0);var g="overlayer"===a.get("type");this.Ch=!g&&!f.l.W;if(f.l.Jd||f.l.cea)this.Ch=!1;var h=b.get("size"),h=h.width*h.height/65536;this.ca=f.l.W&&f.l.ca&&this.get("detectRetina");f.l.Oc&&f.l.W&&9<h&&(this.Ch=!1);this.xg=!g;this.yg= !g;this.T("reload",a);this.V8=c;this.Ad=d;this.HO=e},langChanged:function(){this.set("reload");this.Qa.Em()},mapStyleChanged:function(){this.set("reload");this.Qa.Em()},styleChanged:function(){this.j.nc||(this.set("reload"),this.Qa.Em())},featuresChanged:function(){this.set("reload");this.Qa.Em()},reloadChanged:function(){this.set("display",0)},tileFunChanged:function(){this.set("reload")},Ek:function(){return{Fc:this.get("tileSize"),visible:this.get("visible"),B:this.FD(),Pc:this.get("zooms"),Ow:this.Ch, xg:this.xg,yg:this.yg,opacity:this.get("opacity"),Cf:this.V8||this.get("tileFun"),Oc:this.Qa.wm?!1:this.get("detectRetina")&&f.l.ca&&f.l.W}},qj:function(a){if(f.L.Kc.Ng)return new f.L.Kc.Ng(this,a)}});f.S.jd=f.S.Pd.extend({C:function(a,b){this.Sa=Math.min(2,window.devicePixelRatio||1);this.Oc=f.l.ca&&!a.Uh;this.map=b;this.dl=0;this.Li=!1;this.ef=this.ye=0;this.xe=[];arguments.callee.Ba.apply(this,arguments);this.po=[];this.bf=new f.S.UG;a&&(this.T("style",a),this.T("cursor",a,!0),this.z8=a.get("stable")||!1,this.T("dataSources",a),this.T("bubble",a));this.T("display",b);this.aU()},Ek:function(){return{visible:this.get("visible"),Pc:this.get("zooms"),opacity:this.get("opacity"),zIndex:this.get("zIndex"), Ns:this.Qa.get("alwaysRender")||!1}},dataSourcesChanged:function(){var a=this.get("dataSources");a&&a.length?"string"===typeof a?(new f.Aa.Pa(a)).h("complete",function(a){this.bQ(a.data);this.Ul=a.data;this.Li=!0;this.set("display");this.Ja=!0;this.Qa.w("complete")},this):a.length&&(this.bQ(a),this.Ul=a,this.Li=!0,this.set("display"),this.Ja=!0,this.Qa.w("complete")):this.clear()},getDatas:function(){return this.Ul},A9:function(){if(this.Qa.Uh){var a=this.Yi;this.ye=a.ye;this.ef=a.ef}},da:function(a, b){var c={type:a,data:"mouseout"===a?this.fX||null:b.sn.Ta,target:this.Qa};this.fX="mouseout"===a?null:b.sn.Ta;this.Qa.w(a,c)},caa:function(){},Mb:function(a){this.da(a.type,a)},aU:function(){this.h("click",this.Mb);this.h("dblclick",this.Mb);this.h("mousedown",this.Mb);this.h("mouseup",this.Mb);this.h("mouseover",this.Mb);this.h("mouseout",this.Mb);this.h("touchstart",this.Mb);this.h("touchend",this.Mb)},jaa:function(){this.D("click",this.Mb);this.D("dblclick",this.Mb);this.D("mousedown",this.Mb); this.D("mouseup",this.Mb);this.D("mouseover",this.Mb);this.D("mouseout",this.Mb);this.D("touchstart",this.Mb);this.D("touchend",this.Mb)},styleChanged:function(){this.Yi=this.get("style");this.A9();this.set("display",0)},bQ:function(a){if(a){this.clear();for(var b=0;b<a.length;b+=1){var c=a[b].lnglat;a[b].lnglat=f.g.sa(c);c=this.map.Wb(c);c=new f.Te({name:"point-"+f.g.Bb(this),xa:new f.fa.Ce([c.x,c.y],!0)});c.Cl=this;c.Ta=a[b];this.Gw(c)}}},dO:function(a){if("geojson"===a)return new f.ES({map:this.map}); if("topjson"===a)return new f.D$({map:this.map});if("subway"===a)return new f.A$({map:this.map})},F6:function(a){if(a){var b=[],b=[],c={};if(a.rules){for(var b=a.rules,d=0,e=b.length;d<e;d+=1){for(var g=[],h=b[d].symbolizers,k=0,l=h.length;k<l;k+=1)h[k].fill&&(g[k]=new f.style.pe.VG(h[k].fill)),h[k].stroke&&(g[k]=new f.style.pe.qH(h[k].stroke));h=g;b[d].Jy=h;b[d]=new f.style.bT(b[d])}c.rules=b}if(a.symbolizers){b=a.symbolizers;a=0;for(d=b.length;a<d;a+=1)b[a].fill&&(b[a]=new f.style.pe.VG(b[a].fill)), b[a].stroke&&(b[a]=new f.style.pe.qH(b[a].stroke));c.Jy=b}a=new f.sz(c)}else a=new f.sz({});this.set("style",a);return a},iaa:function(a,b){if(-1===f.g.indexOf(a,f.r.Fb)){var c=new f.Aa.Pa(a);c.h("complete",function(c){c=this.Ea[a]=this.dO(b).iy(c);this.vn(c);this.da("complete")},this);c.h("error",this.pb,this)}else(new f.Aa.XMLHttpRequest(a)).h("complete",function(c){c=eval("("+c.data+")");c=this.Ea[a]=this.dO(b).iy(c);this.vn(c)},this)},Y6:function(a){a.Dm>this.tm&&(this.tm=a.Dm,this.xq=this.tm/ this.map.get("resolution",20))},Gw:function(a){this.bf.add(a);if(!this.$s&&!this.Qa.Uh){if(0===a.name.indexOf("circle")){a.h("rad",this.Y6,this);var b=a.get("radius");this.tm?b>this.tm&&(this.tm=b,this.xq=this.tm/this.map.get("resolution",20)):(this.tm=b,this.xq=this.tm/this.map.get("resolution",20))}b=a.get("strokeWeight")||0;if(!this.yq||b>this.yq)this.yq=b}this.z8||a.T("feature",this,!0)},vn:function(a){this.Li=!0;for(var b=0,c=a.length;b<c;b+=1)this.Gw(a[b])},clear:function(){this.Li=!0;this.Ul= [];this.bf.clear();this.set("display",0)},Dg:function(a){var b;return 0>a[0]?(b=[a[0]+f.g.Ra,a[1],f.g.Ra,a[3]],a=[0,a[1],a[2],a[3]],b=this.bf.Dg(b),a=this.bf.Dg(a),f.extend(b,a)):a[2]>f.g.Ra?(b=[a[0],a[1],f.g.Ra,a[3]],a=[0,a[1],a[2]-f.g.Ra,a[3]],b=this.bf.Dg(b),a=this.bf.Dg(a),f.extend(b,a)):this.bf.Dg(a)},tba:function(a){var b,c=this.get("style"),d=a.sh;c instanceof f.sz||(c=this.F6(c));if(d&&0<d.length)b=c.iN(d,a);else{if(c.ZQ.length||c.sh.length)b=c.o2(a);b||(b=a.R3())}return b},YD:function(a){function b(a, b){return a.yj-b.yj}var c=[],d,e,g,h,k,l={};for(d in a)if(a.hasOwnProperty(d)){g=a[d];h=g.get("zIndex");for(e in l)if(l.hasOwnProperty(e)&&(k=c[l[e]][2],k===h))break;"undefined"===typeof l[h]&&(c.push([[],[],h]),l[h]=c.length-1);h=c[l[h]];h[0].push(g)}c.sort(this.u8);a=0;for(d=c.length;a<d;a+=1)c[a][0].sort(b);return c},featureChanged:function(a){this.Li=!0;var b=a.target,c=b.xa;0!==this.bf.W3([f.g.Bb(b)]).length&&(this.bf.remove(b,a.qo),c&&!a.E2&&this.bf.add(b))},AQ:function(a){this.Li=!0;for(var b, c=0,d=a.length;c<d;c+=1)b=a[c],b.xa.qo=null,b.$l(!0),b.vh("feature")},yda:function(a,b){return a[1].zIndex===b[1].zIndex?f.g.Bb(a[1])-f.g.Bb(b[1]):a[1].zIndex-b[1].zIndex},u8:function(a,b){return a[2]-b[2]},qda:function(a){return a.xba()===f.S.H$.y$},qj:function(a){return this.$s?new f.L.Wc.gi(this,a):"c"===this.map.get("overlayRender")&&f.L.canvas.gi?new f.L.canvas.gi(this,a):f.L.Kc.gi&&"d"===this.map.get("overlayRender")?new f.L.Kc.gi(this,a):null}}); f.S.jd.nb({Fn:function(a){return this.$s?new f.qb.Wc.gi(this,a):new f.qb.gi(this,a)}});f.S.UG=f.Y.extend({C:function(){this.clear()},clear:function(){this.Hk=[];this.AF=new f.sg},add:function(a){var b=f.g.Bb(a),c=a.xa;this.Hk[b]||(this.count+=1,this.Hk[b]=a,c&&!f.B.Ob(c.oc(),[Infinity,Infinity,-Infinity,-Infinity])&&this.AF.Et(c.oc(),a))},nba:function(){return this.Hk},Dg:function(a){return this.AF.P7(a)},W3:function(a){var b=a.length,c=[],d;for(d=0;d<b;d+=1)this.Hk[a[d]]&&c.push(this.Hk[a[d]]);return c},remove:function(a,b){var c=f.g.Bb(a).toString(),d=a.xa;this.Hk[c]&&(this.Hk[c]= null,d&&(c="undefined"!==typeof b?b:d.oc(),this.AF.remove(c,a)))}});function $c(a,b,c){this.url=a;this.Bc=b;this.yD=c;this.Nh=this.ry=!1}function ad(a,b,c){var d=bd;return function(){return d.call(this,a,b,c)}}function bd(a,b,c){a.$aa=+new Date;a.loaded=b;clearTimeout(a.Y8);var d=a.m5;d.Vi.remove(a.url)&&d.gX();d=a.V4?a.Ea:a.va;a.Ea=null;(c||b||a.yD)&&a.Bc(b?d:null,a);a.dP?(a.dP.wk(),a.dP=null):d&&(d.onload=null,d.onerror=null,d.onabort=null,a.va=null)} f.dz=f.Y.extend({L$:"assets/image/blank.gif",C:function(a,b,c){this.timeout=b||15E3;this.$k=new f.Qd(1024);this.Vi=new f.Qd(1024);this.eN=a;this.nD=c},Uz:function(a){a&&this.Vi.count>=this.eN&&(a=this.Vi.Nb.bb.value,a.Nh&&(this.Vi.remove(a.url),this.IH(a)));for(;this.$k.count&&!(this.Vi.count>=this.eN);)this.hV(this.$k.shift())},gX:function(){if(!this.eI){this.eI=!0;var a=this;setTimeout(function(){a.eI=!1;a.Uz()},0)}},hV:function(a){var b=document.createElement("img");a.C3&&(b.crossOrigin="anonymous"); b.src=a.url;a.va=b;a.m5=this;a.startTime=+new Date;a.ry=!0;b.complete?bd(a,!0):(this.Vi.set(a.url,a),b.onload=ad(a,!0),b.onerror=ad(a,!1,!0),b.onabort=ad(a,!1),a.Y8=setTimeout(ad(a,!1,!0),this.timeout))},IH:function(a){a.ry&&(bd(a,!1),a.Nh=!0,a.naa=!0)},dca:function(a,b,c){return this.oP(a.url,b,c,!0,a.ka.z+"_"+a.ka.x+"_"+a.ka.y)},oP:function(a,b,c,d,e){var g=this.Vi.get(a);if(g&&g.Nh)g.Nh=!1,g.Bc=b,g.yD=c;else{g=new $c(a,b,c);g.V4=d;g.key=e;if(this.$k.get(f.g.Bb(g)))return;this.$k.set(f.g.Bb(g), g);this.Uz(!0)}return g},i5:function(a,b,c){var d=this.Vi.get(a);if(d&&d.Nh)d.Nh=!1,d.Bc=b,d.yD=c;else{d=new $c(a,b,c);d.C3=!0;if(this.$k.get(f.g.Bb(d)))return;this.$k.set(f.g.Bb(d),d);this.Uz(!0)}return d},RM:function(a){a.Nh||(a.Nh=!0,this.$k.remove(f.g.Bb(a)))},clear:function(a){this.$k.forEach(function(a){a.Nh=!0});this.$k.clear();if(a)for(;0<this.Vi.length;)a=this.Vi.pop(),this.IH(a);else this.Vi.forEach(function(a){a.Nh=!0})}});var cd=function(){function a(a){this.zz[f.g.Bb(a)]=a;return this}function b(a){this.zz[f.g.Bb(a)]=null;return this}return function(){function c(){var a=c.zz,b,g=[],h;for(h in a)Object.prototype.hasOwnProperty.call(a,h)&&g.push(a[h]);for(a=g.length-1;0<=a;a-=1)h=g[a].apply(this,arguments),void 0!==h&&(b=h);return b}c.zz={};c.mM=a;c.Uca=b;return c}}(); f.Qd=f.Y.extend({ia:[f.ga],C:function(a,b){this.tl=a|0;this.Xu=!!b;this.count=0;this.WE=cd();this.clear();this.Ov=[]},It:function(){return!this.count},Pba:function(){return this.count>=this.tl},uda:function(a){this.tl!==a&&(this.tl=a|0)&&this.$L(this.tl)},Mc:function(a){return!!this.j[a]},get:function(a,b){var c=this.KI(a);return c?c.value:b},set:function(a,b){var c=this.KI(a);c?c.value=b:(c=new f.Qd.Vm(a,b),this.j[a]=c,this.CJ(c),this.count+=1)},hl:function(a){this.remove(a)},remove:function(a){return Object.prototype.hasOwnProperty.call(this.j, a)?(this.xs(this.j[a]),!0):!1},forEach:function(a,b){for(var c=this.Nb.next;c!==this.Nb;c=c.next)a.call(b,c.value,c.key,this)},Wk:function(a,b){return Object.prototype.hasOwnProperty.call(this.j,a)?this.j[a].value:b},Cca:function(){return this.Nb.next.value},Dca:function(){return this.Nb.bb.value},shift:function(){return this.cL(this.Nb.next)},ZM:function(){this.Ov.length=0},qP:function(a){this.Ov.push(a)},push:function(a){a=new f.Qd.Vm("",a);0===this.count?(this.Nb.bb=null,a.bb=this.Nb,this.Nb.next= a):(this.Gs.next=a,a.bb=this.Gs);this.count+=1;this.Gs=a},Uy:function(a){a=new f.Qd.Vm("",a);0===this.count?(this.Nb.bb=null,a.bb=this.Nb,this.Gs=this.Nb.next=a):(this.Nb.next.bb=a,a.next=this.Nb.next,a.bb=this.Nb,this.Nb.next=a);this.count+=1},K5:function(){if(this.count){this.count-=1;var a=this.Nb.next;a.next?(a.next.bb=this.Nb,this.Nb.next=a.next):(this.Nb.next=null,this.Gs=this.Nb.bb=null);a.next=null;a.bb=null;return a.value}return null},pop:function(){return this.cL(this.Nb.bb)},KI:function(a){if(Object.prototype.hasOwnProperty.call(this.j, a))return a=this.j[a],this.Xu&&(a.remove(),this.CJ(a)),a},CJ:function(a){this.Xu?(a.next=this.Nb.next,a.bb=this.Nb,this.Nb.next=a,a.next.bb=a):(a.bb=this.Nb.bb,a.next=this.Nb,this.Nb.bb=a,a.bb.next=a);this.tl&&this.N_(this.tl)},N_:function(){var a=this;a.Hs||(a.Hs=setTimeout(function(){a.Hs=null;a.$L(a.tl)},0))},$L:function(a){this.Hs&&(clearTimeout(this.Hs),this.Hs=null);for(var b=this.Xu?this.Nb.bb:this.Nb.next,c={},d=0,e=this.Ov.length;d<e;d++)c[this.Ov[d]]=!0;for(;b&&this.count>a&&(d=this.Xu? b.bb:b.next,b.key&&!c[b.key]&&(this.xs(b),this.WE(b.value)),b=d,b!==this.Nb&&b!==this.Gs););},xs:function(a){a.remove();delete this.j[a.key];this.count-=1},cL:function(a){this.Nb!==a&&this.xs(a);return a.value},clear:function(){this.j={};this.Nb=new f.Qd.Vm("",null);this.Nb.bb=this.Nb.next=this.Nb;this.count=0}});f.Qd.Vm=function(a,b){this.key=a;this.value=b};f.Qd.Vm.prototype.bb=null;f.Qd.Vm.prototype.next=null; f.Qd.Vm.prototype.remove=function(){this.bb.next=this.next;this.next.bb=this.bb;this.next=this.bb=null};f.sg=f.Y.extend({C:function(a){this.wP="undefined"!==typeof a?a:6;this.Ox=Math.floor(this.wP/2);this.iu={B:[Infinity,Infinity,-Infinity,-Infinity],Ya:[]};this.count=0},F1:function(a,b){var c=-1,d=[],e;d.push(b);var g=b.Ya;do{-1!==c&&(d.push(g[c]),g=g[c].Ya,c=-1);for(var h=g.length-1;0<=h;h-=1){var k=g[h];if("undefined"!==typeof k.mo){c=-1;break}var l=f.sg.Xq(k.B[2]-k.B[0],k.B[3]-k.B[1],k.Ya.length+1),k=f.sg.Xq((k.B[2]>a.B[2]?k.B[2]:a.B[2])-(k.B[0]<a.B[0]?k.B[0]:a.B[0]),(k.B[3]>a.B[3]?k.B[3]:a.B[3])- (k.B[1]<a.B[1]?k.B[1]:a.B[1]),k.Ya.length+2);if(0>c||Math.abs(k-l)<e)e=Math.abs(k-l),c=h}}while(-1!==c);return d},Et:function(a,b,c){a={B:a,mo:b};"undefined"!==typeof c&&(a.type=c);this.OO(a,this.iu);this.count+=1},OO:function(a,b){var c;if(0===b.Ya.length)b.B=f.B.Gb(a.B),b.Ya.push(a);else{var d=this.F1(a,b),e=a;do{if(c&&"undefined"!==typeof c.Ya&&0===c.Ya.length){var g=c;c=d.pop();for(var h=0,k=c.Ya.length;h<k;h+=1)if(c.Ya[h]===g||0===c.Ya[h].Ya.length){c.Ya.splice(h,1);break}}else c=d.pop();g=e instanceof Array;if("undefined"!==typeof e.mo||"undefined"!==typeof e.Ya||g){if(g){g=0;for(h=e.length;g<h;g+=1)f.B.extend(c.B,e[g].B);c.Ya=c.Ya.concat(e)}else f.B.extend(c.B,e.B),c.Ya.push(e);c.Ya.length<=this.wP?e={B:f.B.Gb(c.B)}:(e=g=this.f5(c.Ya),1>d.length&&(c.Ya.push(g[0]),d.push(c),e=g[1]))}else f.B.extend(c.B,e.B),e={B:f.B.Gb(c.B)}}while(0<d.length)}},f5:function(a){for(var b=this.I6(a);0<a.length;)this.J6(a,b[0],b[1]);return b},I6:function(a){for(var b=a.length-1,c=0,d=a.length-1,e=0,g=a.length-2;0<= g;g-=1){var h=a[g];h.B[0]>a[c].B[0]?c=g:h.B[2]<a[b].B[1]&&(b=g);h.B[1]>a[e].B[1]?e=g:h.B[3]<a[d].B[3]&&(d=g)}Math.abs(a[b].B[2]-a[c].B[0])>Math.abs(a[d].B[3]-a[e].B[1])?b>c?(b=a.splice(b,1)[0],c=a.splice(c,1)[0]):(c=a.splice(c,1)[0],b=a.splice(b,1)[0]):d>e?(b=a.splice(d,1)[0],c=a.splice(e,1)[0]):(c=a.splice(e,1)[0],b=a.splice(d,1)[0]);return[{B:f.B.Gb(b.B),Ya:[b]},{B:f.B.Gb(c.B),Ya:[c]}]},J6:function(a,b,c){for(var d=f.sg.Xq(b.B[2]-b.B[0],b.B[3]-b.B[1],b.Ya.length+1),e=f.sg.Xq(c.B[2]-c.B[0],c.B[3]- c.B[1],c.Ya.length+1),g,h,k,l=a.length-1;0<=l;l-=1){var m=a[l],n=[b.B[0]<m.B[0]?b.B[0]:m.B[0],b.B[2]>m.B[2]?b.B[2]:m.B[2],b.B[1]<m.B[1]?b.B[1]:m.B[1],b.B[3]>m.B[3]?b.B[3]:m.B[3]],n=Math.abs(f.sg.Xq(n[1]-n[0],n[3]-n[2],b.Ya.length+2)-d),m=[c.B[0]<m.B[0]?c.B[0]:m.B[0],c.B[2]>m.B[2]?c.B[2]:m.B[2],c.B[1]<m.B[1]?c.B[1]:m.B[1],c.B[3]>m.B[3]?c.B[3]:m.B[3]],m=Math.abs(f.sg.Xq(m[1]-m[0],m[3]-m[2],c.Ya.length+2)-e),p=Math.abs(m-n);if(!h||!g||p<g)h=l,g=p,k=m<n?c:b}d=a.splice(h,1)[0];b.Ya.length+a.length+1<= this.Ox?(b.Ya.push(d),f.B.extend(b.B,d.B)):c.Ya.length+a.length+1<=this.Ox?(c.Ya.push(d),f.B.extend(c.B,d.B)):(k.Ya.push(d),f.B.extend(k.B,d.B))},remove:function(a,b){var c=[];c[0]={B:a};(c[1]=b)||(c[1]=!1);c[2]=this.iu;this.count-=1;if(!1===c[1]){var d=0,e=[];do d=e.length,e=e.concat(this.DQ.apply(this,c));while(d!==e.length);return e}return this.DQ.apply(this,c)},DQ:function(a,b,c){var d=[],e=[],g=[];if(!a||!f.B.te(a.B,c.B))return g;a=f.B.Gb(a.B);var h;e.push(c.Ya.length);d.push(c);do{c=d.pop(); var k=e.pop()-1;if("undefined"!==typeof b)for(;0<=k;){var l=c.Ya[k];if(f.B.te(a,l.B))if(b&&"undefined"!==typeof l.mo&&l.mo===b||!b&&("undefined"!==typeof l.mo||f.B.fN(a,l.B))){"undefined"!==typeof l.Ya?(g=this.Sq(l,!0,[],l),c.Ya.splice(k,1)):g=c.Ya.splice(k,1);f.sg.BF(c);b=void 0;c.Ya.length<this.Ox&&(h=this.Sq(c,!0,[],c));break}else"undefined"!==typeof l.Ya&&(e.push(k),d.push(c),c=l,k=l.Ya.length);k-=1}else if("undefined"!==typeof h){c.Ya.splice(k+1,1);0<c.Ya.length&&f.sg.BF(c);k=0;for(l=h.length;k< l;k+=1)this.OO(h[k],c);h.length=0;0===d.length&&1>=c.Ya.length?(h=this.Sq(c,!0,h,c),c.Ya.length=0,d.push(c),e.push(1)):0<d.length&&c.Ya.length<this.Ox?(h=this.Sq(c,!0,h,c),c.Ya.length=0):h=void 0}else f.sg.BF(c)}while(0<d.length);return g},search:function(a,b){return this.Sq({B:a},!1,[],this.iu,b)},P7:function(a,b){return this.Sq({B:a},!1,[],this.iu,b,!0)},Sq:function(a,b,c,d,e,g){var h={},k=[];if(!f.B.te(a.B,d.B))return c;k.push(d.Ya);do{d=k.pop();for(var l=d.length-1;0<=l;l-=1){var m=d[l];if(f.B.te(a.B, m.B))if("undefined"!==typeof m.Ya)k.push(m.Ya);else if("undefined"!==typeof m.mo)if(b)c.push(m);else if("undefined"===typeof e||m.type===e)m=m.mo,"undefined"!==typeof g?h[f.g.Bb(m)]=m:c.push(m)}}while(0<k.length);return"undefined"!==typeof g?h:c}});f.sg.BF=function(a){var b=a.Ya.length,c=a.B;if(0===b)f.B.empty(c);else{var d=a.Ya[0].B;c[0]=d[0];c[2]=d[2];c[1]=d[1];c[3]=d[3];for(d=1;d<b;d+=1)f.B.extend(c,a.Ya[d].B)}};f.sg.Xq=function(a,b,c){var d=(a+b)/2;a*=b;return a*c/(a/(d*d))}; ',true),_jsload_('overlay0', 'f.Xa=f.Xa||{}; f.Xa.ll=f.Y.extend({ia:[f.ga,f.Gd],p6:["position","visible","clickable","bubble"],C:function(a,b){this.map=b;this.td(this.p6,a);this.T("zIndex",a);this.T("draggable",a);f.l.Yd&&this.jU();f.l.W||this.Pz();this.sc=a;this.sc.Xa=this},draggableChanged:function(){this.get("draggable")?this.Oz():this.mB()},da:function(a,b){var c;c=b?{type:a,pixel:b.ib,target:this.sc,lnglat:b.fe}:{type:a};this.sc&&this.sc.w(a,c)},Mb:function(a){("click"!==a.type&&"rightclick"!==a.type&&"dblclick"!==a.type||this.get("clickable"))&& this.da(a.type,a)},Nz:function(){this.h("click",this.Mb);this.h("rightclick",this.Mb);this.h("dblclick",this.Mb)},bM:function(){this.D("click",this.Mb);this.D("rightclick",this.Mb);this.D("dblclick",this.Mb)},Pz:function(){this.get("clickable")&&this.Nz();this.h("mousemove",this.Mb);this.h("mouseout",this.Mb);this.h("mouseover",this.Mb);this.h("mousedown",this.Mb);this.h("mouseup",this.Mb)},laa:function(){this.bM();this.D("mousemove",this.Mb);this.D("mouseout",this.Mb);this.D("mouseover",this.Mb); this.D("mousedown",this.Mb);this.D("mouseup",this.Mb)},clickableChanged:function(){this.get("clickable")?this.Nz():this.bM()},jU:function(){this.get("clickable")&&this.Nz();this.h("touchstart",this.Mb,this);this.h("touchmove",this.Mb,this);this.h("touchend",this.Mb,this)},Oz:function(){this.h("dragstart",this.kn);this.h("dragging",this.hn);this.h("dragend",this.jn)},kn:function(a){this.map.GE(a);this.ue=a.ib;this.gP=a.Cd;this.fP=a.fe;this.da("dragstart",a)},hn:function(a){var b=this.map.P.view.type; if("2D"==b){var c=a.ib.Oa(this.ue),b=c.x,c=c.y;this.ue=a.ib;var d=this.map.get("rotation")*Math.PI/180;this.um(new f.G(b*Math.cos(d)+Math.sin(d)*c,-Math.sin(d)*b+Math.cos(d)*c));this.da("dragging",a)}else"3D"==b&&a.Cd&&(c=a.ib.Oa(this.ue),b=c.x,c=c.y,d=a.Cd.Oa(this.gP),a.fe.Oa(this.fP),this.ue=a.ib,"function"===typeof this.Tt&&this.Tt(b,c,d),this.gP=a.Cd,this.fP=a.fe,this.da("dragging",a))},jn:function(a){this.map.xG();this.da("dragend",a)},mB:function(){this.D("dragstart",this.kn);this.D("dragging", this.hn);this.D("dragend",this.jn)},WI:function(a){var b,c,d=[];b=0;for(c=a.length;b<c;b+=1)d.push(this.tA(a[b]));return d},tA:function(a){a=this.map.Wb(a);return[a.x,a.y]},Wd:function(a){var b=this.I.Wa||this.map.get("centerCoords"),c=Math.pow(2,20-this.map.get("zoom"));return[(a[0]-b.x)/c,(a[1]-b.y)/c]}});f.Xa.Ue=f.Xa.ll.extend({nF:"content contentDom icon opacity angle autoRotation offset shadow title label isTop shape topWhenClick topWhenMouseOver noSelect".split(" "),P0:{AMAP_ANIMATION_NONE:!1,AMAP_ANIMATION_DROP:f.xh.Easing.Bounce,AMAP_ANIMATION_BOUNCE:f.xh.Easing.Cubic},C:function(a,b){arguments.callee.Ba.apply(this,arguments);this.td(this.nF,a);this.T("move",a);this.q1();this.zn();this.set("AnimationOffset",new f.G(0,0),!0);this.T("raiseOnDrag",a);this.T("animation",a)},IA:function(a,b,c){if(this.get("animation")&& "AMAP_ANIMATION_NONE"!==this.get("animation")){var d=this;this.Ri=new f.xh;this.Ri.transition=function(c,g,h){if(a&&600<=h)return d.Ri.stop(),0;c=0===Math.floor(h/600)%2?"Out":"In";"out"===b?c="Out":"in"===b&&(c="In");return d.P0[d.get("animation")][c](h%600/600)};c=c||40;this.Ri.zm=function(a){d.set("AnimationOffset",d.oB.add(new f.G(0,-1*c*a)))};this.oB=new f.G(0,0);this.Ri.Rj()}},AnimationOffsetChanged:function(){this.positionChanged()},kL:function(){this.Ri&&(this.Ri.stop(),this.set("AnimationOffset", this.oB));this.set("AnimationOffset",new f.G(0,-40));if(this.lr)this.lr.set("position",this.get("position"));else{var a=new Fc({zIndex:this.get("zIndex")-1,icon:new Uc({image:f.r.Fb+"/theme/v1.3/dragCross.png",size:new f.wc(14,11)}),offset:new f.G(-4,-5),position:this.get("position")});a.ma=!0;this.lr=a}this.lr.setMap(this.map.P)},BI:function(){this.set("animation","AMAP_ANIMATION_DROP",!0);this.IA(!0,"in");this.lr.setMap(null)},animationChanged:function(){this.Ri&&(this.Ri.stop(),this.set("AnimationOffset", this.oB),this.Ri=null);var a=this.get("animation");a&&"AMAP_ANIMATION_NONE"!==a&&("AMAP_ANIMATION_DROP"===a?this.IA(!0,"in",100):this.IA())},Sg:function(){this.lr&&this.lr.set("position",this.get("position"))},raiseOnDragChanged:function(){this.get("raiseOnDrag")?(this.h("dragstart",this.kL,this),this.h("dragging",this.Sg,this),this.h("dragend",this.BI,this)):(this.D("dragstart",this.kL,this),this.D("dragging",this.Sg,this),this.D("dragend",this.BI,this))},um:function(a){var b=this.get("position"); a=this.map.Wb(b).add(a.Nc(Math.pow(2,20-this.map.get("zoom"))));b instanceof f.U?this.set("position",this.map.Xd(a)):this.set("position",a)},Tt:function(a,b){var c=this.get("position"),c=this.map.Lk(c),c=this.map.Rl(new f.G(c.x+a,c.y+b));this.set("position",c)},q1:function(){var a=this.get("content"),b=this.get("shadow"),c=this.get("offset"),d=this.get("label"),a=a?this.GM(a,c):this.zC(this.get("icon"),c);this.set("contentDom",a,!0);b&&(b=this.LM(b,c),this.set("shadowDom",b,!0));d&&d.content&&this.set("labelDom", this.IM(d.content),!0)},IM:function(a){var b=document.createElement("div");b.className="amap-marker-label";b.innerHTML=a;return b},zn:function(){var a=this.get("position");if(this.map&&a&&!this.I){var b=this.map,a=this.map.Wb(a),a=this.I=new f.Te({name:"marker-"+f.g.Bb(this),map:b,xa:new f.fa.Ce([a.x,a.y])});a.Cl=this;this.T("coords",a,!0);a.td(["offset","isTop","zIndex","params","noSelect"],this)}},getParams:function(){return{zIndex:this.get("zIndex"),Jw:this.get("angle"),Ag:this.get("contentDom"), eP:this.get("labelDom"),oR:this.get("shadowDom"),opacity:this.get("opacity"),title:this.get("title"),label:this.get("label"),MG:this.get("AnimationOffset"),offset:this.get("offset"),aP:this.get("isTop"),shape:this.get("shape"),visible:this.get("visible")}},offsetChanged:function(){if(this.I&&this.I.X){var a=this.map.P.view.type;"2D"==a?(a=this.map.Wb(this.get("position")),a=a.Oa(this.I.ja).Rb(Math.pow(2,20-this.map.get("zoom"))),this.I.X&&(this.I.X.ps&&this.I.X.parentNode!==this.I.X.ps?this.set("display"): (this.I.X.style.left=Math.round(a.x)+this.get("offset").x+this.get("AnimationOffset").x+"px",this.I.X.style.top=Math.round(a.y)+this.get("offset").y+this.get("AnimationOffset").y+"px"))):"3D"==a&&(a=this.get("position"),a=this.map.Lk(a),this.I.X&&(this.I.X.ps&&this.I.X.parentNode!==this.I.X.ps?this.set("display"):(this.I.X.style.left=Math.round(a.x)+this.get("offset").x+this.get("AnimationOffset").x+"px",this.I.X.style.top=Math.round(a.y)+this.get("offset").y+this.get("AnimationOffset").y+"px")))}}, positionChanged:function(){if(this.I){var a=this.map.Wb(this.get("position"));this.set("coords",[a.x,a.y]);this.map&&(this.I.YS=!0,this.offsetChanged())}},contentChanged:function(){if(this.I){this.map.tc.Dj=!0;-1===f.g.indexOf(this.map.tc.xe,this.I)&&this.map.tc.xe.push(this.I);this.I.X&&this.I.X.removeChild(this.get("contentDom"));var a=this.get("content"),b=this.get("offset"),a=this.GM(a,b);this.set("contentDom",a);this.I.X?(f.l.ih&&f.g.iepngFix(a),this.I.X.appendChild(a),this.I.Ag=a):this.map&& this.map.set("display")}},iconChanged:function(){if(this.I&&this.I.X&&!this.get("content")){this.map.tc.Dj=!0;-1===f.g.indexOf(this.map.tc.xe,this.I)&&this.map.tc.xe.push(this.I);this.I.X&&this.get("contentDom")&&this.I.X.removeChild(this.get("contentDom"));var a=this.get("icon"),b=this.get("offset"),a=this.zC(a,b);this.set("contentDom",a);this.I.X?(f.l.ih&&f.g.iepngFix(a),this.I.X.appendChild(a),this.I.Ag=a):this.map&&this.map.set("display")}},shadowChanged:function(){if(this.I&&this.I.X){var a= this.get("shadowDom");this.I.X&&a&&a.parentNode===this.I.X&&this.I.X.removeChild(a);if(a=this.get("shadow")){var b=this.get("offset"),a=this.LM(a,b);this.set("shadowDom",a);this.I.X&&this.I.X.appendChild(a)}}},titleChanged:function(){this.I&&this.I.Ag&&"string"===typeof this.get("title")&&this.I.Ag&&this.get("title")&&(this.I.Ag.title=this.get("title"))},labelChanged:function(){if(this.I&&this.I.X){var a=this.get("label"),b=this.I.X;if(b&&a&&a.hasOwnProperty("content")){this.get("labelDom")&&b.removeChild(this.get("labelDom")); var c="";if(a.content){var c=this.IM(a.content),d=0,e=0;a.offset&&(d=a.offset.y+"px",e=a.offset.x+"px");c.style.top=d;c.style.left=e;b.appendChild(c)}this.set("labelDom",c)}}},isTopChanged:function(){var a=this.map.tc.My,b=this.get("isTop"),c=this.get("zIndex");a?a===this?this.I&&this.I.X&&(this.I.X.style.zIndex=b?this.map.tc.dl+10:c,this.map.tc.My=b?this:null):(a.I&&a.I.X&&(a.I.X.style.zIndex=b?a.get("zIndex"):this.map.tc.dl+10),this.I&&this.I.X&&(this.I.X.style.zIndex=b?this.map.tc.dl+10:c),this.map.tc.My= b?this:a):(this.map.tc.My=this,this.I&&this.I.X&&(this.I.X.style.zIndex=b?this.map.tc.dl+10:c))},visibleChanged:function(){this.I&&this.I.X&&(this.get("visible")?this.I.X.style.display="block":this.I.X.style.display="none")},angleChanged:function(){if(this.I&&this.I.X){var a={x:-1*this.get("offset").x,y:-1*this.get("offset").y};f.f.rotate(this.I.X,this.get("angle")||0,a)}},zIndexChanged:function(){var a=this.get("zIndex");if(a>this.map.tc.dl){this.map.tc.dl=a;var b=this.map.tc.My;b&&b.I&&b.I.X&&(b.I.X.style.zIndex= a+10)}this.I&&this.I.X&&(this.I.X.style.zIndex=this.get("isTop")?this.map.tc.dl+10:this.get("zIndex"))},opacityChanged:function(){var a=this.get("contentDom"),b=this.get("shadowDom");a&&f.f.Gm(a,this.get("opacity"));b&&f.f.Gm(b,this.get("opacity"))},GM:function(a){var b;b=document.createElement("div");b.className="amap-marker-content";"string"!==typeof a?b.appendChild(a):(b.innerHTML=a,b.childNodes[0]&&!b.childNodes[0].style&&(b.style["white-space"]="pre"));f.f.Gm(b,this.get("opacity"));return b}, zC:function(a){var b,c=0,d=0,e,g,h,k;a?("string"===typeof a?(b=a,k=!0):(b=a.get("image"),d=a.get("size"),e=a.get("imageSize"),c=d.width,d=d.height,e&&(g=e.width,h=e.height)),c||(c=0),d||(d=0),a="string"!==typeof a?a.get("imageOffset"):{x:0,y:0}):(b=f.r.Gf+"/mark_bs.png",a={x:0,y:0},c=19,d=33,g=19,h=33);e=document.createElement("div");e.className="amap-icon";e.style.position="absolute";k&&!f.l.Jd&&(e.style.overflow="inherit");c&&(e.style.width=c+"px");d&&(e.style.height=d+"px");c=document.createElement("img"); c.src=b;g&&h&&(c.style.width=g+"px",c.style.height=h+"px");c.style.top=a.y+"px";c.style.left=a.x+"px";f.l.Jd&&k||e.appendChild(c);f.f.Gm(f.l.Jd&&k?c:e,this.get("opacity"));return f.l.Jd&&k?c:e},LM:function(a,b){var c=this.zC(a,b);c.style.zIndex=-1;return c},moveChanged:function(){var a=this.get("move");if(!1===a)return this.E8();void 0!==a&&("pause"===a.action?this.H6():"[object Array]"===Object.prototype.toString.call(a.fe)?a.fe&&("resume"===a.action&&this.Lv?this.moveTo(a.fe[a.fe.lk||0],a.speed, a.ab):(this.Lv&&this.w("movestop"),a.fe.lk=0,this.set("position",a.fe[0]),this.E5(a.fe,a.speed,a.ab,a.H1))):this.moveTo(a.fe,a.speed,a.ab,!0))},moveTo:function(a,b,c,d){var e=this.get("position");a.Oa(e);var g=Math.round(a.gg(e)/1E3/b*36E5);if(0===g)return this.w("moveend");this.Hf&&(this.Hf.stop(),this.Hf=null);this.Hf=new f.xh(e,a);c=c||function(a){return a};this.Hf.transition=function(a,b,d){if(d>=g)return b;var e=(b.N-a.N)*c(d/g)+a.N;a=(b.Q-a.Q)*c(d/g)+a.Q;return new f.U(e,a)};this.Hf.zm=function(b){this.set("position", b);d&&this.sc.w("moving",{passedPath:[this.Hf.start,this.get("position")]});this.w("moving");b.Ob(a)&&(this.Hf&&(this.Hf.stop(),this.Hf=null),this.sc.w("moveend"),this.w("moveend"))};this.get("autoRotation")&&!f.l.Jd&&(b="2D"==(this.map.P.view.type||"2D")?this.KV(e,a):this.LV(e,a),this.set("angle",b));this.Hf.Rj(this)},E8:function(){this.Hf&&(this.Hf.stop(),this.Hf=null,this.w("movestop"))},H6:function(){this.Hf&&(this.Hf.stop(),this.Hf=null,this.w("movepause"))},E5:function(a,b,c,d){function e(){var b= a.slice(0,a.lk||0);b.push(this.get("position"));this.sc.w("moving",{passedPath:b})}function g(){a.lk<a.length-1?(a.lk+=1,this.moveTo(a[a.lk],b,c)):(this.da("movealong"),d?(a.lk=0,this.set("position",a[0]),this.moveTo(a[a.lk],b,c)):this.w("movestop"))}var h=Math.min(a.lk||0,a.length-1);this.Lv||(this.Lv=!0,this.h("moving",e,this),this.h("moveend",g,this),this.h("movestop",function l(){this.Lv=!1;this.D("moveend",g,this);this.D("moving",e,this);this.D("movestop",l,this)},this));this.moveTo(a[h],b,c)}, LV:function(a,b){var c=this.map,d=c.Lk(a),c=c.Lk(b),e=0;c.gg(d);var g=c.y-d.y,h=c.x-d.x;0!==c.x-d.x?(e=Math.atan((c.y-d.y)/(c.x-d.x)),0<=g&&0>h?e=Math.PI+e:0>g&&0>=h?e=Math.PI+e:0>g&&0<=h&&(e=2*Math.PI+e)):e=c.y>d.y?Math.PI/2:3*Math.PI/2;return f.g.cf(180*e/Math.PI,1)},KV:function(a,b){var c=this.map,d=c.Wb(a),c=c.Wb(b),e=0;c.gg(d);var g=c.y-d.y,h=c.x-d.x;0!==c.x-d.x?(e=Math.atan((c.y-d.y)/(c.x-d.x)),0<=g&&0>h?e=Math.PI+e:0>g&&0>=h?e=Math.PI+e:0>g&&0<=h&&(e=2*Math.PI+e)):e=c.y>d.y?Math.PI/2:3*Math.PI/ 2;return f.g.cf(180*e/Math.PI,1)}});f.Xa.bz=f.Xa.ll.extend({C:function(a,b){arguments.callee.Ba.apply(this,arguments);this.T("items",a,!0);this.T("content",a,!0);this.T("resolution",b);this.T("centerCoords",b);this.Ps=a},KP:function(a){this.se();this.dr();this.cj();this.vh("resolution");this.vh("centerCoords");this.vh("render");this.T("resolution",a);this.T("centerCoords",a);this.T("render",a);this.map.h("movestart",this.pi,this);this.map.h("mapmove",this.pi,this);this.map.h("zoomstart",this.pi,this);this.map.h("click",this.pi,this); this.map.h("closeOverlays",this.pi,this);this.map.h("rotate",this.pi,this)},pi:function(){this.Ps.map&&this.Ps.close()},mapChanged:function(){},positionChanged:function(){this.cj()},renderChanged:function(){this.cj()},se:function(){this.H&&(this.H.parentNode&&this.H.parentNode.removeChild(this.H),this.H=null);var a=f.f.create("div",null,"amap-menu");f.A.h(a,"mousedown",function(a){f.A.stopPropagation(a)},this);this.H=a;this.map.ya.Xa.appendChild(this.H)},dr:function(){var a=this,b=this.H;b.innerHTML= "";var c=this.get("content");if("object"===typeof c)b.appendChild(c);else if("string"===typeof c)b.innerHTML=c;else if((c=this.get("items"))&&c.length){var d=f.f.create("ul",b,"amap-menu-outer");c.sort(function(a,b){return isNaN(a.Yx)||isNaN(b.Yx)?0:a.Yx-b.Yx});for(b=0;b<c.length;b+=1)(function(b){var c=b.aS,h=b.ab,k=f.f.create("li",d);k.innerHTML=c;f.A.h(k,"click",function(){h.call(k);a.Ps.close()},k)})(c[b])}else this.H.innerHTML=""},cj:function(){var a=this.map,b=this.H;a&&b&&(this.map.get("zoom"), b=this.get("position"),b=a.Lk(b),a=b.y,b=b.x,this.H.style.right="",this.H.style.bottom="",this.H.style.left=b+"px",this.H.style.top=a+"px")},If:function(){this.H&&(this.map.D("click",this.hI,this),this.map.ya.Xa.removeChild(this.H),this.Ps.Ci=!1,this.H=this.Ps.Pg.map=null,this.map.D("movestart",this.pi,this),this.map.D("zoomstart",this.pi,this),this.map.D("click",this.pi,this),this.map.D("closeOverlays",this.pi,this),this.map.D("rotate",this.pi,this))},visibleChanged:function(){this.H&&(this.get("visible")? this.H.style.display="block":this.H.style.display="none")},itemsChanged:function(){this.H&&this.dr()}});f.Xa.dj=f.Xa.ll.extend({C:function(a,b){arguments.callee.Ba.apply(this,arguments);this.td("content contentDom position contentU isCustom autoMove showShadow closeWhenClickMap size offset".split(" "),a);this.T("retainWhenClose",a,!0);a.T("toBeClose",this);this.xn=a},KP:function(a){this.e2||(this.se(),this.dr(),this.V1());this.vh("resolution");this.vh("centerCoords");this.vh("render");this.T("resolution",a);this.T("centerCoords",a);this.T("render",a);this.map=a;a.ya.Xa.appendChild(this.wb);this.BG(); this.cj();this.MH();this.e2=!0;this.sc.w("onAdd",{type:"onAdd",target:this.sc})},se:function(){var a=f.f.create("div");a.className="amap-info";var b=f.f.create("div",a),c=f.f.create("div",a),d=f.f.create("div",c);a.style.position="absolute";c.style.position="absolute";c.style.bottom="0px";c.style.left=(this.get("offset").x||0)+"px";b.style.position="absolute";b.style.bottom=-1*(this.get("offset").y||0)+"px";b.style.left=(this.get("offset").x||0)+"px";this.wb=a;this.yd=c;this.lu=b;this.zf=d;this.set("contentDom", this.zf,!0)},dr:function(){var a=this.get("contentU");if(a){var b=this.get("isCustom"),c=this.zf,d=this.lu;c.innerHTML="";var e=null;if(b){if("string"===typeof a)c.innerHTML=a;else if(a instanceof Array)for(e=0;e<a.length;e+=1)c.appendChild(a[e]);else c.appendChild(a);e=c;d.parentNode&&d.parentNode.removeChild(d)}else{e=d=f.f.create("div",c,"amap-info-content amap-info-outer");"string"===typeof a?d.innerHTML=a:d.appendChild(a);this.f2=d;a=f.f.create("a",this.zf,"amap-info-close");a.innerHTML="\\u00d7"; this.JC=a;a.href="javascript: void(0)";f.l.Yd&&(f.A.h(a,"touchstart",function(a){f.A.stop(a)},this),f.A.h(a,"touchend",function(a){f.A.stop(a);this.xn.close()},this),f.A.h(a,"click",function(a){f.A.stop(a);this.xn.close()},this));f.l.W||(f.A.h(a,"mousedown",function(a){f.A.stop(a)},this),f.A.h(a,"click",function(a){f.A.stop(a);this.xn.close()},this));if(a=this.get("size",!0))0!==a.width&&(d.style.width=a.width+"px"),0!==a.height&&(d.style.height=a.height+"px");a=f.f.create("div",c,"amap-info-sharp"); a.style.height="23px";if(f.l.ih||f.l.Bt)a.style.marginLeft=c.childNodes[0].offsetWidth/2-5;this.lu.style.display="block"}f.A.D8(e)}},BG:function(){var a=this.get("isCustom"),b=this.get("showShadow");if(!a&&b){var a=this.lu,b=f.f.vx(this.zf),c=b.height-23,d=b.width;if(f.l.ih||f.l.Bt)c=this.zf.childNodes[0].offsetHeight,d=this.zf.childNodes[0].offsetWidth+26;b="background-image:url("+f.r.Fb+(f.l.ih?"/theme/v1.3/iws.gif);":"/theme/v1.3/iws.png);");a.innerHTML="";var e=[],g;g=e[1]={};g.height=0.5*c+4; g.width=d;g.offsetX=400;g.offsetY=16;g.top=-g.height-10-15;g.left=23;g=e[2]={};g.height=e[1].height;g.width=e[1].height;g.offsetX=1075-g.width;g.offsetY=e[1].offsetY;g.top=e[1].top;g.left=23+e[1].width;g=e[3]={};g.height=10;g.width=22;g.offsetX=30;g.offsetY=445;g.top=-25;g.left=23+(f.l.Bt||f.l.ih?5:0);g=e[4]={};g.height=10;g.width=d/2-15-e[3].left-e[3].width;g.offsetX=132;g.offsetY=445;g.top=-25;g.left=e[3].left+e[3].width;g=e[5]={};g.height=10;g.width=70;g.offsetX=80;g.offsetY=445;g.top=-25;g.left= e[4].left+e[4].width;g=e[6]={};g.height=10;g.width=d-e[5].left-e[5].width;g.offsetX=132;g.offsetY=445;g.top=-25;g.left=e[5].left+e[5].width;g=e[7]={};g.height=10;g.width=30;g.offsetX=621;g.offsetY=445;g.top=-25;g.left=d;g=e[8]={};g.height=15;g.width=70;g.offsetX=47;g.offsetY=470;g.top=-15;g.left=d/2-15;for(c=1;8>=c;c+=1)d=f.f.create("div",a),g=[],g.push("position:absolute;"),g.push(b),g.push("top:"+e[c].top+"px;"),g.push("left:"+e[c].left+"px;"),g.push("width:"+e[c].width+"px;"),g.push("height:"+ e[c].height+"px;"),g.push("background-position:"+-e[c].offsetX+"px "+-e[c].offsetY+"px;"),d.style.cssText=g.join("")}},Mda:function(){},cj:function(){var a=this.map,b=this.wb,c=this.get("position");if(a&&b&&c){b=a.Lk(c);a.get("size");c=f.f.vx(this.zf);if(f.l.ih||f.l.Bt)c.width=this.zf.childNodes[0].offsetWidth+14;a=this.get("offset");c=this.get("isCustom")?c.width/2:(c.width-30)/2;this.wb.style.left=Math.round(b.x-c)+"px";this.wb.style.top=Math.round(b.y+(a.y||0))+"px";b=this.f2;if(this.JC&&b.childNodes[0]){for(c= a=0;c<b.childNodes.length;c+=1)a+=b.childNodes[0].clientHeight||0;a>(this.get("size").height||b.clientHeight)?this.JC.style.right="20px":this.JC.style.right="5px"}}},RU:function(){var a=new f.G(2-this.zf.offsetWidth/2,2-this.zf.offsetHeight),b=this.get("offset")||new f.G(0,0);this.get("isCustom")||(a=a.add(new f.G(0,-23)));return a.add(b)},MH:function(){if(this.get("position")&&this.get("autoMove")&&this.zf){var a=this.map,b=new f.wc(this.zf.offsetWidth,this.zf.offsetHeight);a.Lk(this.get("position")); for(var c=a.Lk(this.get("position")).add(this.RU()),d=c.add(b.br()),e=a.get("size"),g=a.K3(),h=0,k=0,l=0;l<g.length;l+=1){var m=g[l],n=0,p=0;0===m[1]&&0===m[2]?(n=m[3]-(c.x+h),p=m[0]-(c.y+k),0<n&&0<p&&(Math.abs(n)<Math.abs(p)?h+=n:k+=p)):0===m[2]&&0===m[3]?(n=e.Ef()-m[1]-(d.x+h),p=m[0]-(c.y+k),0>n&&0<p&&(Math.abs(n)<Math.abs(p)?h+=n:k+=p)):0===m[0]&&0===m[3]?(n=e.Ef()-m[1]-(d.x+h),p=e.Bf()-m[2]-(d.y+k),0>n&&0>p&&(Math.abs(n)<Math.abs(p)?h+=n:k+=p)):0===m[0]&&0===m[1]&&(n=m[3]-(c.x+h),p=e.Bf()-m[2]- (d.y+k),0<n&&0>p&&(Math.abs(n)<Math.abs(p)?h+=n:k+=p))}c=c.add(new f.G(h,k));d=d.add(new f.G(h,k));l=g=0;0>c.x||b.Ef()>e.Ef()?g=20-c.x:e.Ef()<d.x&&(g=e.Ef()-d.x-25);0>c.y||b.Bf()>e.Bf()?l=5-c.y:e.Bf()<d.y&&(l=e.Bf()-d.y-15);g+=h;l+=k;(g||l)&&a.P.panBy(g,l)}},V1:function(){this.get("closeWhenClickMap")&&this.map.h("closeInfo",this.hI,this,!1)},hI:function(){this.xn.Ci&&this.xn.close()},If:function(){this.wb&&(this.get("retainWhenClose")?this.map.Eh.appendChild(this.wb):(this.wb.parentNode===this.map.ya.Xa&& this.map.ya.Xa.removeChild(this.wb),this.xn.Xa=null),this.map=null,this.xn.Ci=!1,this.sc.w("close",{type:"close",target:this.sc}))},U$:function(){if(!this.get("isCustom"))return this.zf.offsetWidth;for(var a=this.sf,b=a.firstChild,c=a.lastChild;b&&c&&b.style&&c.style&&b===c;)a=b,b=a.firstChild,c=a.lastChild;a=f.f.md(a,"width");return a=parseInt(a.replace("px",""),10)},renderChanged:function(){this.cj()},positionChanged:function(){this.map&&this.wb&&(this.cj(),this.MH())},offsetChanged:function(){var a= this.get("offset");this.yd.style.bottom=-1*(a.y||0)+"px";this.yd.style.left=(a.x||0)+"px";this.lu.style.bottom=-1*(a.y||0)+"px";this.lu.style.left=(a.x||0)+"px"},contentChanged:function(){this.dr();this.BG();this.cj()},sizeChanged:function(){this.dr();this.BG();this.cj()}});f.fa={};f.fa.Um=f.Y.extend({ia:[f.ga,f.Gd],C:function(){},Gb:function(){return new this.C(this.Fa)},DD:function(){return this.Fa},setCoords:function(a){this.Z7(a)},Z7:function(a){this.qo=this.oc();this.qe=null;if(f.fa.Rd&&this instanceof f.fa.Rd){var b=a.length;this.Jf=Array(b);for(var c,d,e=0;e<b;e+=1)if(c=a[e],d=new f.fa.hH(c),this.Jf[e]=d,0===e){if(0===c.length)break;d.jm(c)||c.reverse()}else 0!==c.length&&d.jm(c)&&c.reverse()}else this.Fa=a}}); f.fa.ad=f.extend({},{Vo:"point",gz:"linestring",fH:"linearring",Ru:"polygon",mz:"multipoint",lz:"multilinestring",Qu:"multipolygon",r$:"geometrycollection"});f.Te=f.Y.extend({ia:[f.ga,f.Gd],C:function(a){a=a||{};this.Ev=a.Ev;this.map=a.map;this.yj=a.pA||f.g.Bb(this);this.name=a.name||"";this.eg=!1;this.set("visible",!0,!0);this.QF(a.xa);this.sh=a.Jy;this.style=a.style},K2:function(){this.style=this.sh=this.Cl=this.kP=this.xa=this.name=this.map=null;this.Mm();this.wk()},s4:function(){return this.sh},l8:function(a){this.sh=a;this.zIndex=this.sh[0].Mg||this.zIndex},pba:function(){return this.xa},QF:function(a){a&&(this.xa=a,this.T("coords",a,!0),this.Ev&& (a.T("radius",this),a.T("center",this),a.T("resolution",this),a.T("strokeWeight",this)))},setStyle:function(a){this.l8(a);this.$l()},coordsChanged:function(){this.$l()},radiusChanged:function(){this.xa.qo=this.xa.oc();this.xa.qe=null;this.$l()},$l:function(a){this.set("feature",{target:this,E2:a,qo:this.xa.qo||this.xa.oc(),I5:this.xa.oc()});this.xa.qo=this.xa.oc()},visibleChanged:function(){this.$l()},Cba:function(a){for(var b=0;b<this.sh.length;b+=1){var c=this.sh[b];if(a.Ob(c.Tp(this)))return c}}, R3:function(){var a=this.xa,b=[];a.Df()===f.fa.ad.Ru||a.Df()===f.fa.ad.Qu?b.push(new f.style.Qc.Rd({fillColor:"#78cdd1",Cc:0.2,strokeColor:"#122e29",Ka:0.5,Cb:1})):a.Df()===f.fa.ad.gz||a.Df()===f.fa.ad.fH||a.Df()===f.fa.ad.lz?b.push(new f.style.Qc.gH({color:"#888888",width:1,zIndex:10})):a.Df()!==f.fa.ad.Vo&&a.Df()!==f.fa.ad.mz||b.push(new f.style.Qc.Ou({url:f.r.Fb+"/theme/v1.3/markers/0.png",width:36,height:36,rotation:0,dea:-12,eea:-36,zIndex:100}));return b}});f.Te.l$="geometry";f.fa.Ce=f.fa.Um.extend({C:function(a,b){this.Fa=a;this.Uh=b;this.qe=null},oc:function(){if(!this.qe){var a=this.Fa[0],b=this.Fa[1];if(this.Uh)this.qe=[a,b,a,b];else{var c=this.get("radius"),c=c?c/Math.cos(Math.PI*this.get("center").Q/180):0,d=this.get("resolution")*this.get("strokeWeight")||0;this.qe=[a-c-d,b-c-d,a+c+d,b+c+d]}}return this.qe},Df:function(){return f.fa.ad.Vo}}); ',true),_jsload_('brender', 'f.L={canvas:{},Kc:{},Be:{},Wc:{}};f.L.Pd=f.Y.extend({ia:[f.ga,f.Gd],C:function(a,b){this.q=a;this.Uh=a.Qa.Uh;this.Db=b;this.j=b.j;this.T("display",b)},WC:function(){this.Xt&&this.Xt();this.Mm();this.j=this.Db=this.q=null},Vn:function(a,b){var c=this.zoom,d=[],e=this.q;if(Math.floor(c)!==c)b(d,e);else{c=[a.x,a.y];if(e.Dj){for(var g=e.xe,h=!0,k=[],l=0;l<g.length;l+=1){var m=g[l].Ag;if(m)if(m.parentNode&&m.parentNode.parentNode&&this.Db&&m.parentNode.parentNode!==this.Db.Eh&&"none"!==m.parentNode.style.display){var n=m.clientWidth,p= m.clientHeight;m.childNodes[0]&&(n=n||m.childNodes[0].clientWidth,p=p||m.childNodes[0].clientHeight);window.opera&&(n=Math.max(n,m.childNodes[0].scrollWidth),p=Math.max(p,m.childNodes[0].scrollHeight));n&&p?(m=Math.max(Math.abs(g[l].get("offset").x),Math.abs(g[l].get("offset").y))+Math.max(n,p),e.ye=Math.max(e.ye,m),e.ef=Math.max(e.ef,m),g[l].width=n,g[l].height=p):(h=!1,k.push(g[l]))}else h=!1,k.push(g[l])}h?(e.Dj=!1,e.xe=[]):e.xe=k}g=Math.max(e.ye,e.yq||0)*this.M;h=Math.max(e.ef,e.yq||0)*this.M; k=0;e.xq&&(k=e.xq/Math.cos(Math.PI*this.j.get("center").Q/180));h=Math.max(h,k||0);g=Math.max(g,k||0);if(g=e.Dg([c[0]-g,c[1]-h,c[0]+g,c[1]+h])){for(var q in g)if(g.hasOwnProperty(q)&&(h=g[q],h.get("visible")&&!h.get("noSelect")))if(l=h.xa,l instanceof f.fa.Ce)if(this.Uh){k=this.q.Yi;k instanceof Array&&(k="number"===typeof h.Ta.style&&k[h.Ta.style]?k[h.Ta.style]:k[0]);var p=k.size.width*this.M,m=k.size.height*this.M,r=k.anchor.x*this.M,u=k.anchor.y*this.M,p=f.B.CM([[c[0]-p+r,c[1]-m+u],[c[0]+r,c[1]+ u]]);f.B.Sc(p,l.Fa)&&d.push(h)}else if("undefined"!==typeof l.get("radius"))k=l.Fa,k=new f.G(k[0],k[1]),(new f.G(c[0],c[1])).gg(k)*Math.cos(h.get("center").Q*Math.PI/180)<=l.get("radius")/this.Sk*Math.pow(2,20-this.zoom)&&d.push(h);else{if(k=h.get("params"),k.visible){l=l.Fa;r=k.Jw%360;n=[c[0],c[1]];if(r){var p=(c[0]-l[0])/this.M,m=(c[1]-l[1])/this.M,u=Math.PI*r/180,r=Math.cos(-u),u=Math.sin(-u),t=p*u+m*r;n[0]=l[0]+(p*r-m*u)*this.M;n[1]=l[1]+t*this.M}p=h.width*this.M;m=h.height*this.M;r=k.offset.x* this.M;u=k.offset.y*this.M;p=f.B.CM([[n[0]-p-r,n[1]-m-u],[n[0]-r,n[1]-u]]);l[0]instanceof Array||(l=[l]);for(m=l.length-1;0<=m;m-=1)if(f.B.Sc(p,l[m])){k.shape?this.Jt(h,n,l)&&d.push(h):d.push(h);break}}}else l.Sc?l.Sc(c)&&d.push(h):l.Yp&&1.8*l.Yp(c)<=h.get("strokeWeight")*this.M&&d.push(h);this.Uh?d.sort(function(a,b){return a.yj>b.yj?-1:1}):d.sort(function(a,b){return a.get("isTop")?-1:b.get("isTop")?1:a.get("zIndex")>b.get("zIndex")||a.get("zIndex")===b.get("zIndex")&&a.yj>b.yj?-1:1});b(d,e)}else b([], e)}},Jt:function(a,b,c){var d=(b[0]-c[0][0])/this.M;b=(b[1]-c[0][1])/this.M;a=a.get("params");c=a.offset;var d=[d-c.x,b-c.y],e;a=a.shape;if("circle"===a.F.type){if(b=a.F.coords[0],c=a.F.coords[1],Math.sqrt((d[0]-b)*(d[0]-b)+(d[1]-c)*(d[1]-c))<=a.F.coords[2])return!0}else{if("poly"===a.F.type)return e=a.F.coords,e=this.Uw(e),f.vc.Sc(d,e);if("rect"===a.F.type)return e=a.F.coords,a=e[0],b=e[1],c=e[2],e=e[3],e=[[a,b],[c,b],[c,e],[a,e]],f.vc.Sc(d,e)}return!1},Uw:function(a){for(var b=[],c=0;c/2<a.length/ 2;c+=2)b.push([a[c],a[c+1]]);return b},VN:function(a,b,c,d,e,g,h){var k=["position:absolute;"];k.push("top:"+Math.round(c)+"px;");k.push("left:"+Math.round(b)+"px;");k.push("width:"+Math.round(d)+"px;");k.push("height:"+Math.round(e)+"px;");1>g&&("opacity"in a.style?(k.push("opacity"),k.push(":"),k.push(g),k.push(";")):8<=document.documentMode?(k.push("-ms-filter:\'progid:DXImageTransform.Microsoft.Alpha(opacity="),k.push(Math.ceil(100*g)),k.push(")\';")):(k.push("filter:alpha(opacity="),k.push(Math.ceil(100* g)),k.push(");")));k.push("z-index:"+h+";");f.f.eR(a,k.join(""))}});f.L.yc=f.Y.extend({ia:[f.ga,f.Gd],C:function(a){this.j=a;this.Eh=a.Eh;this.H=a.ya.S;this.T("display",a);this.T("rotateEnable",a);this.T("style",a);this.T("hightlight",a)},VE:function(a){this.bd=a||f.g.Np("ff"+this.j.bd.slice(1))},Vn:function(a,b,c,d){function e(a,d){a.length&&(h[f.g.indexOf(b,d)]=a);k-=1;0>=k&&(c(h),k=0)}for(var g=b.length,h=[],k=0,l,m=[],n=0;n<g;n+=1)l=b[n],l instanceof f.S.jd&&l.get("visible")&&(m.push(this.Zn(l)),k+=1);for(g=0;g<m.length;g+=1)m[g].Vn(a,e,d)}});f.kN={$f:function(a,b){for(var c=[],d=0,e=a.length;d<e;d+=2){var g=0,g="str"===b?f.g.cf(parseInt(a.substr(d,2),16)/(0===d?255:1),3):f.g.cf(parseInt(a.substr(d,2),16)/255,3);c.push(g)}c.push(c.shift());return"str"===b?"rgba("+c.join(",")+")":c},t6:function(a,b,c){if(b[c])console.log("customType repeat!!",c);else{var d={};d.visible=void 0===a.visible?!0:a.visible;d.s8=void 0===a.showLabel?!0:a.showLabel;d.Tj=void 0===a.showIcon?!0:a.showIcon;if(void 0!==a.color){var e="",g="";a.color&&(e=this.$f(a.color, "str"),g=this.$f(a.color));d.color={canvas:e,Be:g}}else d.opacity=a.opacity;void 0!==a.fillColor?(g=e="",a.fillColor&&(e=this.$f(a.fillColor,"str"),g=this.$f(a.fillColor)),d.fillColor={canvas:e,Be:g}):d.Cc=a.fillOpacity;void 0!==a.strokeColor?(g=e="",a.strokeColor&&(e=this.$f(a.strokeColor,"str"),g=this.$f(a.strokeColor)),d.strokeColor={canvas:e,Be:g}):d.Ka=a.strokeOpacity;void 0!==a.textFillColor?(g=e="",a.textFillColor&&(e=this.$f(a.textFillColor,"str"),g=this.$f(a.textFillColor)),d.N8={canvas:e, Be:g}):d.O8=a.textFillOpacity;void 0!==a.textStrokeColor?(g=e="",a.textStrokeColor&&(e=this.$f(a.textStrokeColor,"str"),g=this.$f(a.textStrokeColor)),d.P8={canvas:e,Be:g}):d.Q8=a.textStrokeOpacity;void 0!==a.backgroundColor?(g=e="",a.backgroundColor&&(e=this.$f(a.backgroundColor,"str"),g=this.$f(a.backgroundColor)),d.backgroundColor={canvas:e,Be:g}):d.$0=a.backgroundOpacity;b[c]=d}},cQ:function(a,b,c){if(a)for(var d in a)if(a.hasOwnProperty(d)){var e=a[d],g=d;c&&(g=c+":"+d);e.subType?this.cQ(e.subType, b,g):this.t6(e,b,g)}},styleChanged:function(){if(this.j.P.jh){var a={};this.cQ(this.get("style"),a);this.TC=a;var a=this.TC["regions:land"],b=this.TC.water,c,d;if(a){var e="";if(a.visible){var g=this.Un(this.j.bd,a.opacity,a.color);g&&(e=g,c=this.nt(this.j.bd,a.opacity,a.color))}this.j.SC=e}b&&b.visible&&(d=this.nt(this.j.Dw,b.opacity,b.color));this.VE&&this.VE(c,d);this.set("display")}},Un:function(a,b,c){if(a){if(void 0!==b)return a=a.split(","),a[3]=f.g.cf(parseFloat(b),3)+")",a.join(",");if(c)return c.canvas}return a}, nt:function(a,b,c){if(a){if(void 0!==b)return[a[0],a[1],a[2],f.g.cf(parseFloat(b),3)];if(c)return c.Be}return a},rx:function(a){return this.TC[a]},Qh:function(a,b,c,d){var e=null,g=a;d=d?this.Un:this.nt;if(e=this.rx(b))if(e.visible){var g=1,h="";if(c)if(e.fillColor||e.Cc)g=e.Cc,h=e.fillColor;else{if(e.color||e.opacity)g=e.opacity,h=e.color}else if(e.strokeColor||e.Ka)g=e.Ka,h=e.strokeColor;else if(e.color||e.opacity)g=e.opacity,h=e.color;g=d(a,g,h)}else g="";this.At===b&&(g=this.Xn(g||a));return g}, eq:function(a,b,c){c=c?this.Un:this.nt;var d=null,e=a;(d=this.rx(b))&&(e=d.visible?c(a,d.opacity,d.color):"");this.At===b&&(e=this.Xn(e||a));return e},dq:function(a,b,c,d){var e=a,g=b,h=c,k=!0,l=!0,m=1,n=this.rx(d);n&&(n.visible&&n.s8?(e=this.Un(a,n.O8,n.N8),g=this.Un(b,n.Q8,n.P8),h=this.Un(c,n.$0,n.backgroundColor),k=n.Tj):(l=k=!1,e=g=h=""));this.At===d&&(e=this.Xn(e||a),g=this.Xn(g||b),h=this.Xn(h||c),m=1-1.6*this.Ax,l=k=!0);return[e,g,h,k,l,m]},Sn:function(a,b,c,d){var e=null,g=a,h=b;d=d?this.Un: this.nt;if(e=this.rx(c))e.visible?(g=d(a,e.Cc,e.fillColor),h=d(b,e.Ka,e.strokeColor)):g=h="";this.At===c&&(b=h||b,g=this.Xn(g||a),h=this.Xn(b));return[g,h]}};f.L.yc.nb(f.kN);f.L.canvas.yc=f.L.yc.extend({C:function(a){arguments.callee.Ba.apply(this,arguments);this.type="2D"},Zn:function(a){if(!a.L){var b=a.qj(this);b&&!b.m2&&(a.L=b)}return a.L},dc:function(a){var b=this.j.SC||this.j.bd;this.a7!==b&&this.j.P.jh&&(this.j.W7(b),this.a7=b);this.j.ya.Nl.style.cssText="";for(var c=a.Ma,b=a.V,d=a.size.width,e=a.size.height,g=0;g<c.length;g+=1){var h=c[g],k=this.Zn(h),l=c[g].Ek();if(k&&k.q)if(!l.visible||l.Pc[0]>b.zoom||l.Pc[1]<b.zoom||h.qw||h.Ea&&0===h.Ea.length){if(k=k.kg())if(k.length)for(l= 0;l<k.length;l+=1)k[l].parentNode===this.H&&this.H.removeChild(k[l]);else k.parentNode===this.H&&this.H.removeChild(k)}else{k.dc(a,l);var h=k.kg(),m,n,p=k.transform;if(!p||!h||k.ko&&!this.j.P.Ja)c[g].Jj&&(h.parentNode!==this.H||f.l.Zg)&&(this.H.appendChild(h),c[g].ob=h);else{c[g].ob=h;h.length||(h=[h],p=[p]);for(var q=0;q<h.length;q+=1){m=h[q];n=p[q];var r=n.translate.x,u=n.translate.y;c[g].Gx||(r=f.g.cf(r,2),u=f.g.cf(u,2));var t=n.scale;1E-5>Math.abs(r)&&(r=0);1E-5>Math.abs(u)&&(u=0);var v=[];v.push("position:absolute"); v.push("z-index:"+(n.Mg||c[g].get("zIndex")));c[g].$s?(v.push("top:"+Math.floor(e/2+u)+"px"),v.push("left:"+Math.floor(d/2+r)+"px")):m.WO?(v.push("height:"+m.height*t+"px"),v.push("width:"+m.width*t+"px"),v.push("top:"+(e/2-u*t)+"px"),v.push("left:"+(d/2-r*t)+"px")):(1!==t&&(v.push(f.f.Km[f.f.Ee]+"-origin:"+r+"px "+u+"px"),v.push(f.f.Km[f.f.Ee]+":scale3d("+t+","+t+",1)")),v.push("top:"+Math.floor(e/2-u)+"px"),v.push("left:"+Math.floor(d/2-r)+"px"),k.kh&&(v.push("height:"+m.height+"px"),v.push("width:"+ m.width+"px")));k.Gx||1===l.opacity||"number"!==typeof l.opacity||v.push(f.f.aO(m,l.opacity));(m.parentNode!==this.H||f.l.Zg)&&this.H.appendChild(m);f.f.eR(m,v.join(";"))}}}}a=this.j.ya.Nl;h=this.j.ya.S;c=this.j.ya.Xa;f.f.Ee&&"number"===typeof b.rotation&&0!==b.rotation?(a.style[f.f.Ee+"Origin"]=d/2+"px "+e/2+"px",a.style[f.f.Ee]="rotate("+b.rotation+"deg)",a.style.overflow="visible",h.style.overflow="visible",c.style.overflow="visible"):(a.style.cssText="",h.style.cssText="-webkit-transform: translateZ(0);", c.style.cssText="");this.j.Vq=!1}});f.L.Ng=f.L.Pd.extend({C:function(a,b){arguments.callee.Ba.apply(this,arguments);this.T("reload",a,!0);var c=f.l.size;if(this.j&&this.j.P){var d=this.j.P.get("tileCacheSize");d&&0<d&&(c=d)}this.qa=new f.Qd(c);var e=this;this.qa.WE.mM(function(a){e.Lr(a)});this.Jb=1;this.dk=50;this.NH=!0;this.q.qa=this.qa;this.hm=new f.dz(6,null,a.nD);new f.dz(5,null,a.nD)},Xt:function(){this.clear();this.qa.clear();this.Kb&&(this.Kb.D("tiles",this.OP,this),this.Kb.D("ack",this.NP,this),this.Kb.D("disable",this.MP, this),this.Kb=null);this.kh&&f.A.D(this.na,"webglcontextlost",this.Wt,this);this.j.D("zoomend",this.fh,this);this.j.D("moveend",this.fh,this)},reloadChanged:function(){this.q&&(this.q.Ja=!1);this.qa.clear();this.reload=!0;this.set("display")},qm:function(a,b,c){if(!a.Fg||a.Fg.Nh){var d=this;a.loaded=!1;a.Fg=b.oP(a.url,function(b){a.Fg=null;a.loaded=!0;d.qa.set(a.key,a);d.q&&(a.va=!0,a.lc=b,a.Fg=null,d.set("display",0),"function"===typeof c&&c())},!1)}},XR:function(a,b,c,d){var e=[];c=c||18;b=Math.pow(2, b-c);for(var g=0;g<a.length;g+=1){var h=a[g].ka,k=Math.floor(h.x/b),h=Math.floor(h.y/b);d?(k=c+"/"+k+"/"+h,h=this.qa.get(k)):(h=new f.zh(c,k,h),k=h+"",h=new f.of(h));!e[k]&&h&&(e.push(h),e[k]=1)}return e},Nk:function(a){for(var b=a.length-1;0<=b;b-=1){var c=a[b];if(c.length)if(this.mg){if(this.j.Bu)break;var d=c[0].ka.z;18<d&&(c=this.XR(c,d));this.Do(c,this.kh?1:0);for(var e=0,g=0;e<c.length;)this.FE(c.slice(50*g,50*g+50),d),e+=50,g+=1}else{var h=this,d=function(){var a=c.length;return function(){if(0=== --a){var b={id:h.j.P.id,key:"rb",index:0};f.Fd.$d.end(b);f.Fd.$d.end(f.extend(b,{index:1}))}}}();this.Do(c);this.Ok+=c.length;for(e=c.length-1;0<=e;e-=1)this.qm(c[e],this.hm,d)}}},fm:function(a,b){var c=a+"";return(b?this.qa.Wk(c):this.qa.get(c))||new f.of(a.Gb(),this.Cf&&this.Cf(a.x,a.y,a.z))},Wq:function(a,b){return this.Fc*Math.pow(2,a-b)},Lr:function(a){a.Fg&&this.hm.RM(a.Fg);a.ry=!1;a.loaded=!1},Cn:function(a,b){var c=this.kb,d=a.uc.x,e=a.uc.y,g=a.ub.x,h=a.ub.y;new f.G(0,0);var k=this.Wq(20, c);b&&(g=Math.max(b[0],g)-b[0],h=Math.max(b[1],h)-b[1],d=Math.min(b[2],d)-b[0],e=Math.min(b[3],e)-b[1],new f.G(Math.floor(b[0]/k),Math.floor(b[1]/k)));d/=k;e/=k;d={nd:0===d%1?d-1:Math.floor(d),Xc:0===e%1?e-1:Math.floor(e),Kd:Math.floor(g/k),Yc:Math.floor(h/k)};d.hy=d.nd-d.Kd+1;d.vQ=d.Xc-d.Yc+1;d.z=c;d.M=this.M*Math.pow(2,this.zoom-c);d.sO=Math.ceil(d.hy/2);return d},ho:function(a,b,c){return b<a.Kd||b>a.nd||c<a.Yc||c>a.Xc?!1:!0},Do:function(a,b){if(a.length){var c=this.La.Rb(this.Fc<<20-a[0].ka.z), d=Math.floor(c.x),e=Math.floor(c.y);a.sort(function(a,c){var k=a.ka,l=c.ka,m=k.x-d,k=k.y-e,n=l.x-d,l=l.y-e;return(b?-1:1)*(n*n+l*l-(m*m+k*k))})}},clear:function(){this.hm.clear()},Oj:function(a,b){this.Ze=!1;b.Cf!==this.Cf&&(this.Cf=b.Cf,this.qa.clear());this.clear();this.yg=b.yg;this.xg=b.xg;this.Fc=b.Fc;var c=a.V;this.Dd=b.Dd||a.V.Dd;this.bg=c.bg;this.size=a.size;this.rotation=c.rotation;this.La=c.La;this.la=a.V.la;this.zoom&&(this.Xx=c.zoom>this.zoom?"in":c.zoom<this.zoom?"out":!1);this.Zd=a.Zd; this.ve=a.ve;this.zoom=c.zoom;this.ac=c.ac;this.kb=!1===this.mg&&!this.q.HO&&this.q.ca?this.ac+1:this.ac;this.Ad&&this.kb>this.Ad&&(this.kb=this.Ad);this.M=c.M;this.Ld=c.Ld;c=a.V.la;this.ge=this.Cn(c,b.B);this.Wj=c.az?this.Cn(c.az,b.B):null;var d=this.ge,e=this.la.hG,g=null,g=e<this.zoom&&this.Wj?this.Wj:d,h=[],k=[],l,m=[],n=[],p=[],q=new f.zh(0,0,0),r,u=this.zoom,n=this.ol||"",t={},v={},w,s,y,z,x,B;this.$b=1E6*Math.random()<<0;for(r=n.length-1;0<=r;r-=1)if(l=n[r],!(l.Zo<b.opacity))if(q.z=l.ka.z, q.x=l.ka.x,q.y=l.ka.y,q.z===this.kb)t[q+""]|=16;else if(q.z<this.kb){if(t[q+""]|=64,this.yg)for(B=this.kb-q.z,w=Math.max(d.Kd,q.x<<B),u=Math.min(d.nd,(q.x+1<<B)-1),s=Math.max(d.Yc,q.y<<B),y=Math.min(d.Xc,(q.y+1<<B)-1),q.z=this.kb,z=w;z<=u;z+=1)for(q.x=z,x=s;x<=y;x+=1)q.y=x,B=q+"",t[B]|=32,v[B]=v[B]?Math.max(l.ka.z,v[B]):l.ka.z}else if(this.xg)for(B=1;q.z>=this.kb;){t[q+""]|=B;w=q.x>>1;s=q.y>>1;u=w<<1;y=s<<1;l=0;for(z=2;0<z;z-=1)for(q.x=u+z,x=2;0<x;x-=1)q.y=y+x,t[q+""]&5&&(l+=1);q.z-=1;q.x=w;q.y=s; B=4===l?4:2}n=[];q.z=this.kb;r=!0;this.qa.ZM();for(z=g.Kd;z<=g.nd;z+=1)for(q.x=z,x=g.Yc;x<=g.Xc;x+=1)q.y=x,this.qa.qP(""+q),l=this.fm(q),w=!1,l.va?(l.$b=this.$b,this.ho(d,z,x)&&(n.push(l),this.Ch&&(l.Jb!==this.Jb||1>l.Zo)&&(w=!0))):(r=!1,this.ho(d,z,x)&&(w=!0),l.status||this.ac!==e||this.Wj&&!this.ho(this.Wj,z,x)||m.push(l)),w&&p.push(l);r?(this.jt||(this.jt=!0),this.q.Ja||(l={key:"rb",index:1,id:this.j.P.id},this.q.ko&&(l.key="rl"),f.Fd.$d.end(l),f.Fd.$d.push({key:"ftc",Om:n.length,id:this.j.P.id}))): this.q.Ja=!1;this.Ze=r;n.length&&this.jt&&(h.push(n),n.Ze=r);k.push(m);m=!1;if(this.xg){p=p.slice(0);g=[];for(r=p.length-1;0<=r;r-=1)l=p[r],t[l.key]&4||g.push(l);l=b.Pc[1];for(u=this.kb+1;p.length&&u<=l;u+=1){n=[];e=p;p=[];q.z=u;for(r=e.length-1;0<=r;r-=1)if(z=e[r],B=t[z.key],B&7)for(w=z.ka.x<<1,s=z.ka.y<<1,z=1;0<=z;z-=1)for(q.x=w+z,x=1;0<=x;x-=1)q.y=s+x,B=q+"",y=this.qa.Wk(B),t[B]&5&&y&&y.va?(y.ls=!0,y.$b=this.$b,n.push(y)):p.push(new f.of(q.Gb(),""));n.length&&(m=!0,h.push(n))}p=g}if(!m&&this.yg)for(z= !h.length||this.kh?b.Pc[0]:Math.max(b.Pc[0],this.kb-2),x=Math.max(z,this.kb-this.oX),u=this.kb-1;p.length&&u>=z;u-=1){s=u>=x;m=[];n=[];g={};e=p;p=[];for(r=e.length-1;0<=r;r-=1)l=e[r],q.z=u,q.x=l.ka.x>>1,q.y=l.ka.y>>1,l=this.fm(q,!s),g[l.key]||(g[l.key]=1,w=!1,l.va&&(!this.pZ||t[l.key]&64)?(q.x=Math.min(d.nd,Math.max(d.Kd,q.x<<this.kb-u)),q.y=Math.min(d.Xc,Math.max(d.Yc,q.y<<this.kb-u)),q.z=this.kb,B=q+"","number"===typeof v[B]&&l.ka.z>v[B]?w=!0:l.ls=!0,l.$b=this.$b,n.push(l)):w=!0,w&&p.push(l));n.length&& h.push(n);s&&m.length&&k.push(m)}this.no=this.Ok=0;this.Nk(k,c);this.th=h;this.q.set("tiles",h)},Q6:function(){if(!this.mg){for(var a=this.ge.nd+1,b=this.ge.Xc+1,c=this.ge.Kd-1,d=this.ge.Yc-1,e,g=[],h=c;h<=a;h+=1)for(var k=d;k<=b;k+=1)if(h===c||h===a||k===d||k===b)e=new f.zh(this.ac,h,k),this.qa.Wk(void 0)||(e=this.fm(e),g.push(e));this.Nk([g])}}});f.L.Kc.Ng=f.L.Ng.extend({C:function(a,b){arguments.callee.Ba.apply(this,arguments);this.dk=120;this.mg=!1;this.se();this.Ad=a.Ad},kg:function(){return this.ob},se:function(){this.ob=document.createElement("div");this.ob.className=this.q.Qa.get("className")||"amap-layer";this.Qn=document.createDocumentFragment()},zo:function(a){var b=Math.pow(2,a.V.zoom-this.Md),c=a.V.La.Oa(this.mm).Rb(this.Jg);this.transform={translate:this.transform.translate.add(c),scale:b,rotate:0};this.La=a.V.La},uC:function(a, b){if(!this.ja||3E4<Math.abs(this.La.x-this.ja.x)/this.M||3E4<Math.abs(this.La.y-this.ja.y)/this.M)this.ja=this.La;this.Md=this.ac;this.Jg=this.Ld;this.Ig=!1;this.currentTime=+new Date;this.DG=b.DG;var c=this.ge;this.Ch=this.dk&&b.Ow;var d=this.th,e=256*c.hy,c=256*c.vQ;this.Zd=this.zoom<<0!==this.zoom;var g=this.La.Oa(this.ja);g.x<-f.g.Ra/2&&(g.x+=f.g.Ra);g.x>f.g.Ra/2&&(g.x-=f.g.Ra);this.CC=g.Rb(this.Ld);return[d,e,c,b]},Nq:function(a,b){var c=this.uC(a,b);this.Fm.apply(this,c);this.hd(a);this.Ze&& !this.q.Ja&&(c=this.q,f.Fd.$d.end({id:this.j.P.id,key:"rb",index:2}),c.Ja=!0,c.wd?c.da("renderComplete"):(c.wd=!0,c.da("complete")))},dc:function(a,b){this.ei=a.ei;this.ve=a.ve;this.Oj(a,b);this.mm&&f.l.Zg&&(a.Zd||a.ve)?this.zo(a,b):this.Nq(a,b);this.mm=this.La;this.Ig&&this.set("display",0)},yo:function(){for(var a=this.ob.childNodes,b=a.length-1;0<=b;b-=1)a[b]&&a[b].Jb!==this.Jb&&this.ob.removeChild(a[b])},gy:function(a,b){return a.Yc===b.Yc&&a.Kd===b.Kd&&a.Xc===b.Xc&&a.nd===b.nd},Fm:function(a){var b= this.Jb;this.Jb+=1;var c=!1,d,e,g;e=!1;var h=[];this.ja.x-this.La.x<-f.g.Ra/2?this.ja=new f.G(this.ja.x+f.g.Ra,this.ja.y):this.ja.x-this.La.x>f.g.Ra/2&&(this.ja=new f.G(this.ja.x-f.g.Ra,this.ja.y));for(d=a.length-1;0<=d;d-=1)if(g=a[d],g.length){e=g[0].ka.z;for(var k,l,m=this.Wq(this.ac,e),n=g.length-1;0<=n;n-=1){l=g[n];this.NQ(l);if(!l.qc&&this.ja===l.ja&&l.Md===this.Md){var p=l.lc;if(p&&p.parentNode===this.ob&&1===l.Zo){h.push(l);p.Jb=this.Jb;l.Jb=this.Jb;continue}}l.ja=this.ja;l.Md=this.Md;k=l.ka; var c=!0,q=(new f.G((k.x<<20-e)*this.Fc,(k.y<<20-e)*this.Fc)).Oa(this.ja),q=q.Rb(this.Ld);q.x=Math.floor(q.x);q.y=Math.floor(q.y);var r=1;if(!l.CI||this.NH&&l.Jb!==b)l.CI=this.currentTime;this.Ch&&!l.ls?(p=Math.max(0,Math.abs(k.z-this.zoom)-1),r=Math.min(1,(this.currentTime-l.CI)/(1/Math.pow(1.32,p)*this.dk)),1!==r&&(this.Ig=!0)):l.ls=!1;l.Jb=this.Jb;l.Zo=r;l.va?(p=l.lc,!p&&l.qc&&l.qc.lc&&(p=l.qc.lc),0!==r&&p&&(this.VN(p,q.x,q.y,m,m,r,k.z),p.parentNode!==this.ob&&(f.l.ih&&"overlayer"===this.q.get("type")&& (p.style.display="none"),this.Qn.appendChild(p)),p.Jb=this.Jb,l.ac=this.ac,h.push(l))):l.$b=null}e=!0}1<a.length&&(this.Ig=!0);this.ol=h;this.yo();this.ob.appendChild(this.Qn);return c||!e},NQ:function(){},hd:function(){this.transform={translate:this.CC,scale:Math.pow(2,this.zoom-this.ac),rotate:0}}});window.CanvasRenderingContext2D&&(window.CanvasRenderingContext2D.prototype.VC=function(a,b,c,d,e){"undefined"===typeof e&&(e=[10,10]);this.moveTo(a,b);var g=c-a,h=d-b,k=Math.floor(Math.sqrt(g*g+h*h));d=g/k;c=h/k;e.yE=0;for(var l=[],g=this.ex,m=0,n=0,p=!1,q=h=0;q<e.length;q+=1)e.yE+=e[q],l[q]={iD:e[q]*d,jD:e[q]*c,ng:h+=e[q]},g-=e[q],0>g&&!p&&(m=q,n=-g,p=!0);for(p=0;n+p<=k;)n<e[m]?(g=n*d,h=n*c):(g=l[m].iD,h=l[m].jD),a+=g,b+=h,this.nu?this.moveTo(a,b):this.lineTo(a,b),p+=n,this.nu=!this.nu,n=e[(m+1)% e.length],m=(m+1)%e.length;k-=p;a+=k*d;b+=k*c;this.nu?this.moveTo(a,b):this.lineTo(a,b);this.ex=(this.ex+p+k)%e.yE},window.CanvasRenderingContext2D.prototype.t2=function(a,b,c,d){"undefined"===typeof d&&(d=[10,10]);var e=2*Math.PI*c,g=0>=d?e:Math.round(e/(d[0]+d[1])),h=(d[0]+d[1])/e*2*Math.PI;d=d[0]/e*2*Math.PI;for(e=0;e<g;e+=1)this.beginPath(),this.arc(a,b,c,e*h,e*h+d),this.stroke()}); ',true),_jsload_('mrender', 'f.L.Wc.gi=f.L.Ng.extend({C:function(a,b){arguments.callee.Ba.apply(this,arguments);this.se()},UD:function(){return this.Va.gG},kg:function(){return this.ob},se:function(){this.ob=document.createElement("div");this.ob.className="amap-markers";this.Va=new f.L.Wc.jd(this.ob);this.Va.q=this.q;this.Db.H.appendChild(this.ob)},Nm:function(a,b){this.Qn=b.Qn;this.uq=b;this.Dd=a.V.Dd;this.M=a.V.M;this.zoom=a.V.zoom;this.size=a.size;this.la=a.V.la;this.Sk=a.M;this.Wa=a.V.La;this.bg=a.V.bg;var c=!1;if(!this.ja|| 3E4<Math.abs(this.Wa.x-this.ja.x)/this.M||3E4<Math.abs(this.Wa.y-this.ja.y)/this.M)c=!0;if(c||this.zoom<<0!==this.zoom||this.Md!==this.zoom)this.ja=this.Wa,this.Md=this.zoom},bo:function(a){var b=a.V.la.tb.y*this.M;a=a.V.la.tb.x*this.M;return[this.Wa.x-a,this.Wa.y-b,this.Wa.x+a,this.Wa.y+b]},yo:function(){if(this.gf&&this.gf)for(var a in this.gf)if(this.gf.hasOwnProperty(a)){var b=this.gf[a];b.$b!==this.$b&&b.X&&this.Db.Eh.appendChild(b.X)}},dc:function(a,b){this.$b=1E6*Math.random()<<0;this.Nm(a, b);this.V=a.V;this.size=a.size;var c=this.q;this.Fc=256;var d,e;e=this.bo(a);var g=0;c.Dj&&(g=50*this.M);e[0]-=this.q.ye*this.M+g;e[1]-=this.q.ef*this.M+g;e[2]+=this.q.ye*this.M+g;e[3]+=this.q.ef*this.M+g;c=c.Dg(e);for(d in c)c.hasOwnProperty(d)&&(c[d].$b=this.$b,c[d].kP=this);this.yo(c);this.Nm.call(this.Va,a,b);this.Va.HF(c);this.gf=c;this.hd(a)},hd:function(){var a=Math.pow(2,this.zoom-this.ac);this.transform={translate:this.ja.Oa(this.Wa).Rb(this.M),scale:a,rotate:0}}});f.L.Wc.jd=f.Y.extend({C:function(a){this.Ui=a},HF:function(a){var b=document.createDocumentFragment(),c;for(c in a)if(a.hasOwnProperty(c)){var d=a[c],e,g=d.get("params");if(d.X)e=d.X;else{e=f.f.create("div");e.className="amap-marker";var h=g.Ag,k=g.oR;h&&e.appendChild(h);k&&e.appendChild(k);d.X=e;d.Ag=h;if(k=g.title)h.title=k;this.q.Dj=!0;-1===f.g.indexOf(this.q.xe,d)&&this.q.xe.push(d);d.eg=!0}var h=g.offset,k=h.x,l=h.y,m,n;if(d.eg){var p=[];m=this.dh(d.xa.Fa);d.ja=this.ja;n=g.MG;h=Math.round(m[1]+ l+n.y);m=Math.round(m[0]+k+n.x);p.push("top:"+h+"px");p.push("left:"+m+"px");p.push("z-index:"+(g.aP?this.q.dl+10:g.zIndex));f.l.Jd||p.push(f.f.jO(e,g.Jw,{x:-k,y:-l}));p.push("display:"+(g.visible?"block":"none")+";");e.style.cssText=p.join(";");(k=g.label)&&k.content&&(g=g.eP,m=h=0,k.offset&&(h=k.offset.y+"px",m=k.offset.x+"px"),g.style.top=h,g.style.left=m,e.appendChild(g))}else if(d.YS||this.zoom<<0!==this.zoom||d.zoom!==this.zoom||e.parentNode!==this.Ui||d.ja!==this.ja)m=this.dh(d.xa.Fa),d.ja= this.ja,n=g.MG,h=Math.round(m[1]+l+n.y),m=Math.round(m[0]+k+n.x),e.style.top=h+"px",e.style.left=m+"px";d.zoom=this.zoom;e.parentNode!==this.Ui&&(f.l.ih&&f.g.iepngFix(e),b.appendChild(e),d.eg=!1);e.ps=this.Ui}this.Ui.appendChild(b)},dh:function(a){return[(a[0]-this.ja.x)/this.M,(a[1]-this.ja.y)/this.M]}}); ',true),_jsload_('mouse', 'f.yc.nb({kA:"_docMsMov",eU:function(){var a=this.ya.Yb;f.A.h(a,"mousedown",this.uO,this);this.ZD||(this.ZD=function(){this.Fv=!1},this.Gy=function(a){var c=this.Hg(a,!0);this.w(this.kA,{event:a,rP:c})});f.A.h(document,"mousedown",this.ZD,this);f.A.h(document,"mouseout",this.Gy,this);f.A.h(document,"mousemove",this.Gy,this);f.A.h(a,"mousemove",this.vO,this);f.A.h(a,"mouseover",this.w4,this);f.A.h(a,"mouseup",this.wO,this);f.A.h(a,"contextmenu",this.Tu,this);f.A.h(a,"rightclick",this.Tu,this);this.h(this.kA, this.CP,this)},w4:function(){this.Fv=!0},GX:function(){var a=this.ya.Yb;f.A.D(a,"mousedown",this.uO,this);f.A.D(document,"mousedown",this.ZD,this);f.A.D(document,"mouseout",this.Gy,this);this.D(this.kA,this.CP,this);f.A.D(document,"mousemove",this.Gy,this);f.A.D(a,"mousemove",this.vO,this);f.A.D(a,"mouseup",this.wO,this);f.A.D(a,"contextmenu",this.Tu,this);f.A.D(a,"rightclick",this.Tu,this)},gU:function(){f.A.h(this.ya.Yb,"mousewheel",this.tO,this)},JX:function(){f.A.D(this.ya.Yb,"mousewheel",this.tO, this)},fU:function(){this.h("mousemove",this.BK);this.h("mouseout",this.CK);this.h("mouseover",this.DK);this.h("mouseup",this.EK);this.h("mousedown",this.AK);this.h("rightclick",this.GK);this.h("contextmenu",this.sK);this.h("rdblclick",this.HK)},IX:function(){this.D("mousemove",this.BK);this.D("mouseout",this.CK);this.D("mouseover",this.DK);this.D("mouseup",this.EK);this.D("mousedown",this.AK);this.D("rightclick",this.GK);this.D("contextmenu",this.sK);this.D("rdblclick",this.HK)},keyboardEnableChanged:function(){this.get("keyboardEnable")? this.bU():this.nB()},scrollWheelChanged:function(){this.get("scrollWheel")?this.h("mousewheel",this.FK):this.D("mousewheel",this.FK)},Tu:function(a){f.A.preventDefault(a)},xX:function(a){var b=this.Hg(a),c=0;"3D"==this.P.view.type?(this.da("mousewheel",b),a.wheelDelta?(c=a.wheelDelta,window.opera&&9.5>parseFloat(window.opera.version())&&(c=-c)):a.detail&&(c=-a.detail),a=c/1200,a=this.get("zoom")+a,this.TM(a,b.Cd,!0)):(a.wheelDelta?(c=a.wheelDelta/120,window.opera&&9.5>parseFloat(window.opera.version())&& (c=-c)):a.detail&&(c=-a.detail),this.K.Zs=(this.K.Zs||0)+c,this.w("mousewheel",b))},tO:function(a){if(this.get("scrollWheel"))if(this.xX(a),a.preventDefault)a.preventDefault();else return!1},$D:function(a,b){f.A.preventDefault(a);b=this.Hg(a);var c=this.K;if(!this.uo(b.ib,c.fn)){c.fn=b.ib;if(c.rl){if(!c.ed&&(b.ib.x!==this.K.ik.x||b.ib.y!==this.K.ik.y)){var d;this.LA(c.en)&&c.en.get("draggable")&&(d=c.en);!d&&this.get("dragEnable")&&(d=this);d&&(c.ed=!0,c.wj=d,c.ue=c.ik,c.ct=c.vF)}c.ed&&(c.Bk=b,b.button= a.buttons||a.button||0,this.DB())}if(a.preventDefault)a.preventDefault();else return!1}},yx:function(a){f.f.za(this.H,"amap-drag");a=this.Hg(a);f.f.m3();f.f.tN();this.K&&(this.K.ed=!1);this.K.gk&&(this.K.gk=!1,this.K.ed=!1,this.K.wj.w("dragend",a));this.K.rl=!1;this.K.fn=null;this.K.ue=null;f.A.D(document,"mousemove",this.$D,this);f.A.D(document,"mouseup",this.yx,this);try{f.A.D(window.parent.document,"mouseup",this.yx,this)}catch(b){}f.A.w9(this.ya.Yb)},x4:function(a,b){b=b||this.Hg(a);var c=this.get("size"), d;0<=b.ib.x&&b.ib.x<=c.width&&0<=b.ib.y&&b.ib.y<=c.height&&(d=!0);this.UO&&!d?this.w("mouseout",b):!this.UO&&d&&this.w("mouseover",b);this.UO=d},vO:function(a){f.A.preventDefault(a);f.l.pq&&(a=window.event);if(a){a=this.Hg(a);var b=this.K,c=a.ld,d;this.K.rl||(c instanceof f.Xa.ll?d=c.sc.get("cursor"):c instanceof f.S.Pd?d=c.get("cursor"):c===this&&(d=c.get("defaultCursor")),d=this.P.get("optimalCursor")||d,this.H.style.cursor=d||"");d=b.eX;var e=a.sn;d!==e&&(d&&b.TJ&&b.TJ.w("mouseout",a),e&&c&&(c.w("mouseover", a),c.get("topWhenMouseOver")&&c.sc.setTop(!0)));a.ld.w("mousemove",a);a.ld!==this&&this.w("mousemove",a);b.eX=a.sn||null;b.TJ=a.ld||null}},K:{ed:!1},uO:function(a){this.Fv=!0;f.f.I2();f.f.oN();this.K.fn=null;this.K.ue=null;var b=this.Hg(a,!0);this.K.R2=new Date;this.K.en=b.ld;this.K.ik=b.ib;this.K.cX=b.button;this.K.rl=!0;this.K.dX=b;this.K.ed||(this.K.vF=b);this.Uc&&this.Uc.stop();var c=b.ld;!c.sc&&c.get("dragEnable")&&(this.K.rl=!0);f.f.ta(this.H,"amap-drag");b.ld.w("mousedown",b);b.ld!==this&& this.w("mousedown",b);f.A.X7(this.ya.Yb);f.A.h(document,"mousemove",this.$D,this);f.A.h(document,"mouseup",this.yx,this);try{window.parent.document&&f.l.pq&&f.A.h(window.parent.document,"mouseup",this.yx,this)}catch(d){}f.A.stopPropagation(a)},CP:function(a){this.x4(a.event,a.rP)},Saa:function(a){this.$D(a.event,a.rP)},wO:function(a){a=this.Hg(a);var b=a.ld,c=this.P.get("allBubble")||b.get("bubble");b!==document&&(b.w("mouseup",a),a.ld!==this&&c&&this.w("mouseup",a));this.uo(a.ib,this.K.ik)&&(this.Td&& this.uo(this.K.pp,a.ib)&&a.button===this.K.cX?(clearTimeout(this.Td),this.Td=null,f.A.XO(a)?c?(b.w("dblclick",a),b!==this&&this.w("dblclick",a)):b.w("dblclick",a):b.w("rdblclick",a),this.K.pp=null):(f.A.XO(a)?(c?(b.w("click",a),b!==this&&this.w("click",a)):(b.w("click",a),this.w("closeOverlays",a)),this.w("closeInfo",a),b.get("topWhenClick")&&b.sc.setTop(!0)):c?(b.w("rightclick",a),b!==this&&this.w("rightclick",a),this.w("contextmenu",a)):(b.w("rightclick",a),b.w("contextmenu",a)),this.K.pp=a.ib, this.Td&&clearTimeout(this.Td),this.Td=setTimeout(f.g.bind(function(){clearTimeout(this.Td);this.Td=null;this.K.pp=null},this),260)))}});f.yc.nb({FK:function(a){this.da("mousewheel",a);var b=this;if(1<=Math.abs(this.K.Zs)&&!this.nS){var c=this.K.Zs;if(1<=c)c=1;else if(-1>=c)c=-1;else return;b.Zv(a.Cd,c);this.K.Zs=0;this.nS=!0;setTimeout(function(){b.nS=!1;b.K.Zs=0},f.l.Kx?50:40)}},BK:function(a){this.da("mousemove",a)},CK:function(a){this.da("mouseout",a)},DK:function(a){this.da("mouseover",a)},EK:function(a){this.da("mouseup",a)},AK:function(a){this.da("mousedown",a)},GK:function(a){this.da("rightclick",a)},sK:function(a){this.da("contextmenu", a)},HK:function(a){this.get("doubleClickZoom")&&this.get("zoomEnable")&&this.Zv(a.Cd,-1);this.da("rdblclick",a)}});f.yc.nb({OW:function(){this.ds={left:[37],right:[39],Q2:[40],zG:[38],Kf:[187,107,61],Lf:[189,109,173]};this.HU={left:this.Lp(this.Xv(100,0)),right:this.Lp(this.Xv(-100,0)),Q2:this.Lp(this.Xv(0,-100)),zG:this.Lp(this.Xv(0,100)),Kf:this.Lp(this.jM(1)),Lf:this.Lp(this.jM(-1))}},bU:function(){this.get("keyboardEnable")&&(this.ds||this.OW(),f.A.h(document,"keydown",this.Tv,this),f.A.h(document,"keyup",this.qK,this))},nB:function(){f.A.D(document,"keydown",this.Tv,this);f.A.D(document,"keyup",this.qK,this)}, qK:function(a){var b=a.keyCode;!a.ctrlKey||37!==b&&39!==b||this.set("refresh",1)},Tv:function(a){var b=a.keyCode,c;for(c in this.ds)if(this.ds.hasOwnProperty(c))for(var d=0;d<this.ds[c].length;d+=1)if(b===this.ds[c][d]){if(!this.Fv)return;if(!a.ctrlKey&&!a.shiftKey){this.HU[c]();f.A.preventDefault(a);return}37===b?(this.hX(),f.A.preventDefault(a)):39===b?(this.M_(),f.A.preventDefault(a)):38===b?(this.YZ(),f.A.preventDefault(a)):40===b&&(this.XZ(),f.A.preventDefault(a))}},Lp:function(a){return function(){a()}}, hX:function(){this.get("rotateEnable")&&(this.w("rotate"),this.set("rotation",-8+parseFloat(this.get("rotation"))%360))},M_:function(){this.get("rotateEnable")&&(this.w("rotate"),this.set("rotation",8+parseFloat(this.get("rotation"))%360))},XZ:function(){this.get("rotateEnable")&&this.set("pitch",-4+parseFloat(this.get("pitch")))},YZ:function(){this.get("rotateEnable")&&this.set("pitch",4+parseFloat(this.get("pitch")))},jM:function(a){var b=this.P;return function(){1===a?b.zoomIn():b.zoomOut()}}, Xv:function(a,b){var c=this.P;return function(){c.panBy(a,b)}}}); ',true),_jsload_('vectorlayer', '(function(a){a.vm=a.l.lm?new a.Wu(function(){function a(b,c,d){for(var e=0,g=d.length;e<g;e++){var h=d.charCodeAt(e);if(128>h)b.setUint8(c++,h>>>0&127|0);else if(2048>h)b.setUint8(c++,h>>>6&31|192),b.setUint8(c++,h>>>0&63|128);else if(65536>h)b.setUint8(c++,h>>>12&15|224),b.setUint8(c++,h>>>6&63|128),b.setUint8(c++,h>>>0&63|128);else if(1114112>h)b.setUint8(c++,h>>>18&7|240),b.setUint8(c++,h>>>12&63|128),b.setUint8(c++,h>>>6&63|128),b.setUint8(c++,h>>>0&63|128);else throw Error("bad codepoint "+h); }}function c(a,b,c){var d="",e=b;for(b+=c;e<b;e++)if(c=a.getUint8(e),0===(c&128))d+=String.fromCharCode(c);else if(192===(c&224))d+=String.fromCharCode((c&15)<<6|a.getUint8(++e)&63);else if(224===(c&240))d+=String.fromCharCode((c&15)<<12|(a.getUint8(++e)&63)<<6|(a.getUint8(++e)&63)<<0);else if(240===(c&248))d+=String.fromCharCode((c&7)<<18|(a.getUint8(++e)&63)<<12|(a.getUint8(++e)&63)<<6|(a.getUint8(++e)&63)<<0);else throw Error("Invalid byte "+c.toString(16));return d}function d(a){for(var b=0,c= 0,d=a.length;c<d;c++){var e=a.charCodeAt(c);if(128>e)b+=1;else if(2048>e)b+=2;else if(65536>e)b+=3;else if(1114112>e)b+=4;else throw Error("bad codepoint "+e);}return b}function e(a,b){this.offset=b||0;this.view=a}function g(c,e,h){var k=typeof c;if("string"===k){var q=d(c);if(32>q)return e.setUint8(h,q|160),a(e,h+1,c),1+q;if(256>q)return e.setUint8(h,217),e.setUint8(h+1,q),a(e,h+2,c),2+q;if(65536>q)return e.setUint8(h,218),e.setUint16(h+1,q),a(e,h+3,c),3+q;if(4294967296>q)return e.setUint8(h,219), e.setUint32(h+1,q),a(e,h+5,c),5+q}if(c instanceof ArrayBuffer){q=c.byteLength;if(256>q)return e.setUint8(h,196),e.setUint8(h+1,q),(new Uint8Array(e.buffer)).set(new Uint8Array(c),h+2),2+q;if(65536>q)return e.setUint8(h,197),e.setUint16(h+1,q),(new Uint8Array(e.buffer)).set(new Uint8Array(c),h+3),3+q;if(4294967296>q)return e.setUint8(h,198),e.setUint32(h+1,q),(new Uint8Array(e.buffer)).set(new Uint8Array(c),h+5),5+q}if("number"===k){if(c<<0!==c)return e.setUint8(h,203),e.setFloat64(h+1,c),9;if(0<= c){if(128>c)return e.setUint8(h,c),1;if(256>c)return e.setUint8(h,204),e.setUint8(h+1,c),2;if(65536>c)return e.setUint8(h,205),e.setUint16(h+1,c),3;if(4294967296>c)return e.setUint8(h,206),e.setUint32(h+1,c),5;throw Error("Number too big 0x"+c.toString(16));}if(-32<=c)return e.setInt8(h,c),1;if(-128<=c)return e.setUint8(h,208),e.setInt8(h+1,c),2;if(-32768<=c)return e.setUint8(h,209),e.setInt16(h+1,c),3;if(-2147483648<=c)return e.setUint8(h,210),e.setInt32(h+1,c),5;throw Error("Number too small -0x"+ (-c).toString(16).substr(1));}if("undefined"===k)return e.setUint8(h,212),e.setUint8(h+1,0),e.setUint8(h+2,0),3;if(null===c)return e.setUint8(h,192),1;if("boolean"===k)return e.setUint8(h,c?195:194),1;if("object"===k){var k=0,r=Array.isArray(c),u=null;r?q=c.length:(u=Object.keys(c),q=u.length);16>q?(e.setUint8(h,q|(r?144:128)),k=1):65536>q?(e.setUint8(h,r?220:222),e.setUint16(h+1,q),k=3):4294967296>q&&(e.setUint8(h,r?221:223),e.setUint32(h+1,q),k=5);if(r)for(r=0;r<q;r++)k+=g(c[r],e,h+k);else for(r= 0;r<q;r++)var t=u[r],k=k+g(t,e,h+k),k=k+g(c[t],e,h+k);return k}throw Error("Unknown type "+k);}function h(a){var b=typeof a;if("string"===b){var c=d(a);if(32>c)return 1+c;if(256>c)return 2+c;if(65536>c)return 3+c;if(4294967296>c)return 5+c}if(a instanceof ArrayBuffer){c=a.byteLength;if(256>c)return 2+c;if(65536>c)return 3+c;if(4294967296>c)return 5+c}if("number"===b){if(a<<0!==a)return 9;if(0<=a){if(128>a)return 1;if(256>a)return 2;if(65536>a)return 3;if(4294967296>a)return 5;if(1.8446744073709552E19> a)return 9;throw Error("Number too big 0x"+a.toString(16));}if(-32<=a)return 1;if(-128<=a)return 2;if(-32768<=a)return 3;if(-2147483648<=a)return 5;if(-9223372036854775E3<=a)return 9;throw Error("Number too small -0x"+a.toString(16).substr(1));}if("undefined"===b)return 3;if("boolean"===b||null===a)return 1;if("object"===b){b=0;if(Array.isArray(a))for(var c=a.length,e=0;e<c;e++)b+=h(a[e]);else for(var g=Object.keys(a),c=g.length,e=0;e<c;e++)var k=g[e],b=b+(h(k)+h(a[k]));if(16>c)return 1+b;if(65536> c)return 3+b;if(4294967296>c)return 5+b;throw Error("Array or object too long 0x"+c.toString(16));}throw Error("Unknown type "+b);}var k={Nba:function(a){if(void 0===a)return"undefined";var b,c;a instanceof ArrayBuffer?(c="ArrayBuffer",b=new DataView(a)):a instanceof DataView&&(c="DataView",b=a);if(!b)return JSON.stringify(a);for(var d=[],e=0;e<a.byteLength;e++){if(20<e){d.push("...");break}var g=b.getUint8(e).toString(16);1===g.length&&(g="0"+g);d.push(g)}return"<"+c+" "+d.join(" ")+">"}};k.Qda= a;k.Pda=c;k.Oda=d;e.prototype.map=function(a){for(var b={},c=0;c<a;c++){var d=this.parse();b[d]=this.parse()}return b};e.prototype.vC=function(a){var b=new ArrayBuffer(a);(new Uint8Array(b)).set(new Uint8Array(this.view.buffer,this.offset,a),0);this.offset+=a;return b};e.prototype.Hy=function(a){var b=c(this.view,this.offset,a);this.offset+=a;return b};e.prototype.mC=function(a){for(var b=Array(a),c=0;c<a;c++)b[c]=this.parse();return b};e.prototype.parse=function(){var a=this.view.getUint8(this.offset); if(160===(a&224))return this.offset++,this.Hy(a&31);if(128===(a&240))return this.offset++,this.map(a&15);if(144===(a&240))return this.offset++,this.mC(a&15);if(0===(a&128))return this.offset++,a;if(224===(a&224))return a=this.view.getInt8(this.offset),this.offset++,a;if(212===a&&0===this.view.getUint8(this.offset+1))this.offset+=3;else{switch(a){case 217:return a=this.view.getUint8(this.offset+1),this.offset+=2,this.Hy(a);case 218:return a=this.view.getUint16(this.offset+1),this.offset+=3,this.Hy(a); case 219:return a=this.view.getUint32(this.offset+1),this.offset+=5,this.Hy(a);case 196:return a=this.view.getUint8(this.offset+1),this.offset+=2,this.vC(a);case 197:return a=this.view.getUint16(this.offset+1),this.offset+=3,this.vC(a);case 198:return a=this.view.getUint32(this.offset+1),this.offset+=5,this.vC(a);case 192:return this.offset++,null;case 194:return this.offset++,!1;case 195:return this.offset++,!0;case 204:return a=this.view.getUint8(this.offset+1),this.offset+=2,a;case 205:return a= this.view.getUint16(this.offset+1),this.offset+=3,a;case 206:return a=this.view.getUint32(this.offset+1),this.offset+=5,a;case 207:var a=this.view.getUint32(this.offset+1),b=this.view.getUint32(this.offset+5);this.offset+=9;return 4294967296*a+b;case 208:return a=this.view.getInt8(this.offset+1),this.offset+=2,a;case 209:return a=this.view.getInt16(this.offset+1),this.offset+=3,a;case 210:return a=this.view.getInt32(this.offset+1),this.offset+=5,a;case 211:return a=this.view.getInt32(this.offset+ 1),b=this.view.getUint32(this.offset+5),this.offset+=9,4294967296*a+b;case 222:return a=this.view.getUint16(this.offset+1),this.offset+=3,this.map(a);case 223:return a=this.view.getUint32(this.offset+1),this.offset+=5,this.map(a);case 220:return a=this.view.getUint16(this.offset+1),this.offset+=3,this.mC(a);case 221:return a=this.view.getUint32(this.offset+1),this.offset+=5,this.mC(a);case 202:return a=this.view.getFloat32(this.offset+1),this.offset+=5,a;case 203:return a=this.view.getFloat64(this.offset+ 1),this.offset+=9,a}throw Error("Unknown type 0x"+a.toString(16));}};k.Bg=function(a){var b=new DataView(a),b=new e(b),c=b.parse();if(b.offset!==a.byteLength)throw Error(a.byteLength-b.offset+" trailing bytes");return c};k.it=function(a){var b=new ArrayBuffer(h(a)),c=new DataView(b);g(a,c,0);return b};return{it:function(a,b){b(null,{oq:a.oq,gd:a.gd,Da:k.it(a.Da)})},Bg:function(a,b){b(null,{oq:a.oq,gd:a.gd,Da:k.Bg(a.Da)})}}},{hostWorker:a.wx,clientId:"msg",lazy:!0}):new a.Wu(function(){},{hostWorker:a.wx, clientId:"msg",lazy:!0})})(f);f.fT=f.Y.extend({ia:[f.ga],C:function(){this.c0=f.r.mS+"://"+f.r.Cu;this.qk=[];this.Ve=f.g.Bb(this);this.YT=1;this.kc="closed";this.count=0;this.JF=[];f.event.R(window,"beforeunload",this.q5,this);f.vm&&f.vm.Pp()},q5:function(){this.JF.length&&new f.Aa.Pa(f.r.Zb+"://"+mapApiHost+"/count?"+["type=v","k="+f.r.key,"u="+f.r.Kl,"m="+(f.l.W?1:0),"pf="+f.l.Iq,"frq="+this.JF.join(",")].join("&"))},close:function(){this.Kb&&(this.kc="closed",this.qk=[],this.oA())},b2:function(){var a=this;if("closed"===a.kc){var b= new WebSocket(this.c0);b.binaryType="arraybuffer";a.kc="connecting";b.onopen=f.g.bind(this.lY,this);b.onclose=f.g.bind(this.SX,this);b.onerror=f.g.bind(this.pb,this);b.ontimeout=f.g.bind(this.pb,this);b.onmessage=f.g.bind(this.VY,this);this.Kb=b;b.d2=setTimeout(function(){b.readyState!==WebSocket.OPEN&&a.Zt()},1200)}},RO:function(){return"connected"===this.kc},Zt:function(){this.kc="unsupport";this.qk=[];this.oA();this.w("disable")},pb:function(){this.Zt()},lY:function(){this.c2=!0;this.flush();this.w("open")}, SX:function(){this.c2?(this.kc="closed",this.oA()):this.Zt()},pK:function(a,b){if("unsupport"===this.kc)return!1;"connected"===this.kc?this.DL(a):("closed"===this.kc&&this.b2(),this.qk.push({data:a,ju:b}));this.count+=1},$X:function(a){if("ack"===a.type)switch(a.command){case "tiles":this.w("ack",a);break;case "retain":this.kc="connected";this.flush();break;case "close":this.Zt()}else 0===a.content.errcode&&("tiles"===a.type?this.w("tiles",a):"traffic"===a.type&&this.w("traffic",a))},a6:function(a){"encode"=== a.gd?this.pK(a.Da):"decode"===a.gd&&this.$X(a.Da)},send:function(a){var b=this.YT++,c=this;f.vm.it({gd:"encode",Da:a,oq:this.Ve},function(a,e){a||c.pK(e.Da,b)});return b},DL:function(a){var b=this,c=b.Kb;c.readyState===WebSocket.OPEN&&(c.send(a),b.ir&&clearTimeout(b.ir),b.ir=setTimeout(function(){b.Zt();b.ir=null},5E3),b.HG&&clearTimeout(b.HG),b.HG=setTimeout(function(){b.close();b.HG=null},1E4))},oA:function(){var a=this.Kb;a&&(clearTimeout(a.d2),a.onopen=a.onmessage=a.onerror=null,a.close(),this.Kb= null)},flush:function(){if("connected"===this.kc){for(var a=0;a<this.qk.length;a+=1)this.DL(this.qk[a].data);this.qk=[]}},f3:function(a){for(var b=0;b<this.qk.length;b+=1)if(this.qk[b].ju===a)return this.qk.splice(b,1),!0;return!1},VY:function(a){this.ir&&(clearTimeout(this.ir),this.ir=null);var b=this;f.vm.Hw([a.data]);f.vm.Bg({oq:b.Ve,gd:"decode",Da:a.data},function(a,d){a||b.a6(d)})}});f.hh={$R:function(){0===f.Ha.fd&&f.hh.zO()},Nda:function(a,b){if(!a)return!1;for(var c=0,d=a.length;c<d;c++)if(a[c]&&a[c].er===b)return!0},K1:function(a,b){var c="limg-"+a.key+"-"+b.q.Ve;f.Ha[c]&&delete f.Ha[c]},NN:function(a){return f.Ha[a.er?a.er:a]},Mk:function(a){var b=null,c=null,d=!1;a.er?(b=a,c=b.er,(a=b.url)&&(d=!0)):c=a;var e=f.Ha[c];d&&e&&e.src!==a&&(e=f.Ha[c]=null);if(!e&&a){d="data:"===a.substr(0,5);e=document.createElement("img");d||(e.crossOrigin="Anonymous");f.Ha[c]=e;e.loaded=!1;f.Ha.fd+= 1;f.A.h(e,"load",this.zx,this);f.A.h(e,"error",this.yO,this);var g=this;e.$q=setTimeout(function(){e.loaded||g.zO()},300);e.src=a;b&&(e.maa=c,b.url=null)}},zO:function(){for(var a=0;a<f.Ha.Pm.length;a+=1)f.Ha.Pm[a].set("display")},XM:function(a){f.A.D(a,"load",this.zx,this);f.A.D(a,"error",this.yO,this)},zx:function(a){a=a.target;a.loaded=!0;f.Ha.fd-=1;this.XM(a);this.$R();a.$q&&(clearTimeout(a.$q),a.$q=null)},yO:function(a){a=a.target;a.loaded=!1;f.Ha.fd-=1;this.XM(a);this.$R();a.$q&&(clearTimeout(a.$q), a.$q=null)}};f.S.hi=f.S.Pd.extend({C:function(a,b,c){this.Iw=c;f.Ha.Pm.push(this);this.Ve=f.g.UN("layer");this.Sa=2;a.get("textRatio");this.WG=25;this.T("tiles",a);this.K9=a.get("vdataUrl")||b.P.get("vdataUrl")||f.r.Cu;this.mg=!0;this.Qa=a;this.Ch=f.l.W?!1:!0;this.j=b;this.yg=this.xg=!0;this.td("zoom center centerCoords resolution coordsBound styleID iconsID businessIconsID forceBig mode display".split(" "),b);this.td("zooms detectRetina visible zIndex textIndex watermark opacity".split(" "),a);this.T("lang", b,!0);this.get("watermark")&&(this.kr=new Image,this.kr.src=this.get("watermark"));this.qa={};this.bf={};this.Fc=256;this.po=[];this.ye=this.ef=0;this.ca=f.l.ca&&this.get("detectRetina");this.Fc=256*(this.ca?2:1);this.T("mapStyle",b);this.T("style",b);this.yk=0;this.T("features",b);this.Ad=18;this.T("reload",a)},mapStyleChanged:function(){this.get("mapStyle");this.ke=!1;if(this.j.get("styleUrl")||"normal"===this.get("mapStyle"))this.ke=!!this.j.get("showBuildingBlock");this.featuresChanged()},featuresChanged:function(){this.set("reload")}, langChanged:function(){this.set("reload");this.Qa.Em()},p0:function(){var a=!1,b=this.jJ();if(b){if(this.Qf){var c="active"===this.Qf.Xr;b.Fr(this.Qf);c&&(b.cn(this.Qf,"active"),a=!0)}f.l.G1&&!a&&b.vw()}},Ar:function(){this.p0()},wu:function(a,b){var c=!0;if("hotspotout"===a)this.j.P.set("optimalCursor",null);else if("hotspotover"===a)this.j.P.set("optimalCursor","pointer");else if("mouseup"===a||"mousedown"===a)c=!1;var d=this.jJ();if(d)switch(a){case "hotspotout":d.Aw(b);break;case "hotspotover":d.cn(b, "hover");break;case "mouseup":d.cn(b,"hoverup");break;case "mousedown":d.cn(b,"active")}c&&(c=b.Fa,c=new f.G(c[0],c[1]),c=this.j.Xd(c,3),this.j.P.w(a,{name:b.name,lnglat:c,id:b.Xk,isIndoorPOI:b.qE}))},jJ:function(){if(!f.l.C4){var a=this.L||this.fu;if(!a)return null;var b=this.j?this.j.P.get("hotspotOptions"):{},b=f.extend({},b);if(b.disableHighlight)return null;this.Cs||(this.Cs=new f.S.hi.hT(a));return this.Cs}},vl:function(a){(a=this.cO(a))&&this.wu("hotspotclick",a)},wp:function(a){var b="mousemove"=== a.type;if(!this.j.Sg||!b){var c=this.cO(a);switch(a.type){case "mousemove":case "mouseup":case "mousedown":c&&this.Qf!==c&&(this.Qf&&this.wu("hotspotout",this.Qf),this.wu("hotspotover",c)),!c&&this.Qf&&this.wu("hotspotout",this.Qf),c&&!b&&this.wu(a.type,c)}this.Qf=c}},textIndexChanged:function(){this.set("display")},c6:function(){this.j.h("click",this.vl,this);this.j.h("mousemove",this.wp,this);this.j.h("mousedown",this.wp,this);this.j.h("mouseup",this.wp,this)},KC:function(){this.j.D("click",this.vl, this);this.j.D("mousemove",this.wp,this);this.j.D("mousedown",this.wp,this);this.j.D("mouseup",this.wp,this)},Cf:function(){return null},Ek:function(){return{mg:!0,Fc:256,visible:this.get("visible"),Pc:this.get("zooms"),Ow:this.Ch&&this.Ja,xg:!this.j.Ny,yg:!this.j.Ny,opacity:this.get("opacity"),Oc:!1}},qj:function(a){if(f.L.canvas.hi)return new f.L.canvas.hi(this,a)},Qs:function(a){0===a.indexOf("amap://styles/")&&(a="normal");var b=this.get("forceBig")||f.l.W&&!this.ca?"6":"5";this.url=f.r.Zb+"://"+ this.K9+"/tiles?mapType="+a+"&v=2&style="+b;this.url+=this.ca?"&rd=2":"&rd=1";this.url+="&flds="+this.Ea;this.url+="&t="},styleChanged:function(){this.j.nc||this.featuresChanged()}}); f.S.Hc=f.S.hi.extend({qj:function(a){var b=this;if(!b.kr&&f.l.Oe&&"vw"===b.j.get("baseRender")){var c=["wgl"];this.j.nc&&c.push("wgl2");if(f.$a.Hx(c))return new f.L.Be.Hc(b,a)}else if(c=["cmng","cgl"],this.j.nc&&c.push("cgl2"),f.$a.Hx(c))return new f.L.canvas.Hc(b,a);f.$a.Ff(c,function(){b.set("display")})},featuresChanged:function(){var a=this.get("features"),b=[];"all"===a?b=this.Iw:a&&(-1!==f.g.indexOf(a,"bg")&&-1!==f.g.indexOf(this.Iw,"region")&&b.push("region"),-1!==f.g.indexOf(a,"building")&& -1!==f.g.indexOf(this.Iw,"building")&&b.push("building"),-1!==f.g.indexOf(a,"road")&&-1!==f.g.indexOf(this.Iw,"road")&&b.push("road"));this.Ea=b;this.Qs(this.get("mapStyle")||"normal");this.set("reload")}}); f.S.Og=f.S.hi.extend({qj:function(a){var b=this;if(this.hE()){if(this.gr=!0,f.L.canvas.wz)return this.JM(),a=new f.L.canvas.wz(this,a),a.h("afterLabelRender",this.Ar,this),a}else{b.gr=!1;if(f.L.canvas.vz)return a=new f.L.canvas.vz(this,a),a.h("afterLabelRender",this.Ar,this),a;a=["cmng","labelcanvas"];f.l.hD&&a.push("labelDir");f.$a.Ff(a,function(){b.set("display")})}},hE:function(){var a=this.get("mapStyle");return"normal"!==a&&"amap://styles/normal"!==a||this.j.get("nolimg")?!1:f.l.gr?!0:!1},H4:function(){var a= this.get("mapStyle");return"normal"!==a&&"amap://styles/normal"!==a||this.j.get("nolimg")||f.l.Oc||f.l.W?!1:!0},featuresChanged:function(){var a=this.get("features"),b=this.get("mapStyle"),c=[];"all"===a?c=["roadlabel","poilabel"]:a&&(-1!==f.g.indexOf(a,"road")&&c.push("roadlabel"),-1!==f.g.indexOf(a,"point")&&c.push("poilabel"));a=this.hE();c.length&&(a||this.H4())&&c.unshift("limg");this.Ea=c;this.Qs(b);this.set("reload");(b=this.L||this.fu)&&a^this.gr&&(this.Cs&&(this.Cs=this.Cs.L=null),b.D("afterLabelRender", this.Ar,this),b.WC(),this.fu=this.L=null)},JM:function(){this.lo=f.r.Zb+"://"+(this.Qa.get("vdataUrl")||this.j.P.get("vdataUrl")||f.r.Cu)+"/limg?";var a=this.ca?2:1;this.lo+="&font="+(f.l.W&&!this.ca?"big":"small");this.lo+="&scl="+a;this.lo+="&t="},cO:function(a){return a.fe?(a=this.RN(this.j.Pb(a.fe,20),!0))?a[0]:null:null},RN:function(a,b){var c=this.j.qx();if(c&&(c=c.Zn(this)))return c.fq(a,b)}});f.S.hi.hT=f.Y.extend({C:function(a){this.T_(a)},T_:function(a){this.L=a},Aw:function(a){if(a.Xr){a.Xr=!1;var b=this.L;b&&b.Aw.apply(b,arguments)}},Fr:function(a){a.Xr=!1;var b=this.L;b&&b.Fr.apply(b,arguments)},cn:function(a,b){b||(console.warn("hlStyle is required, e.g. hover, active.."),b="hover");if(a.Xr!==b){a.Xr=b;var c=this.L;c&&c.cn.apply(c,arguments)}},vw:function(){var a=this.L;a&&a.vw()}});f.vr={Cr:function(a,b){this.Ie={};this.Ie.oq=f.g.Bb(this.Ie);b.Kb||(b.Kb=new f.fT);this.Kb=b.Kb;this.Kb.h("tiles",this.OP,this);this.Kb.h("ack",this.NP,this);this.Kb.h("disable",this.MP,this)},Wx:function(a){if(this.q&&a.xE===this.q.Ve){var b=this.q.Ea,b=b[b.length],c=null,c="poilabel"===b||"roadlabel"===b?"labels":"allbase";this.Zd||this.ve?this.yF([this.q,"groupcomplete",null,null,c]):(this.fh(),this.mn.ax(this.q,"groupcomplete",null,null,c));b=0;for(c=a.od.length;b<c;b+=1)this.Yt(a.od[b],a.Pt, a.Pq,a.W)}},Yt:function(a,b){var c=a.gd,d=this.qa.get(a.ai);if(d){var e=this.q.Ea;d.Ea||(d.eb={},d.Ea=[]);var g="";this.j.Zh&&!this.j.nc&&this.tD(c,a.Da);"poilabel"===c||"roadlabel"===c?(a.Wh||(g=a.Da,a.Wh=null),d.Ea.push.apply(d.Ea,a.Da),c===this.q.Ea[this.q.Ea.length-1]&&(d.Wh=null)):d.eb[c]=a.Da;"building"!==c&&"poilabel"!==c||!a.Oi||d.vf||(d.vf={},d.vf.Hd=a.Oi,f.il&&f.il.w("vecTileParsed.buildings",{qu:d}));if("roadlabel"!==c&&"poilabel"!==c||this.R4||!f.l.hD&&!this.j.nc)this.Zd||this.ve?this.yF([this.q, g,d,b,c]):(this.fh(),this.mn.ax(this.q,g,d,b,c));c===e[e.length-1]&&(c="roadlabel"===c||"poilabel"===c?"labels":"allbase",this.Zd||this.ve?this.yF([this.q,"tileComplete",d,b,c]):(this.fh(),this.mn.ax(this.q,"tileComplete",d,b,c)))}},DC:function(){if(this.j){var a=this.j.P.getMapStyle();this.rm=a;this.ZW(a);this.Kb&&"unsupport"!==this.Kb.kc&&(-1!==a.indexOf("amap://styles")&&(a="normal"),this.Kb.send({command:"status",payload:{mapType:a,style:f.l.W&&!this.q.ca?"6":"5",rd:this.q.ca?2:1}}))}},mapStyleChanged:function(){this.DC()}, styleChanged:function(){this.DC()},MP:function(){for(var a in this.Ie)this.Ie.hasOwnProperty(a)&&this.Ie[a].Zq&&(this.Nr(this.Ie[a].Zq,this.Ie[a].Se),delete this.Ie[a]);this.Kb=null;this.vh("mapStyle");this.set("display",1)},NP:function(a){var b=a.reqId;this.Ie[b]&&(!a.content.status&&this.Ie[b]&&this.Nr(this.Ie[b].Zq,this.Ie[b].Se),delete this.Ie[b])},OP:function(a){if(this.Ie[a.reqId]){var b=a.content.opt;b===this.kb?this.XE(a.content.data,b):this.Nr(this.Ie[a.reqId].Zq,this.Ie[a.reqId].Se)}},FE:function(a, b){if(a.length){var c=1,d=[];18<b&&(c=Math.pow(2,b-18));for(var e=Math.pow(2,20-a[0].ka.z),g=0;g<a.length;g+=1){var h=a[g],k=h.ka;h.Se=b;k.M=e;if(18<b&&!this.kh){for(var l=0;l<c;l+=1)for(var m=0;m<c;m+=1){var n=new f.of(new f.zh(b,c*k.x+l,c*k.y+m));this.qa.Mc(n.key)||(this.qa.set(n.key,n),n.status="loading")}this.qa.set(h.key+"/"+b,h)}else this.qa.set(h.key,h),this.kh&&10>k.z&&this.LN(h)?this.set("display",0):h.status="loading"}}},ZW:function(a){a&&"normal"!==a&&0!==a.indexOf("amap://styles/")?this.CG=!0:this.CG=!1},e_:function(a, b,c){if((f.l.le||f.l.Pk&&!this.j.P.Ja)&&(this.Kt||!this.CG)&&18>=b){var d=this;f.Xm.get({type:this.j.P.Ja?"NFS":"FS",ke:this.j.P.get("showBuildingBlock"),U8:a,Oe:!!this.kh,S:this.q,url:this.cq(b,[])},function(e,g){if(d.q){if(!e&&g.eE.length){g.eE.length===a.length&&f.Fd.$d.end({key:d.iJ(),index:0,id:d.j.P.id});if(g.od){d.sj=g.yf["x-vd-v"];d.nq=g.yf.tv;var h="#"+g.yf.bgc;d.j.bd!==h&&(d.j.bd=h);g.eE.forEach(function(a){a.status="loaded"});h=d.fJ(b,g.od);d.Wx(h)}else g.c5.forEach(function(a){d.Vx(a, b,[],g.yf["x-vd-v"],!0)}),d.set("display");a=g.z5}c(null,a)}})}else c(null,a)},l5:function(a,b,c){var d=(new Date).getTime()+"-"+(this.Kb.count+1&65535),e={command:"tiles",reqId:d,payload:{t:c,opt:b,cs:{level:b,flds:this.q.Ea.join(",")}}},g;if(!this.Kb.RO()){var h=this;setTimeout(function(){h.Kb&&!h.Kb.RO()&&(h.UB?h.UB++:h.UB=1,h.Kb.f3(g)&&(delete h.Ie[d],h.EE(a,b,c)))},300)}g=this.Kb.send(e);this.Ie[d]={Zq:a,Se:b}},ZE:function(a){a.Ja||(a.status="",a.Ja=void 0,a.va=null,a.lc=null,a.qc&&(a.qc.lc= null,a.qc.qc=null,a.qc=null),this.qa.hl(a.key))},fJ:function(a,b){return{Q4:"3D"===this.q.j.P.view.type,r1:this.q.ke,Rw:f.r.Rw||null,zaa:this.q.get("businessIconsID"),sj:this.sj,nq:this.nq,Jba:this.q.get("iconsID"),xE:this.q.Ve,Pt:a,od:b,W:this.q.get("forceBig")||f.l.W,mode:this.q.get("mode"),T6:f.r.Zb,SQ:this.q.get("forceBig")?1:this.q.Sa,Pq:this.q.get("forceBig")?!1:this.q.ca}},x2:function(a){a=a.split(";");for(var b=0,c=a.length;b<c;b+=1){a[b]=a[b].split(",");for(var d=0,e=a[b].length;d<e;d+=1)a[b][d]= parseInt(a[b][d],36)}return a},XE:function(a,b,c){if(this.q){for(var d=[],e=0,g=a.length;e<g;e+=1){var h=a[e];h&&(c&&(h=JSON.parse(h)),h["x-vd-v"]?(this.sj=h["x-vd-v"],this.nq=h.tv,this.Uj=[h.tv,h.vdv].join("-"),h.bgc&&(h="#"+h.bgc.substring(2),this.j.bd!==h&&(this.j.bd=h))):this.Vx(h,b,d))}if(d.length){var k=this;a=null;var l;this.kh?(a=f.Fu,l=a.oF):(a=f.vm,l=this.ko?a["label:parseLabel"]:a["base:parseData"]);k.q.get("iconsID");k.q.get("businessIconsID");k.q.get("mode");(function(){l(k.fJ(b,d),function(a, c){if(k.q&&!a){var d=c.icons;if(d)for(var e=0;e<d.length;e+=1)f.hh.Mk(d[e]);(f.l.le||f.l.Pk&&!k.j.P.Ja)&&(k.Kt||!k.CG)&&18>=b&&f.Xm.set({od:c.data.od,"x-vd-v":k.sj,tv:k.nq,bgc:k.j.bd,Uj:k.Uj,Oe:!!k.kh,url:k.cq(10,[]),S:k.q,ke:k.j.P.get("showBuildingBlock")},function(){});c.data&&k.Wx(c.data)}})})()}}},Vx:function(a,b,c){function d(d,e,g){e=[g,d,e].join("/");18<b&&!l.kh&&(e+="/"+b);if((d=l.qa.get(e))&&"loaded"!==d.status)if(l.QR(d,p)){if(-1!==n.indexOf(m))if("limg"===m){if(e=a[1],d.Wh=e,"string"=== typeof e.b&&(e.b=l.x2(e.b)),g="",g="object"===typeof e.u?e.u.url:e.u)d={url:g,er:"limg-"+d.key+"-"+l.q.Ve},e.u=d,f.hh.Mk(d,!0)}else{e={$i:d.ka,ai:e,Da:a,gd:m,zM:l.j.bd,S4:"building"===m,jh:"poilabel"===m||"roadlabel"===m||"building"===m&&l.q.ke};if("poilabel"===m||"roadlabel"===m)e.Wh=d.Wh;m===n[n.length-1]&&(d.status="loaded");c.push(e)}}else l.UF(b,d,p,f.g.bind(l.ZE,l)),18<b&&l.qa.hl(e)}var e=a[0].split("-"),g=parseInt(e[1]),h=parseInt(e[2]),k=parseInt(e[0]),l=this,m=e[3],n=this.q.Ea,p=18<b?Math.pow(2, b-18):1,e=l.ge.sO,q=Math.pow(2,k);10>k&&(g<=e&&d(g+q,h,k),g>=q-e&&d(g-q,h,k));d(g,h,k)},yF:function(a){this.un||(this.un=[]);this.un.push(a)},fh:function(){if(this.un&&this.un.length){for(var a=0,b=this.un.length;a<b;a+=1)this.mn.ax.apply(this.mn,this.un[a]);this.un=[]}},Nr:function(a,b,c){c||(c=18<b?Math.pow(2,b-18):1);for(var d=0;d<a.length;d+=1){var e=a[d];this.UF(b,e,c,f.g.bind(this.ZE,this));18<b&&this.qa.hl(e.key+"/"+b)}f.l.le&&f.Xm.hl({Zq:a,url:this.cq(b,[]),S:this.q,Oe:!!this.kh,ke:this.j.P.get("showBuildingBlock")})}, cq:function(a,b){return this.q.url+b.join(";")+"&lv="+a},iJ:function(){var a=this.q.url,b="rb";if(/\\/limg/.test(a)||/flds=[^&]+label/.test(a))b="rl";return b},EE:function(a,b,c){function d(c,d){if(b!==h.kb)h.Nr(a,b,k),e.DI=!0,e.startTime||(e.onreadystatechange="");else{var g=c.split("|");g[0]=d+g[0];var p=g,q="";g[g.length-1]&&(q=g[g.length-1],p=g.splice(0,g.length-1));h.XE(p,b,!0);return q}}var e=new XMLHttpRequest;c=this.cq(b,c,a);var g=0,h=this;e.ey="";var k=18<b?Math.pow(2,b-18):1;e.onreadystatechange= function(){if(h.q)if(3===e.readyState){if(!e.DI){var c=e.responseText.substring(g);e.ey=d(c,e.ey);g=e.responseText.length;e.lI=!0}}else 4===e.readyState&&(f.Fd.$d.end({key:h.iJ(),index:0,id:h.j.P.id}),e.DI||(c=e.responseText.substring(g),h.ko&&(c+="|"),d(c,e.ey),e.ey="",e.lI=!0),e.startTime&&f.Fd.$d.push({id:h.j.P.id,key:"ds",Om:e.responseText.length/2}),e.lI||h.Nr(a,b,k))};e.onerror=function(){};this.y4||(this.y4=1);e.open("GET",c,!0);e.send()},QR:function(a,b){var c=this.Wj||this.ge,d=a.ka.x,e= a.ka.y;return d>Math.floor(c.nd/b)||d<Math.floor(c.Kd/b)||e>Math.floor(c.Xc/b)||e<Math.floor(c.Yc/b)?!1:!0},UF:function(a,b,c,d){if(18<a){b=b.ka;for(var e=0;e<c;e+=1)for(var g=0;g<c;g+=1){var h=new f.zh(a,c*b.x+e,c*b.y+g)+"";(h=this.qa.get(h))&&d(h)}}else d(b),b.qc&&d(b.qc)}};f.L.canvas.Og=f.L.Ng.extend({ia:[f.vr],C:function(a,b){arguments.callee.Ba.apply(this,arguments);this.Ve=f.g.Bb(this);this.dk=300;this.Ad=a.Ad;this.ko=this.mg=!0;this.T("mapStyle",a.j);this.T("style",a.j);this.Kt=!0;this.Fp=1;var c=this;this.wJ=function(){c.J5=!0;c.set("display",0)};this.se();this.CE(a)},CE:function(a){a=f.l.W||a.ca?"big":"small";var b=f.r.Zb+"://"+mapApiHost+"/css/icon-biz-"+a+".png";f.hh.Mk(f.r.Zb+"://"+mapApiHost+"/css/icon-normal-"+a+".png",!0);f.hh.Mk(b,!0)},Lr:function(a){f.hh.K1(a, this);var b=f.L.canvas.Og.qf.Lr;b&&b.apply(this,arguments)},se:function(){this.ni=document.createElement("canvas");this.ni.className="amap-labels";this.ni.draggable=!1;this.ni.WO=!0;this.Gh=this.ni.getContext("2d");this.xt=[];this.Ot=[];this.gm=this.q.ca?16:8},zo:function(a){var b=Math.pow(2,a.V.zoom-this.ac),c=this.q.ca?this.q.Sa:1,d=a.V.La.Oa(this.mm).Rb(this.Ld);this.transform={translate:this.transform.translate.add(d.Nc(c)),scale:b/c,rotate:0};this.La=a.V.La},Nq:function(a,b){if(!this.ja||3E4< Math.abs(this.La.x-this.ja.x)/this.M||3E4<Math.abs(this.La.y-this.ja.y)/this.M)this.ja=this.La;this.Md=this.ac;this.Jg=this.Ld;this.Ig=!1;this.currentTime=+new Date;this.DG=b.DG;this.Gc=[this.la.ub.x,this.la.ub.y];this.Ch=b.Ow;var c=this.th;this.Zd=this.zoom<<0!==this.zoom;var d=this.La.Oa(this.ja);d.x<-f.g.Ra/2&&(d.x+=f.g.Ra);d.x>f.g.Ra/2&&(d.x-=f.g.Ra);this.CC=d.Rb(this.Ld);for(d=c.length-1;0<=d;d-=1){var e=c[d];if(e.length){var g=e[0].ka.z,h=!1;!1===a.wM||!e.Ze||f.Ha.fd||!(g<=this.zoom&&"in"=== this.Xx||g>=this.zoom&&"out"===this.Xx)&&this.Xx||this.labels&&this.labels.length&&!a.Xh&&this.gy(this.labels.Yq,this.ge)||(h=!0,this.labels&&this.labels.Qi?(this.nm=this.labels.Qi,this.nm.zoom=this.labels.zoom):(this.nm=[],this.nm.zoom=null),this.labels=[],this.labels.zoom=g,this.labels.Yq=this.ge);if(h){for(g=e.length-1;0<=g;g-=1){var k=e[g],h=!1,l=k.Ea;!l&&k.qc&&k.qc.Ea&&(l=k.qc.Ea,h=!0);if(l){for(var k=0,m=l.length;k<m;k+=1)l[k].reverse=h;Array.prototype.push.apply(this.labels,l)}}this.labels.sort(function(a, b){return a.Pj>b.Pj?-1:a.Ud>=b.Ud?-1:1})}}}this.A1(a)&&this.GF(a);this.J5=!1;this.hd(a);this.Ze&&!this.q.Ja&&(c=this.q,f.Fd.$d.end({id:this.j.P.id,key:"rl",index:2}),c.Ja=!0,c.wd?c.da("renderComplete"):(c.wd=!0,c.da("complete")))},dc:function(a,b){this.rm=a.rm;this.ei=a.ei;this.Oj(a,b);this.Zd||this.fh();this.mm&&(a.WR||a.nG&&f.l.Zg||a.ve&&!a.Zd&&a.f1)?this.zo(a,b):this.Nq(a,b);this.mm=this.La;this.Ck=this.labels;this.Ig&&this.set("display",0)},hd:function(a){var b=this.La.Oa(this.ja);b.x<-f.g.Ra/ 2&&(b.x+=f.g.Ra);b.x>f.g.Ra/2&&(b.x-=f.g.Ra);this.transform={translate:new f.G(a.V.la.tb.x*(this.q.ca?this.q.Sa:1),a.V.la.tb.y*(this.q.ca?this.q.Sa:1)),scale:1/(this.q.ca?this.q.Sa:1),rotate:0}},gy:function(a,b){return a.Yc===b.Yc&&a.Kd===b.Kd&&a.Xc===b.Xc&&a.nd===b.nd},fq:function(a,b){var c;if(this.zoom){var d=a.Rb(Math.pow(2,20-this.zoom));this.labels&&(c=this.V3(d,b))&&(c.qE=!1);!c&&this.Sb&&(c=this.U3(d))&&(c.qE=!0)}return c?[c]:[]},V3:function(a,b){for(var c=a.x,d=a.y,e=this.labels.Qi||this.labels, g=e.length-1;0<=g;g-=1){var h=e[g],k=h.Fa[0]/this.M,l=h.Fa[1]/this.M;if((h.Xk||!b)&&this.SO(h,c,d,k,l))return h}},U3:function(a){var b=a.x;a=a.y;for(var c=this.Sb.length-1;0<=c;c-=1){var d=this.Sb[c],e=d.Fa[0]/this.M,g=d.Fa[1]/this.M;if(d.Xk&&this.SO(d,b,a,e,g))return d}},SO:function(a,b,c,d,e){for(var g=0;g<a.xb.length;g+=1){var h=a.xb[g][2],k=a.xb[g][3],l=a.xb[g][0],m=a.xb[g][1];this.q.ca&&(h/=this.q.Sa,k/=this.q.Sa,l/=this.q.Sa,m/=this.q.Sa);if(b>=d+l-1&&b<=d+l+h+1&&c>=e+m-1&&c<=e+m+k+1)return!0}return!1}, reloadChanged:function(){this.q&&(this.q.Ja=!1);this.qa.clear();this.labels=[];this.xt=[];this.Ot=[];this.ob&&this.ob.parentNode&&this.ob.parentNode.removeChild(this.ob);this.ni&&this.ni.parentNode&&this.ni.parentNode.removeChild(this.ni);this.set("display")},kg:function(){return this.ni},tD:function(a,b){if("roadlabel"===a||"poilabel"===a)for(var c=0;c<b.length;c+=1){var d=b[c];if(d.Hb){var e="",g="",h="";d.$c&&(h=d.$c[0],e=h[3],g=h[4],h=d.Vh?"":h[7]);if(e=this.Db.dq&&this.Db.dq(e,g,h,d.Hb))d.visible= e[4],d.Tj=e[3];if(d.$c)for(g=0;g<d.$c.length;g+=1)h=d.$c[g],h[3]=e[0],h[4]=e[1],h[7]=e[2]}}}});f.tH={cq:function(a,b){return this.q.lo+b.join(";")+"&lv="+a},XE:function(a,b){if(this.q){for(var c=[],d=0,e=a.length;d<e;d+=1){var g=a[d];g&&(g=JSON.parse(g),g["x-vd-v"]?(this.sj=g["x-vd-v"],this.Uj=[g.tv||"",g.vdv].join("-"),this.nq=g.tv,this.j.bd="#"+g.bgc.substring(2)):(this.Vx(g,b,c,this.sj||"v4"),(f.l.le||f.l.Pk&&!this.j.P.Ja)&&18>=b&&f.Xm.set({Wh:!0,data:g,url:this.cq(b,[]),ai:g[0].split("-").slice(0,3).join("/"),S:this.q,vdataVersion:this.Uj,"x-vd-v":this.sj,tv:this.nq,bgc:this.j.bd,ke:this.j.P.get("showBuildingBlock")})))}this.set("display")}}, qQ:function(a,b){var c=0,d=0,e=1,c=256*b.x,d=256*b.y,e=b.M;return[(c+a[0])*e,(d+a[1])*e]},Vx:function(a,b,c,d,e){function g(c,g,l){if(c=p.qa.get([l,c,g].join("/"))){g=c.ka;var m=f.r.Zb+"://"+mapApiHost+"/css/icons/"+(h||k?"b":"n")+(10>g.z?"39":"18")+"/1/";if(c&&"loaded"!==c.status)if(p.QR(c,u)){if(-1!==r.indexOf(q))if("limg"===q)a[1]&&(c.Wh={url:"data:image/png;base64,"+a[1],er:"limg-"+c.key+"-"+p.q.Ve},f.hh.Mk(c.Wh,!0));else{if("roadlabel"===q)for(var n=1;n<a.length;n+=1){var v=a[n];v.Ly=v[0];var A= f.g.yG(v[1],d);if(!(0>A[0]||256<=A[0]||0>A[1]||256<=A[1])){var L=p.qQ(A,g),A={Fa:L,name:v[0],Vh:!0,Cd:A,Ha:[],xb:[],visible:!0,Tj:!0},R=A.name;A.Qq=15>v[2]%90||75<v[2]%90?90*Math.floor((v[2]+15)/90):v[2];L=v[3];v[6]&&v[7]&&(A.uL={name:v[6],L8:v[7]});var Q=L[2];l=L[3];var S=-Math.floor(l/2);if(v[4])if("v5"<=d){var C=v[5].split(":"),E=C[1],E=parseInt(E)-1,C=f.r.Zb+"://"+mapApiHost+"/css/icon-normal-"+(h||k?"big":"small")+".png";A.Ha.push(C);var C=Math.floor(E/10),H=E%10,F=0,I=0,V=0;k?(F=48,V= I=40):h?(F=I=40,V=36):(F=I=24,V=20);var J=F*Math.max(Q+2,V)/V,C=[-J/2,-F/2,J,F,I*H,I*C,I,I];A.Ud=7;A.xb.push(C)}else{S=!1;E=parseInt(v[5]);153===E&&(0===R.indexOf("G")?(E="153g",S=!0):0===R.indexOf("S")&&(E="153s",S=!0));if(151===E||150===E)S=!1,0===R.indexOf("G")&&(E=150,S=!0),0===R.indexOf("S")&&(E=151,S=!0);152===E&&(E=151);!0===S&&(m=f.r.Zb+"://"+mapApiHost+"/theme/icons/"+(h||k?"b/":"n/"));C=m+E+".png";f.hh.Mk(C);A.Ha.push(C);J=v[4][0]*t;v=v[4][1]*t;C=[-J/2,-v/2,J,v];A.xb.push(C);Q=Math.min(J- 3,Q);l=Math.min(v,l);S=-Math.floor(l/2)+(k?3:1)}A.Ha.push(c.Wh);A.Ud=11;A.xb.push([-Math.floor(Q/2),S,Q,l,L[0],L[1],L[2],L[3]]);c.Ea||(c.Ea=[]);c.Ea.push(A)}}else if("poilabel"===q){R=[];for(n=1;n<a.length;n+=1)if(v=a[n],v.Ly=v[0],A=f.g.yG(v[1],d),!(0>A[0]||256<=A[0]||0>A[1]||256<=A[1])){L=p.qQ(A,g);A={Fa:L,name:v[0].replace("^",""),rq:!0,Cd:A,Ha:[],xb:[],visible:!0,Tj:!0};E=0;A.Pj=v[8];v[6]&&("v5"<=d?(C=v[6].split(":"),E=C[1],S=Math.floor((parseInt(C[0].split("_")[1])-28)/2)):E=v[6]);if(E&&v[3]){if("v5"<= d){C=f.r.Zb+"://"+mapApiHost+"/css/icon-"+(1===S?"biz-":"normal-")+(h||k?"big":"small")+".png";A.Ha.push(C);E=parseInt(E)-1;C=Math.floor(E/10);H=E%10;k?(F=48,I=40,V=28):h?(F=I=40,V=28):(F=I=24,V=20);J=F;if(151===E||152===E||153===E)V-=4,Q=v[7][0][2],J=F*Math.max(Q+2,V)/V;C=[-J/2,-F/2,J,F,I*H,I*C,I,I]}else C=m+E+".png",f.hh.Mk(C),A.Ha.push(C),C=[-Math.round(v[3][0]/2),-Math.round(v[3][1]/2),v[3][0],v[3][1]],k&&!e&&(C[0]*=t,C[1]*=t,C[2]*=t,C[3]*=t);A.xb.push(C)}if(v[2]&&v[7])for(Q=v[2],C=0;C< v[2].length;C+=1){A.Ha.push(c.Wh);L=v[7][C];k&&!e&&(Q[C][0]=Math.round(Q[C][0]*t),Q[C][1]=Math.round(Q[C][1]*t),Q[C][2]=Math.round(Q[C][2]*t),Q[C][3]=Math.round(Q[C][3]*t));J=Q[C][0];H=Q[C][1]-(k?4:2);F=L[3];I=L[2];J<-I&&E&&v[3]&&(J=-I+A.xb[0][0]);if("v5">d){if("375"===E||"3751"===E)I=Math.min(Q[C][2],k?24:14),J=-Math.floor(I/2),H=-Math.floor(F/2)}else J-=2;A.Ud=F-4;4===l&&"\\u5317\\u4eac"===A.name&&(H=k?-50:-26);A.xb.push([J,H,I,L[3],L[0],L[1],L[2],L[3]])}A.io=v[5];A.io&&R.push(A.io);A.Xk=v[4];A.Uk= v[9];A.xP=v[10];A.ee=E;A.mq=S;c.Ea||(c.Ea=[]);c.Ea.push(A)}c.vf||(c.vf={},c.vf.Hd=R)}q===r[r.length-1]&&(c.status="loaded",c.Ja=c.va=!0,c.qc&&(c.qc.Ja=c.qc.va=!0))}}else p.UF(b,c,u,f.g.bind(p.ZE,p))}}var h=f.l.W,k=this.q.ca,l=a[0].split("-");1===l.length&&(l=a[0].split("_"));c=parseInt(l[1]);var m=parseInt(l[2]),n=parseInt(l[0]),p=this,q=l[3],r=this.q.Ea,u=18<b?Math.pow(2,b-18):1,l=Math.ceil(p.ge.hy/2),t=this.q.ca?this.q.Sa:1,v=Math.pow(2,n);10>n&&(c<=l&&g(c+v,m,n),c>=v-l&&g(c-v,m,n));g(c,m,n)}};f.L.canvas.wz=f.L.canvas.Og.extend({ia:[f.tH]});f.L.canvas.Og.nb({GF:function(a){this.Fp++;var b=this.ni,c=this.Gh;this.iq={};var d=this.q.ca?this.q.Sa:1,e;0!==a.V.rotation?(e=2*Math.floor(a.V.la.tb.x)*d,d*=2*Math.floor(a.V.la.tb.y)):(e=a.size.width*d,d*=a.size.height);f.f.Qj(b,e,d,!0);c.textBaseline="bottom";this.BO=0;a.Sb&&(this.rQ(a.Sb,1,a.Sb),0===a.Sb.length&&this.labels&&this.labels.Qi&&this.labels.zoom===this.zoom&&this.labels.Qi.length!==this.labels.length&&(this.labels.Qi=null));this.labels&&this.rQ(this.labels,0,a.Sb);!f.l.W&&this.nm&& this.nm.length&&this.T3(a);this.xt=this.xt&&this.FQ(c,this.xt,480);this.Ot=this.Ot&&this.FQ(c,this.Ot,200);a.Sb&&this.IQ(a.Sb,c,f.Pf.WN(this.j.P),this.Jb,e,d);this.labels&&this.IQ(this.labels,c,f.Pf.WN(this.j.P),this.Jb,e,d);this.nm=[];this.labels&&(this.labels.Oq=this.zoom,this.labels.Lq=this.La,this.labels.hu=this.rotation,this.labels.KQ=this.q.ca,this.labels.size=a.size);a.Sb&&(this.Sb=a.Sb);this.Sb&&(this.Sb.Oq=this.zoom,this.Sb.Lq=this.La,this.Sb.hu=this.rotation,this.Sb.size=a.size);this.w("afterLabelRender")}, GQ:function(a,b,c){var d=void 0===b.Tj?!0:b.Tj,e=1,g=void 0===b.visible?!0:b.visible,h=null;if(b.Hb&&this.j.nc){var k=h="",l="";b.$c&&this.dD&&(l=b.$c[0],h=l[3],k=l[4],l=b.Vh?"":l[7]);if(h=this.Db.dq&&this.Db.dq(h,k,l,b.Hb))g=h[4],d=h[3],e=h[5]}if(g){if(this.Gh.globalAlpha!==c||e)this.Gh.globalAlpha=c||e;g=0;for(k=b.Ha.length;g<k;g+=1)(d||"CANVAS"===b.Ha[g].tagName)&&this.V2(a,b.Ha[g],b.xb[g],b.Qq,c||e);this.Gh.globalAlpha!==c&&(this.Gh.globalAlpha=c);b.$c&&this.dD&&this.dD(a,b,h)}},V2:function(a, b,c,d){var e=this.Gh;b=this.Yn(b);if(!b)return 1;var g=c[2],h=c[3],k=c[0],l=c[1];d=(d||0)%360*-Math.PI/180;if(0!==d){var m=Math.cos(d),n=Math.sin(d),p=a[0],q=a[1];e.transform(m,n,-n,m,(1-m)*p+n*q,(1-m)*q-n*p)}k=a[0]+k;a=a[1]+l;4===c.length?b.loaded&&e.drawImage(b,k,a,g,h):e.drawImage(b,c[4],c[5],c[6],c[7],k,a,g,h);0!==d&&e.setTransform(1,0,0,1,0,0)},Yn:function(a){if("IMG"===a.tagName||"CANVAS"===a.tagName||(a=f.hh.NN(a))&&a.loaded)return a},tx:function(a){var b=a.Fa,c=b[0];a.reverse&&(c>f.g.Ra/2? c-=f.g.Ra:c<-f.g.Ra/2&&(c+=f.g.Ra));return this.dh(c,b[1])},dh:function(a,b){var c=this.q.ca?this.q.Sa:1,d=this.M,e=0,g=0,e=(a-this.Gc[0])/d,g=(b-this.Gc[1])/d;return[Math.round(e*c),Math.round(g*c)]},a4:function(a){var b=a.Fa,c=b[0];a.reverse&&(c>f.g.Ra/2?c-=f.g.Ra:c<f.g.Ra/2&&(c+=f.g.Ra));return[c/this.M,b[1]/this.M]},Z4:function(a,b){var c=a.Fa;return c[0]>b.uc.x||c[1]>b.uc.y||c[0]<b.ub.x||c[1]<b.ub.y?!1:!0},T3:function(a){var b=this.nm;if(this.nm.zoom!==this.labels.zoom)for(var c=0,d=b.length;c< d;c+=1){var e=b[c];e.rq&&this.Z4(e,a.V.la)&&(this.Ot.push(e),e.zoom=b.zoom,e.dE=new Date)}},rQ:function(a,b,c){var d=!(!c||!c.length),e=a.zoom-this.zoom,g=a.Qi||a;if(0<e||d){a.Qi=[];for(var h=0,k=g.length;h<k;h+=1){var l=g[h],m=this.a4(l);l.rq||b?l.io&&d&&c.FP&&-1!==f.g.indexOf(c.FP,l.io)||(5>e&&this.F4(m,l,0<e,b,d)?a.Qi.push(l):f.l.W||0===e&&!b||(this.xt.push(l),l.zoom=this.labels?this.labels.zoom:this.ac,l.dE=new Date)):l.Vh&&a.Qi.push(l)}}else a.Qi=a;return!1},FQ:function(a,b,c,d,e){a=new Date; for(var g=[],h=0,k=b.length;h<k;h+=1){var l=b[h],m=Math.max(0,Math.abs(l.zoom-this.zoom)),m=Math.max(0,1-(a-l.dE)/(1/Math.pow(1.3,m)*c));if(0<m){g.push(l);var n=this.tx(l);-20>n[0]||n[0]>d+20||-20>n[1]||n[1]>e+20||this.GQ(n,l,m)}else l.dE=void 0}g.length&&(this.BO=this.Ig=1);return g},IQ:function(a,b,c,d,e,g){d=a.zoom!==this.zoom;18===a.zoom&&18<this.zoom&&(d=!1);b.globalAlpha=1;a=a.Qi;b=0;for(var h=a.length;b<h;b+=1){var k=a[b];if(!(d&&k.Vh||k.ek&&c&&0<=c.indexOf(k.ek))){var l=this.tx(k);-20>l[0]|| l[0]>e+20||-20>l[1]||l[1]>g+20||this.GQ(l,k)}}},A1:function(a){this.Ck&&this.Ck.KQ!==this.q.ca&&this.q.set("reload");if(this.BO)return!0;if(a.Sb&&a.Sb.length)if(this.Sb&&this.Sb.length){if(this.Sb!==a.Sb||this.Sb.Oq!==this.zoom||this.Sb.Lq!==this.La||this.Sb.hu!==this.rotation||!this.Sb.size.Ob(a.size))return!0}else return!0;else if(this.Sb&&this.Sb.length)return!0;return!this.labels||this.labels===this.Ck&&this.Ck&&this.Ck.Oq===this.zoom&&this.Ck.Lq===this.La&&!a.Xh&&this.Ck.hu===this.rotation&& this.Ck.KQ===this.q.ca&&this.Ck.size.Ob(a.size)?!1:!0},F4:function(a,b,c,d,e){if(!e&&!c&&!d)return!0;var g;e=b.Ha.length;if(b.Uk>this.zoom)g=!0;else if(!c&&d)g=!1;else for(var h=0;h<e;h+=1){var k=b.xb[h],l=k[2],m=k[3],n=k[0],k=k[1],n=a[0]+n,k=a[1]+k;this.G4(n,k,l,m)||(g=!0)}if(!g&&(c||d))for(h=0;h<e;h+=1)for(k=b.xb[h],l=k[2],m=k[3],n=k[0],k=k[1],n=a[0]+n,k=a[1]+k,l=Math.ceil((n+l)/this.gm),c=Math.ceil((k+m)/this.gm),n=Math.floor(n/this.gm),k=Math.floor(k/this.gm),d=0,m=l-n;d<=m;d+=1)for(var l=0,p= c-k;l<=p;l+=1)this.iq[n+d]||(this.iq[n+d]={}),this.iq[n+d][k+l]=1;return!g},G4:function(a,b,c,d){var e=Math.ceil((a+c)/this.gm);d=Math.ceil((b+d)/this.gm);a=Math.floor(a/this.gm);b=Math.floor(b/this.gm);c=0;for(e-=a;c<=e;c+=1)if(this.iq[a+c])for(var g=0,h=d-b;g<=h;g+=1){if(1===this.iq[a+c][b+g])return!1}else this.iq[a+c]={};return!0}});f.L.canvas.Og.HS=f.Y.extend({C:function(a){this.L=a},S_:function(a){this.rm=a;return this.NB([0,0,0])?!0:this.rm=!1},KJ:function(){return this.L.Zd?!1:!0},yW:function(a){if(a){var b=Array.prototype.slice.call(arguments,0);switch(a.type){case "icon":return this.BW.apply(this,b);case "label":return this.DW.apply(this,b);default:console.error("Unknown type",a)}}},cJ:function(a,b,c){a=null;try{a=b.getImageData.apply(b,c)}catch(d){console.error(d),a=null}return a},o0:function(a){return 0>a?0:255<a?255: Math.round(a)},aM:function(a,b){for(var c=0;4>c;c++)a[b+c]=this.o0(a[b+c]);return a},MB:function(a,b){var c=259*(b+255)/(255*(259-b));return[c*(a[0]-128)+128,c*(a[1]-128)+128,c*(a[2]-128)+128]},K_:function(a){return[255-a[0],255-a[1],255-a[2]]},NB:function(a,b){isNaN(b)&&(b=20);var c=Math.max(0,0.299*a[0]+0.587*a[1]+0.114*a[2]-b);switch(this.rm){case "amap://styles/normal":case "normal":return[1*c,1.2*c,255];case "amap://styles/light":case "light":return[1*c,1*c,255];case "amap://styles/fresh":case "fresh":return[1* c,1*c,220];case "amap://styles/grey":case "amap://styles/dark":case "insight":case "dark":return[1.5*a[0],1.5*a[1],1*a[2]];case "amap://styles/blue":case "amap://styles/darkblue":case "blue_night":case "mapv":return[2*a[0],1.5*a[1],1*a[2]]}return!1},EW:function(a,b){var c=20,d=10;switch(b.Fj){case "active":c+=20,d+=20}return this.MB(this.NB(a,c),d)},uJ:function(a,b){var c=-110;switch(b.Fj){case "active":c+=30}return this.MB(this.NB(this.K_(a),c),50)},AW:function(a){return this.MB(a,20)},tJ:function(a, b,c,d,e,g){var h=a[b],k=a[b+1],l=a[b+2];a=a[b+3];0<a?(e=e.call(this,[h,k,l,a],g),c[d]=e[0],c[d+1]=e[1],c[d+2]=e[2]):(c[d]=h,c[d+1]=k,c[d+2]=l);c[d+3]=a;this.aM(c,d)},UV:function(a){var b=a.data,c=a.width;a=a.height;for(var d=0,e=0,g=[Infinity,Infinity],h=[-Infinity,-Infinity],k=0;k<c;k++)for(var l=0;l<a;l++){var m=4*this.xA(k,l,c,a);if(!(76.5>b[m+3])){e++;k<g[0]&&(g[0]=k);l<g[1]&&(g[1]=l);k>h[0]&&(h[0]=k);l>h[1]&&(h[1]=l);for(var n=!0,p=0;4>p;p++)if(220>b[m+p]){n=!1;break}n&&d++}}return{X9:0<e?d/ e:0,W1:[g[0],g[1],h[0]-g[0]+1,h[1]-g[1]+1]}},xA:function(a,b,c){return b*c+a},sw:function(a,b,c,d,e,g,h){var k=this.xA(b,c,d,e);d=a[4*k+0];e=a[4*k+1];var l=a[4*k+2];a=a[4*k+3];if(a/255<h.AP||h.LR&&!h.LR.call(this,d,e,l,a))return!1;g.push([b,c]);return!0},ZZ:function(a,b){var c=Math.abs(a[0]-b[0]),d=Math.abs(a[1]-b[1]);return Math.sqrt(c*c+d*d)},yp:function(a,b){return 0.1>Math.abs(a[0]-b[0])&&0.1>Math.abs(a[1]-b[1])},b0:function(a,b){for(var c=[a[0]],d=1,e=a.length;d<e;d++){var g=a[d];this.ZZ(g,c[c.length- 1])<=b&&c.push(g)}return this.yp(c[c.length-1],a[a.length-1])?c:null},gaa:function(){},GU:function(a,b,c,d){d=f.extend({AP:0.2,vP:4},d);var e,g,h=[],k=[],l=[],m=[];for(e=0;e<c;e++){for(g=0;g<b&&!this.sw(a,g,e,b,c,h,d);g++);for(g=b-1;0<=g&&!this.sw(a,g,e,b,c,k,d);g--);}if(!h.length||!k.length)return null;for(g=0;g<b;g++){var n;e=h[0][0];n=k[0][0];if(g>=e&&g<=n)for(e=0;e<c&&!this.sw(a,g,e,b,c,l,d);e++);e=h[h.length-1][0];n=k[k.length-1][0];if(g>=e&&g<=n)for(e=c-1;0<=e&&!this.sw(a,g,e,b,c,m,d);e--); }if(!l.length||!m.length)return null;m.reverse();h.reverse();if(this.yp(l[l.length-1],k[0])&&this.yp(k[k.length-1],m[0])&&this.yp(m[m.length-1],h[0])&&this.yp(h[h.length-1],l[0])){b=[m,h,l,k];e=0;for(a=b.length;e<a;e++)if(!(2>b[e].length||(b[e]=this.b0(b[e],d.vP),b[e])))return null;return[].concat(b[0]).concat(b[1].slice(1)).concat(b[2].slice(1)).concat(b[3].slice(1))}return null},EV:function(a){for(var b=[Infinity,Infinity],c=[-Infinity,-Infinity],d=0,e=a.length;d<e;d++){var g=a[d][0],h=a[d][1]; b[0]>g&&(b[0]=g);b[1]>h&&(b[1]=h);c[0]<g&&(c[0]=g);c[1]<h&&(c[1]=h)}return b.concat([c[0]-b[0]+1,c[1]-b[1]+1])},kJ:function(a,b){this.TL||(this.TL=document.createElement("canvas"));var c=this.TL;c.width=a;c.height=b;return c},YV:function(a){switch(a.length){case 2:return"lineTo";case 4:return"quadraticCurveTo"}return null},II:function(a){switch(a.length){case 2:return[a[0]+0.5,a[1]+0.5];case 4:return[a[0]+0.5,a[1]+0.5,a[2]+0.5,a[3]+0.5]}return a},VH:function(a,b){a.beginPath();for(var c=0,d=b.length;c< d;c++){var e=b[c];0===c?(2<e.length&&(4===e.length?e=e.slice(-2):console.error("Unknown start point: ",b)),a.moveTo.apply(a,this.II(e))):a[this.YV(e)].apply(a,this.II(e))}},HV:function(a){a=this.uJ([255,255,255],{Fj:a.Fj});this.aM(a,0);return"rgba("+a.slice(0,3).join(",")+", 0.8)"},zW:function(a,b,c){function d(a){return[Math.round((a[0]-n)*q+n-m[0]),Math.round((a[1]-p)*r+p-m[1])]}c=f.extend({Fj:"hover",rM:!0,padding:[1.5,1.5]},c);var e=a.width,g=a.height,h=this.kJ(2*e+10,g),k=h.getContext("2d"), l=this.EV(b),m=c.padding;f.l.Oc&&(m[0]+=2.5,m[1]+=2.5);for(var n=l[0],p=l[1],q=(l[2]+2*m[0])/l[2],r=(l[3]+2*m[1])/l[3],l=0,u=b.length;l<u;l++)switch(b[l].length){case 2:b[l]=d(b[l]);break;case 4:b[l]=d(b[l]).concat(d(b[l].slice(2)));break;default:console.error("Unknown point: ",b[l])}k.save();this.VH(k,b);k.closePath();k.fillStyle=c.fillStyle||"rgba(255,255,255,0.85)";k.fill();k.putImageData(a,e+6,0);k.drawImage(h,e+6,0,e,g,0,0,e,g);a=c.rM&&10<b.length;var t=c.strokeStyle||this.HV(c);k.strokeStyle= a?"#fff":t;k.lineCap="butt";k.lineJoin="round";k.lineWidth=f.l.Oc?2:1.2;k.stroke();k.restore();return{va:h,$e:[0,0,e,g],Zf:a?function(a,c){this.d0(a,c,b,t)}:null}},d0:function(a,b,c,d){this.JU();var e=this.L.Fp;this.OH(a,c,{duration:200,qF:0,startTime:Date.now(),Y7:function(a){a.strokeStyle=d;a.lineCap="butt";a.lineJoin="round";a.lineWidth=f.l.Oc?2:1;a.translate(b[0],b[1])},Y9:function(){return this.L.Fp!==e}})},JU:function(){this.Kz&&f.g.ag(this.Kz)},OH:function(a,b,c,d){this.KJ()?this.Kz=f.g.ec(function(){this.Kz= null;if(c.Y9.call(this))d&&d.call(this);else{var e=(Date.now()-c.startTime)/c.duration;1<e&&(e=1);var g=Math.round(b.length*e);if(c.qF<g){var h=1===e?b:b.slice(c.qF,g+1);h.length&&(a.save(),c.Y7.call(this,a,e),this.VH(a,h),a.stroke(),a.restore());c.qF=g}1>e?this.OH(a,b,c,d):d&&d.call(this)}},this):d&&d.call(this)},QU:function(a,b,c){a=a.createImageData(b.width,b.height);var d=a.data,e=a.width,g=a.height,h=c[0]+c[2],k=c[1],l=c[1]+c[3];for(c=c[0];c<h;c++)for(var m=k;m<l;m++)for(var n=4*this.xA(c,m, e,g),p=0;4>p;p++)d[n+p]=b.data[n+p];return a},iX:function(a,b,c){var d=a[1]+(b[1]-a[1])*c;return[Math.round(a[0]+(b[0]-a[0])*c),Math.round(d)]},UW:function(a,b,c){for(var d=1/c,e=[],g=1;g<c;g++){var h=this.iX(a,b,d*g);e.length&&this.yp(h,e[e.length-1])||e.push(h)}return e},VW:function(a,b){for(var c=1,d=a.length;c<d;c++){var e=a[c-1],g=a[c];2===g.length&&(4===e.length&&(e=e.slice(2)),2===e.length&&(e=this.UW(e,g,b),a.splice.apply(a,[c,0].concat(e)),c+=e.length,d+=e.length))}},$V:function(a,b,c,d, e){e=Math.round(Math.min(c,d)*e);c--;d--;e?a=[[a+c,b+d-e],[a+c,b+d,a+c-e,b+d],[a+e,b+d],[a,b+d,a,b+d-e],[a,b+e],[a,b,a+e,b],[a+c-e,b],[a+c,b,a+c,b+e],[a+c,b+d-e]]:(e=[a+c,b+d],a=[e,[a,b+d],[a,b],[a+c,b],e]);this.VW(a,5);return a},BW:function(a,b,c,d,e,g){b=a.$e;var h=c?c.jE:this.cJ(d,e,b);if(h){var k=c?c.EO:null,l=h,m=a.padding,n=m?m[0]:0,p=m?m[1]:0;(m=0<n*p)&&(l=this.QU(e,l,[n,p,l.width-2*n,l.height-2*p]));d=l.data;b=l.width;var q=l.height;if(b&&q){c=(c=this.L.j)&&c.P?c.P.get("hotspotOptions"):{}; c=f.extend({borderAnimation:!0},c);l=this.UV(l);a=!a.U4&&0.46<=l.X9;var r=e.createImageData(b,q);e=r.data;for(var u=a?this.uJ:this.AW,t=0,v=d.length;t<v;t+=4)this.tJ(d,t,e,t,u,{Fj:g});if(m&&(e=a&&!f.l.Oc?this.GU(d,b,q,{LR:a?function(a,b,c){return!(220<a&&220<b&&220<c)}:null,AP:0.2,vP:4}):null,e||(e=l.W1,e=this.$V(e[0],e[1],e[2],e[3],0.2)),e)){var w=this.zW(r,e,{Fj:g,fillStyle:"active"!==g?null:"#ddd",Rx:h,rM:c.borderAnimation&&"hover"===g&&!k,padding:a?[1.5,1.5]:[2.5,2.5]}),r=null;return{Rx:h,Mq:function(a, b){k&&h&&a.putImageData(h,b[0],b[1]);a.drawImage(w.va,w.$e[0],w.$e[1],w.$e[2],w.$e[3],b[0],b[1],b[2],b[3]);w.Zf&&(w.Zf.call(this,a,b),w.Zf=null)}}}return{Rx:h,Mq:function(a,b){if(m){var c=this.kJ(r.width,r.height);c.getContext("2d").putImageData(r,0,0);a.clearRect(b[0]+n,b[1]+p,b[2]-2*n,b[3]-2*p);a.drawImage(c,0,0,c.width,c.height,b[0],b[1],b[2],b[3])}else a.putImageData(r,b[0],b[1]);r=null}}}}},DW:function(a,b,c,d,e,g){a=a.$e;if(c=c?c.jE:this.cJ(d,e,a))if(d=c.data,a=c.width,b=c.height,a&&b){var h= e.createImageData(a,b);e=h.data;a=0;for(b=d.length;a<b;a+=4)this.tJ(d,a,e,a,this.EW,{Fj:g});return{Rx:c,Mq:function(a,b){a.putImageData(h,b[0],b[1]);h=null}}}},mJ:function(a,b,c){var d=c[2],e=c[3],g=a[0]+c[0];a=a[1]+c[1];if(4===c.length||c.HJ){if((b=this.L.Yn(b))&&b.loaded)return c=[4,4],f.l.Oc&&(c[0]*=2,c[1]*=2),{type:"icon",U4:b.src&&b.src.indexOf&&0<=b.src.indexOf("/indoor_icon/"),padding:c,$e:[g-c[0],a-c[1],d+2*c[0],e+2*c[1]]}}else return{type:"label",$e:[g,a,d,e]}}}); f.L.canvas.Og.nb({aJ:function(){this.EA||(this.EA=new f.L.canvas.Og.HS(this));return!1===this.EA.S_(this.rm)?null:this.EA},cn:function(a,b){var c=this.aJ();if(c&&c.KJ()&&a&&a.Ha&&a.xb&&0===this.rotation){var d=this.Fp,e=this.tx(a),g=[],h;a.yl||(a.yl=[]);var k=a.yl;for(h=a.xb.length-1;0<=h;h--){if(k[h]){if(k[h].rev!==d)continue;if(k[h].EO===b)continue}var l=c.mJ(e,a.Ha[h],a.xb[h]);if(l){var m=c.yW(l,a,k[h],this.ni,this.Gh,b);m&&(k[h]={EO:b,rev:d,jE:m.Rx},g.push({Mq:m.Mq,$e:l.$e,bu:"icon"===l.type? 2:1}))}}g.sort(function(a,b){return a.bu-b.bu});h=0;for(d=g.length;h<d;h++)g[h].Mq.call(c,this.Gh,g[h].$e),g[h].Mq=null}},Fr:function(a){a.yl&&(a.yl.length=0,a.yl=null)},vw:function(){var a=this.Gh;a&&a.putImageData&&a.putImageData(a.getImageData(0,0,1,1),0,0)},Aw:function(a){if(a&&a.Ha&&a.xb&&a.yl){var b=this.Gh,c=this.aJ();if(c){for(var d=this.Fp,e=this.tx(a),g=a.yl,h=0,k=a.xb.length;h<k;h++){var l=g[h];if(l&&(g[h]=null,d===l.rev)){var m=c.mJ(e,a.Ha[h],a.xb[h]);m&&m.$e&&b.putImageData(l.jE,m.$e[0], m.$e[1])}}a.yl=null;this.Fp++}}}}); ',true),_jsload_('overlay', 'f.fa.Rd=f.fa.Um.extend({C:function(a,b){var c=a.length;this.Jf=Array(c);for(var d,e,g=0;g<c;g+=1)if(d=a[g],e=new f.fa.hH(d),this.Jf[g]=e,!b)if(0===g){if(0===d.length)break;e.jm(d)||d.reverse()}else 0!==d.length&&e.jm(d)&&d.reverse()},oc:function(){if(0===this.Jf.length)return[Infinity,Infinity,-Infinity,-Infinity];if(!this.qe){for(var a=this.Jf[0].oc(),b=1;b<this.Jf.length;b+=1){var c=this.Jf[b].oc();f.B.fN(a,c)||f.B.extend(a,c)}this.qe=a}return this.qe},iO:function(){return this.Jf},Df:function(){return f.fa.ad.Ru}, Sc:function(a){for(var b=this.Jf,c,d=0,e=b.length;d<e&&(c=b[d].Sc(a),0<d&&(c=!c),c);d+=1);return c}});f.fa.Uo=f.fa.Um.extend({C:function(a){var b=a.length;this.ce=Array(b);for(var c=0;c<b;c+=1){var d=new f.fa.Rd(a[c]);this.ce[c]=d}},oc:function(){if(!this.qe){for(var a=[Infinity,Infinity,-Infinity,-Infinity],b=this.ce,c=0,d=b.length;c<d;c+=1)f.B.extend(a,b[c].oc());this.qe=a}return this.qe},DD:function(){return this.Fa},Df:function(){return f.fa.ad.Qu},QN:function(){return this.ce},Sc:function(a){for(var b=!1,c=0,d=this.ce.length;c<d;c+=1)if(this.ce[c].Sc(a)){b=!0;break}return b}});f.fa.jl=f.fa.Um.extend({C:function(a){this.Fa=a},oc:function(){if(!this.qe){for(var a=[Infinity,Infinity,-Infinity,-Infinity],b=0,c=this.Fa.length;b<c;b+=1)f.B.yN(a,this.Fa[b]);this.qe=a}return this.qe},DD:function(){return this.Fa},Df:function(){return f.fa.ad.gz},L3:function(){return this.Fa.length},Yp:function(a){return f.vc.Vl(a,this.Fa)}});f.fa.hH=f.fa.jl.extend({Df:function(){return f.fa.ad.fH},jm:f.vc.jm,Sc:function(a){return f.vc.Sc(a,this.Fa)}});f.fa.ur=f.fa.Um.extend({C:function(a){var b=a.length;this.ce=Array(b);for(var c=0;c<b;c+=1){var d=new f.fa.jl(a[c]);this.ce[c]=d}},QN:function(){return this.ce},oc:function(){if(!this.qe){for(var a=[Infinity,Infinity,-Infinity,-Infinity],b=this.ce,c=0,d=b.length;c<d;c+=1)f.B.extend(a,b[c].oc());this.qe=a}return this.qe},DD:function(){return this.Fa},Df:function(){return f.fa.ad.lz},L3:function(){return this.Fa.length},Yp:function(a){for(var b=Infinity,c=0,d=this.ce.length;c<d;c+=1)b=Math.min(b,this.ce[c].Yp(a)); return b}});f.Xa.oe=f.Xa.ll.extend({C:function(a,b){arguments.callee.Ba.apply(this,arguments);this.S0=a;this.T("options",a);this.T("geodesic",a);this.T("path",a);this.T("noSelect",a);this.zn();this.T("display",b);b.h("zoomend",this.xl,this)},vk:function(){if("3D"==this.map.P.view.type){var a=this.I;a&&(a=a.xa)&&(delete a.Da,delete a.Ys)}},deltaPosChanged:function(){this.set("display")},geodesicChanged:function(){this.pathChanged()},um:function(a){var b=Math.pow(2,20-this.map.get("zoom")),c=this.get("path"),b= a.Nc(b),d=[],e,g,h;e=0;for(g=c.length;e<g;e+=1)h=this.map.Wb(c[e]).add(b),d.push(this.map.Xd(h));0<d.length&&this.set("path",d);if(this.BB&&0<this.BB.length)for(e=0,c=this.BB.length;e<c;e+=1)this.BB[e].um(a);this.S0.w("movepoly",{kQ:b})},Tt:function(a,b,c){a=this.get("deltaPos")||[0,0];this.set("deltaPos",[c.x+a[0],c.y+a[1]])},Ur:function(a){this.get("options");return this.FJ()?this.QV(a):this.WI(a)},FJ:function(){var a=this.get("options");return a&&!!a.geodesic},getStrokeWeight:function(){return this.get("options").strokeWeight}, QV:function(a){if(!a||!a.length)return[];var b,c=[],d,e,g=[],h,k=this.map.get("resolution"),l=this.get("options").geodesicInterpolatePixelWidth||17;c.push(a[0]);g.push(this.tA(a[0]));d=1;for(e=a.length;d<e;d+=1)h=this.tA(a[d]),b=Math.round(Math.abs(h[0]-g[g.length-1][0])/k),b=Math.min(31,Math.round(b/l),Math.round(Math.abs(a[d-1].N-a[d].N))),b=f.U.b4(a[d-1],a[d],b),c.push.apply(c,b),g.push.apply(g,this.WI(b)),c.push(a[d]),g.push(h);return g},Pw:function(a){var b=[],c=[],d,e,g,h,k,l,m=a.xa;m instanceof f.fa.jl?l=[m]:m instanceof f.fa.ur&&(l=m.ce);m=[];a=a.ua.rotation;b=this.map.get("size");d=Math.PI*a/180;a=(Math.abs(b.width*Math.cos(d))+Math.abs(b.height*Math.sin(d)))/2;var n=(Math.abs(b.width*Math.sin(d))+Math.abs(b.height*Math.cos(d)))/2;d=0;for(e=l.length;d<e;d+=1)if(g=l[d].Fa,g.length)for(h=0,k=g.length;h<k;h+=1)if(b=g[h],b=this.Wd(b),b[0]=Math.round(b[0]+a),b[1]=Math.round(b[1]+n),0===h)c[0]=NaN,c[1]=NaN,m.push("M"+b[0]+" "+b[1]);else if(b[0]!==c[0]||b[1]!==c[1])m.push("L"+b[0]+" "+b[1]), c[0]=b[0],c[1]=b[1];return m},zn:function(){if(this.map&&!this.I){var a=this.map,b=this.get("path"),b=this.I=new f.Te({pA:this.sc.Kv,name:"polyline-"+f.g.Bb(this),zIndex:this.get("options").zIndex||1,map:a,xa:new f.fa.jl(this.Ur(b)),style:this.get("options")});b.Cl=this;this.T("resolution",a);this.T("center",a);this.T("coords",b);this.T("style",b);b.td("noSelect visible zIndex strokeWeight isOutline deltaPos".split(" "),this)}},pathChanged:function(){this.vk();var a=this.I,b=this.get("path");a&&(this.set("coords", this.Ur(b)),a.eg=!0,"c"!==this.map.get("overlayRender")&&a.ua?(b=this.Pw(a),f.l.Jk||b.push("e"),b=b.join(" "),0===b.length&&a.ua?(a.ua.yd.parentNode.removeChild(a.ua.yd),a.ua.wb.parentNode&&a.ua.wb.parentNode.removeChild(a.ua.wb),a.ua=null):f.l.Jk?(a.ua.yd.setAttribute("d",b),a.ua.wb&&a.ua.wb.setAttribute("d",b)):(a.ua.yd.path=b,a.ua.wb&&(a.ua.wb.path=b))):this.set("display"))},xl:function(){this.FJ()&&this.pathChanged()},visibleChanged:function(){this.I&&(this.I.ua?this.get("visible")?(this.I.ua.yd.style.display= "block",this.I.ua.wb&&(this.I.ua.wb.style.display="block")):(this.I.ua.yd.style.display="none",this.I.ua.wb&&(this.I.ua.wb.style.display="none")):this.set("display"))},optionsChanged:function(){this.vk();this.I&&(this.I.style=this.get("options"),this.I.zIndex=this.get("options").zIndex,this.I.$l(),this.I.ua&&(this.I.ua.yd.parentNode&&this.I.ua.yd.parentNode.removeChild(this.I.ua.yd),this.I.ua.wb&&this.I.ua.wb.parentNode&&this.I.ua.wb.parentNode.removeChild(this.I.ua.wb)));this.set("display")}});f.Xa.Rd=f.Xa.ll.extend({C:function(a,b){arguments.callee.Ba.apply(this,arguments);this.R0=a;this.T("options",a);this.T("path",a);this.zn();this.T("display",b)},vk:function(){if("3D"==this.map.P.view.type){var a=this.I;a&&(a=a.xa.get("rings"))&&f.g.isArray(a)&&a.forEach(function(a){delete a.Da;delete a.Ys})}},deltaPosChanged:function(){this.set("display")},um:function(a){var b=Math.pow(2,20-this.map.get("zoom")),c=this.get("path");a=a.Nc(b);var b=[],d,e;c.length&&c[0]instanceof f.U&&(c=[c],e=!0);for(var g= 0,h=c.length;g<h;g+=1){for(var k=c[g],l=[],m=0,n=k.length;m<n;m+=1)d=this.map.Wb(k[m]).add(a),l.push(this.map.Xd(d));b.push(l)}0<b.length&&this.set("path",e?b[0]:b);this.R0.w("movepoly",{kQ:a})},Tt:function(a,b,c){a=this.get("deltaPos")||[0,0];this.set("deltaPos",[c.x+a[0],c.y+a[1]])},Ur:function(a){a.length&&a[0]instanceof f.U&&(a=[a]);for(var b,c,d=[],e,g=this.map,h=0;h<a.length;h+=1){var k=a[h];e=[];b=0;for(c=k.length;b<c;b+=1){var l=g.Wb(k[b]);e.push([l.x,l.y])}d.push(e)}return d},zn:function(){if(this.map&& !this.I){var a=this.map,b=this.get("path"),b=this.I=new f.Te({pA:this.sc.Kv,name:"polygon-"+f.g.Bb(this),zIndex:this.get("options").zIndex||1,map:a,xa:new f.fa.Rd(this.Ur(b)),style:this.get("options")});b.Cl=this;this.T("resolution",a);this.T("center",a);this.T("coords",b);this.T("style",b);b.td(["visible","zIndex","strokeWeight","deltaPos"],this)}},pathChanged:function(){var a=this.I,b=this.get("path");this.vk();a&&(this.set("coords",this.Ur(b)),a.eg=!0,"c"!==this.map.get("overlayRender")&&a.X?(b= this.Qw(a),0===b.length?(a.X.parentNode.removeChild(a.X),a.X=null):f.l.Jk?a.X.setAttribute("d",b.join(" ")):(b.push("e"),a.X.path=b.join(" "))):this.set("display"))},getStrokeWeight:function(){return this.get("options").strokeWeight},visibleChanged:function(){this.I&&(this.I.X?this.get("visible")?this.I.X.style.display="block":this.I.X.style.display="none":this.set("display"))},optionsChanged:function(){this.vk();this.I&&(this.I.style=this.get("options"),this.I.zIndex=this.get("options").zIndex,this.I.$l()); this.set("display")},Qw:function(a){var b=[NaN,NaN,0],c=[NaN,NaN],d,e,g,h,k,l,m,n=a.X.rotation,p=this.map.get("size");e=Math.PI*n/180;n=(Math.abs(p.width*Math.cos(e))+Math.abs(p.height*Math.sin(e)))/2;p=(Math.abs(p.width*Math.sin(e))+Math.abs(p.height*Math.cos(e)))/2;a=a.xa;a instanceof f.fa.Rd?d=[a]:a instanceof f.fa.Uo&&(d=a.ce);var q=[];a=0;for(e=d.length;a<e;a+=1)if(b=d[a],g=b.Jf,h=g.length,0<h)for(var r=0;r<h;r+=1){var u;k=g[r].Fa;l=0;for(m=k.length;l<m;l+=1)if(b=k[l],b=this.Wd(b),b[0]=Math.ceil(b[0]+ n),b[1]=Math.ceil(b[1]+p),0===l)c[0]=NaN,c[1]=NaN,u=b,q.push("M"+b[0]+" "+b[1]);else if(b[0]!==c[0]||b[1]!==c[1])q.push("L"+b[0]+" "+b[1]),c=b;u&&q.push("L"+u[0]+" "+u[1])}return q}});f.Xa.Xj=f.Xa.ll.extend({C:function(a,b){arguments.callee.Ba.apply(this,arguments);this.Q0=a;this.T("center",a);this.T("draggable",a);this.T("radius",a);this.T("options",a);this.zn();this.T("display",b)},um:function(a){var b=this.get("center");a=a.Nc(Math.pow(2,20-this.map.get("zoom")));var c=this.map.Wb(b).add(a);b instanceof f.U?this.set("center",this.map.Xd(c)):this.set("center",c);this.Q0.w("movepoly",{kQ:a})},Tt:function(a,b,c){a=this.get("deltaPos")||[0,0];this.set("deltaPos",[c.x+a[0],c.y+a[1]])}, zn:function(){if(this.map&&!this.I){var a=this.map,b=a.Wb(this.get("center")),b=this.I=new f.Te({Ev:!0,pA:this.sc.Kv,name:"circle-"+f.g.Bb(this),zIndex:this.get("options").zIndex||1,map:a,xa:new f.fa.Ce([b.x,b.y]),style:this.get("options")});b.Cl=this;this.T("resolution",a);this.T("coords",b);this.T("style",b);b.T("visible",this,!0);b.td("radius center resolution zIndex strokeWeight deltaPos".split(" "),this)}},vk:function(){if("3D"==this.map.P.view.type){var a=this.I;a&&(a=a.xa)&&(delete a.Da,delete a.Ys, delete a.FG)}},deltaPosChanged:function(){this.set("display")},getStrokeWeight:function(){return this.get("options").strokeWeight},centerChanged:function(){var a=this.I,b=this.map.Wb(this.get("center"));a&&(a.xa.Fa=[b.x,b.y],this.vk(),this.set("coords",[b.x,b.y]),this.eg=!0,a.X?this.wQ():this.set("display"))},visibleChanged:function(){this.I&&(this.I.X?this.get("visible")?this.I.X.style.display="block":this.I.X.style.display="none":this.set("display"))},optionsChanged:function(){this.vk();this.I&& (this.I.style=this.get("options"),this.I.zIndex=this.get("options").zIndex,this.I.$l(),this.I.eg=!0,this.set("display"))},yC:function(a){var b=[],c=[],d,c=a.xa;c instanceof f.fa.Ce&&(d=[c]);var c=this.map.get("resolution",Math.floor(this.map.get("zoom"))),e=a.X.rotation,b=this.map.get("size"),g=Math.PI*e/180,e=(Math.abs(b.width*Math.cos(g))+Math.abs(b.height*Math.sin(g)))/2,g=(Math.abs(b.width*Math.sin(g))+Math.abs(b.height*Math.cos(g)))/2,b=this.Wd(d[0].Fa);b[0]=Math.round(b[0]+e);b[1]=Math.round(b[1]+ g);a=a.get("remain")?5.23:this.get("radius")/(c*Math.cos(Math.PI*this.get("center").Q/180));return c=["M",b[0],b[1]-a,"A",a,a,0,1,1,b[0]-0.01,b[1]-a,"Z"].join(" ")},wQ:function(){var a=this.I,b=this.get("radius");if("c"!==this.map.get("overlayRender")&&a.X)if(f.l.Jk)b=this.yC(a),a.X.setAttribute("d",b);else{b=this.map.get("resolution",Math.floor(this.map.get("zoom")));b=this.get("radius")/(b*Math.cos(Math.PI*this.get("center").Q/180));a.X.style.width=Math.round(2*b);a.X.style.height=Math.round(2* b);var c=this.map.get("size").width/2,d=this.map.get("size").height/2,e=this.Wd(a.xa.Fa);e[0]=Math.round(e[0]+c);e[1]=Math.round(e[1]+d);a.X.style.top=Math.round(e[1]-b);a.X.style.left=Math.round(e[0]-b)}else this.set("display")},radiusChanged:function(){var a=this.I,b=this.get("radius");a&&(this.vk(),a.eg=!0,a.w("rad",{Dm:b}),this.wQ())}}); ',true),_jsload_('wgl', '(function(){f.l.sk&&(f.Fu=new f.Wu(function(a){function b(a,b,c,e,g,h){c=a.Da;e=[];var k=a.$i,l=null,m=null;a.Da=[];h=h&&16<b;for(var n=1,p=c.length;n<p;n+=1){var q=c[n],r=q[1].split("&"),l=u(B?B:r[0]),m=u(r[2]),v=q[2],z=q[0],y=q[3]*Math.pow(2,2),x=q[4],da={};if((q=q[5])&&q.length)for(var aa=0,U=q.length;aa<U;aa+=1)for(var Z=q[aa].split("-")[1].split("^"),r=0,N=Z.length;r<N;r+=1)-1===d(e,Z[r])&&e.push(Z[r]);if(x&&x.length)for(q=0,aa=x.length;q<aa;q+=1)for(U=x[q].split("-"),Z=parseInt(U[0]),da[Z]= {},r=1,N=U.length;r<N;r+=1)da[Z][parseInt(U[r])]=!0;q=0;for(x=z.length;q<x;q+=1){for(var r=z[q],aa=[],U=[],Z=[],r=w(r,s,b),r=t(r,k,g,!0)[1],N=[],D=0,K=0,G=0,X=r.length-1;G<X;G+=1){var $=r[G],ea=r[G+1],D=D+$[0],K=K+ea[1];if(!da[q]||!da[q][G])if(h){var ia=0;$[0]===ea[0]?ia=0.5:$[1]===ea[1]?ia=ea[0]>$[0]?0:1:(ia=Math.abs(Math.atan((ea[1]-$[1])/(ea[0]-$[0]))/Math.PI),ia=ea[0]>$[0]?ia:1-ia);ia+=0.2;aa.push($[0],$[1],-y,ia);aa.push(ea[0],ea[1],0,ia);aa.push($[0],$[1],0,ia);aa.push($[0],$[1],-y,ia);aa.push(ea[0], ea[1],-y,ia);aa.push(ea[0],ea[1],0,ia);Z.push([$,ea,ea,$])}else U.push($[0],$[1],0,0.3,ea[0],ea[1],0,0.1);N.push([$[0],$[1]])}r.pop();D=[D/r.length+215440491,K/r.length+106744817];K=A.Py(h?N:r,[],0,1);Z.push(h?N:r);N=0;for(G=K.length;N<G;N+=1)for(r=0;3>r;r+=1)X=-y,$=0.2,h||(X=0,$=-0.5),aa.push(K[N][r][0],K[N][r][1],X,$);r=[l,m,v];Z.xm=!0;a.Da.push([new Float32Array(aa),null,new Float32Array(U),r,Z,D])}}a.Oi=e;return a}function c(a,b,c,e,g,h){c=a.Da;e=[];for(var k=a.$i,l=null,m=null,n={},p=1,q=c.length;p< q;p+=1){var r=c[p],v=r[1].split("&"),l=u(B?B:v[0]),m=u(v[2]),z=v[0]+v[2];n[z]||(n[z]={YR:[],UQ:[],om:[],rD:[],o3:l,borderColor:m,Hb:r[2]});var l=n[z].YR,m=n[z].UQ,v=n[z].om,z=n[z].rD,x=r[0],y=r[3]*Math.pow(2,2),da=r[4],aa={};if((r=r[5])&&r.length)for(var U=0,Z=r.length;U<Z;U+=1)for(var N=r[U].split("-")[1].split("^"),D=0,K=N.length;D<K;D+=1)-1===d(e,N[D])&&e.push(N[D]);if(da&&da.length)for(r=0,Z=da.length;r<Z;r+=1)for(N=da[r].split("-"),D=parseInt(N[0]),aa[D]={},U=1,K=N.length;U<K;U+=1)aa[D][parseInt(N[U])]= !0;r=0;for(da=x.length;r<da;r+=1){for(var G=x[r],G=w(G,s,b),G=t(G,k,g,!0)[1],U=[],Z=0,N=G.length-1;Z<N;Z+=1){var D=G[Z],K=G[Z+1],X=[D[0]-0*y,D[1]-0.3*y],$=[K[0]-0*y,K[1]-0.3*y];aa[r]&&aa[r][Z]||(h?((K[0]-D[0])*(X[1]-D[1])<(X[0]-D[0])*(K[1]-D[1])&&(l.push(X[0],X[1],2),l.push(K[0],K[1],-1),l.push(D[0],D[1],-1),l.push(X[0],X[1],2),l.push($[0],$[1],2),l.push(K[0],K[1],-1),z.push([D,K,$,X])),v.push(X[0],X[1],-1,$[0],$[1],-1)):v.push(D[0],D[1],-1,K[0],K[1],2));U.push([X[0],X[1]])}G.pop();Z=A.Py(h?U:G,[], 0,1);z.push(h?U:G);G=0;for(N=Z.length;G<N;G+=1)for(U=0;3>U;U+=1)m.push(Z[G][U][0],Z[G][U][1],3)}}a.Da=[];for(G in n)n.hasOwnProperty(G)&&(v=[n[G].o3,n[G].borderColor,n[G].Hb],n[G].rD.xm=!0,a.Da.push([new Float32Array(n[G].YR),new Float32Array(n[G].UQ),new Float32Array(n[G].om),v,n[G].rD]));a.Oi=e;return a}function d(a,b){if(a&&!a.length)return-1;if(a.indexOf)return a.indexOf(b);for(var c=0;c<a.length;c+=1)if(a[c]===b)return c;return-1}function e(a,b){for(var c=a.Da,d=[],e={0:"ffde0000",1:"ffffcc00", 2:"ff33b100",3:"ff8c0e0e",4:"ffadadad"},g=0,h=c.length;g<h;g++){for(var k=[],l=0,m=c[g].length;l<m;l++){var p=[],q=[],r=[];n(p,r,q,c[g][l][1],a.ka,b);q.xm=!0;p.forEach(function(a,b){k.push([a,r[b]])})}if(k.length){var s=[[],[],{width:0.75*c[g][0][0],borderColor:u(e[g])}];k.forEach(function(a){var b=s[0].length/9;b&&(a[1]=a[1].map(function(a){return a+b}));s[0]=s[0].concat(a[0]);s[1]=s[1].concat(a[1])});s[0]=new Float32Array(s[0]);s[1]=new Uint16Array(s[1]);d.push(s)}}a.Da=d;return a}function g(a, b){var c=[],d=[],e=[];p(c,e,d,a,b);return[new Float32Array(c),new Uint16Array(e),{},d]}function h(a){var b=[],c=[],d=[];p(b,d,c,a);a=b.length/11;[2,3,a-3,a-4].forEach(function(a){b[11*a+2]=0});return[new Float32Array(b),new Uint16Array(d),{},c]}function k(a){var b=[],c=[],d=[];a=t(a,{x:0,y:0},1);c.push.apply(c,a[2]);if(2<a[1].length){var e=A.Py(a[1],[],0);e.length&&(b.push.apply(b,a[0]),d.push.apply(d,e))}return[new Float32Array(b),new Uint16Array(d),{},c]}function l(a,b,c,d,e){for(var g="solid solid_roundcap solid_squarecap dash railway dash_crewel".split(" "), h=a.Da.slice(1),k=h.length-1;0<=k;k--)h[k].KO=k;h.sort(function(a,b){return a[2]>b[2]?1:a.KO>b.KO?1:-1});for(var l={},k=0,n=h.length;k<n;k+=1){var p=h[k],q=p[1].split("&"),r,s,t,w,v;r=s=t=w=v=null;var y,x,B,A,N=null,D=!1;y=x=B=A=null;q[1]&&(r=u(q[1]));s=parseInt(q[0]);t=q[2];t!==g[0]&&(t===g[1]?y="round":t===g[2]?y="square":0===t.indexOf(g[5])?(N=!0,B=[3,2]):0===t.indexOf(g[3])?(B=eval("["+t.substring(5).split(")")[0]+"]"),B.forEach(function(a,b){B[b]*=e})):0===t.indexOf(g[4])&&(w=r,r=q[4]?u(q[4]): [1,1,1,r[3]],B=[12,12],D=!0,v=3,s=1));q[3]&&q[4]&&3<q.length&&(v=s+parseInt(q[3]),w=u(q[4]),t=q[5],t!==g[0]&&(t===g[1]?x="round":t===g[2]?x="square":0!==t.indexOf(g[5])&&0===t.indexOf(g[3])&&(v+=1,A=eval("["+t.substring(5).split(")")[0]+"]"),A.forEach(function(a,b){A[b]*=e}))));if(c){if(B)for(q=B.length-1;0<=q;q-=1)B[q]*=e;if(A)for(q=A.length-1;0<=q;q-=1)A[q]*=e}t=[];t.Me=0;var K=[],G=[];m(t,G,K,p[0],a.$i,b,c,d,e,y);"app"===z&&(s/=4,v/=4);q=[s,r,B,v,w,A,N,D,y,x,p[3]];q.pca=!0;p=p[2];l[p]||(l[p]=[]); K.xm=!0;l[p].push([new Float32Array(t),new Uint16Array(G),q,K])}a.Da=l;return a}function m(a,b,c,d,e,g,h,k,l,m){for(var n=0,p=d.length;n<p;n+=1){var q=a.length/11,r=q+6,u=w(d[n],s,g),v=t(u,e,k);if(1<v[1].length){for(var u=v[0],z=v[2],y=0,v=v[1].length;y<v;y+=1){if(0<y){var x=u[2*y]-u[2*y-2],B=u[2*y+1]-u[2*y-1];a.Me+=Math.sqrt(x*x+B*B)*(h?l:1)}var x=u[2*y],B=u[2*y+1],A=z[y][0],N=z[y][1],D,K;y===v-1?(D=u[2*v-2],K=u[2*v-1]):(D=u[2*y+2],K=u[2*y+3]);var G,X;0===y?(G=x,X=B):(G=u[2*y-2],X=u[2*y-1]);if(0!== y){var $=y===v-1?0:-1;a.push(x,B,A,N,1,G,X,$,D,K,a.Me);a.push(x,B,A,N,-1,G,X,$,D,K,a.Me)}else a.push(x,B,A,N,0,G,X,0,D,K,a.Me),a.push(x,B,A,N,1,G,X,0,D,K,a.Me),a.push(x,B,A,N,1,G,X,1,D,K,a.Me),a.push(x,B,A,N,0,G,X,1,D,K,a.Me),a.push(x,B,A,N,-1,G,X,1,D,K,a.Me),a.push(x,B,A,N,-1,G,X,0,D,K,a.Me),m&&(b.push(q+2,q+0,q+3),b.push(q+2,q+1,q+0),b.push(q+3,q+0,q+4),b.push(q+4,q+0,q+5));y!==v-1?($=0===y?0:1,a.push(x,B,A,N,1,G,X,$,D,K,a.Me),a.push(x,B,A,N,-1,G,X,$,D,K,a.Me)):(a.push(x,B,A,N,0,G,X,0,D,K,a.Me), a.push(x,B,A,N,1,G,X,0,D,K,a.Me),a.push(x,B,A,N,1,G,X,-1,D,K,a.Me),a.push(x,B,A,N,0,G,X,-1,D,K,a.Me),a.push(x,B,A,N,-1,G,X,-1,D,K,a.Me),a.push(x,B,A,N,-1,G,X,0,D,K,a.Me));y!==v-1?(b.push(r+4*y,r+4*y+3,r+4*y+1),b.push(r+4*y,r+4*y+2,r+4*y+3)):m&&(x=r+4*(v-1),b.push(x+1,x+2,x+0),b.push(x+2,x+3,x+0),b.push(x+0,x+4,x+5),b.push(x+0,x+3,x+4))}c.push(z)}}}function n(a,b,c,d,e,g){for(var h=0,k=d.length;h<k;h+=1){var l=[],m=[],n=w(d[h]),p=t(n,e,g);c.push(p[2]);if(1<p[1].length){var q=p[1].length;p[1].forEach(function(a, b,c){var d=c[b-1];c=c[b+1];0===b?d=a:b===q-1&&(c=a);l.push(a[0],a[1],p[2][b][0],p[2][b][1],1,d[0],d[1],c[0],c[1]);l.push(a[0],a[1],p[2][b][0],p[2][b][1],-1,d[0],d[1],c[0],c[1]);0===b?m.push(0,1,2):b!=q-1?(m.push(2*(b-1)+1,2*b+1,2*b),m.push(2*b,2*b+1,2*(b+1))):m.push(2*(b-1)+1,2*b+1,2*b)});a.push(l);b.push(m)}}}function p(a,b,c,d,e){var g=t(d,{x:0,y:0},1);c.push(g[2]);if(1<g[1].length){var h=g[1].length,k=0;g[1].forEach(function(c,d,l){var m=l[d-1];l=l[d+1];0===d?m=c:d===h-1&&(l=c);k+=Math.sqrt(Math.pow(c[0]- m[0],2)+Math.pow(c[1]-m[1],2));0===d||d===h-1?(a.push(c[0],c[1],0,g[2][d][0],g[2][d][1],1,k,m[0],m[1],l[0],l[1]),a.push(c[0],c[1],0,g[2][d][0],g[2][d][1],-1,k,m[0],m[1],l[0],l[1])):(a.push(c[0],c[1],-1,g[2][d][0],g[2][d][1],1,k,m[0],m[1],l[0],l[1]),a.push(c[0],c[1],-1,g[2][d][0],g[2][d][1],-1,k,m[0],m[1],l[0],l[1]),a.push(c[0],c[1],1,g[2][d][0],g[2][d][1],1,k,m[0],m[1],l[0],l[1]),a.push(c[0],c[1],1,g[2][d][0],g[2][d][1],-1,k,m[0],m[1],l[0],l[1]));0===d?b.push(0,1,2):d!=h-1?(b.push(2+4*(d-1),2+4*(d- 1)-1,4*(d-1)+3),b.push(4*(d-1)+4,4*(d-1)+5,2+4*d),"bevel"===e&&(b.push(2+4*(d-1),4*(d-1)+3,4*(d-1)+4),b.push(2+4*(d-1),4*(d-1)+3,4*(d-1)+5))):b.push(2+4*(d-1),2+4*(d-1)-1,4*(d-1)+3)})}}function q(a,b,c){var d=a.Da,e=[],g=[],h=[];r(a,g,h,c);var k=[[[0,0],[255,0],[255,255],[0,255]]];k.xm=!0;e.push([new Float32Array(g),new Uint16Array(h),u("ff"+a.zM.substr(1)),"regions:land",k]);d.sort(function(a,b){return"string"===typeof a?-1:"string"===typeof b?1:a[2]>b[2]?1:a[2]<b[2]?-1:0});for(var l=1,m=d.length;l< m;l+=1){var n=d[l],g=[],h=[],k=[],p=u(n[1].split("&")[0]);v(g,h,k,n[0],a.$i,b,c);k.xm=!0;e.push([new Float32Array(g),new Uint16Array(h),p,n[3],k])}a.Da=e;return a}function r(a,b,c,d){var e=a.$i;a=256*e.x*d-215440491;e=256*e.y*d-106744817;b.push(a,e);var g=256*d;d=a+g;b.push(d,e);e+=g;b.push(a,e);b.push(d,e);c.push(0,1,2,1,3,2)}function u(a){for(var b=[],c=0,d=a.length;c<d;c+=2)b.push(parseInt(a.substr(c,2),16)/255);b.push(b.shift());return b}function t(a,b,c,d){var e=0,g=0,e=256*b.x,g=256*b.y;b=[]; for(var h=[],k=[],l=0,m=a.length;l<m;l+=2){var n=(e+a[l])*c-215440491,p=(g+a[l+1])*c-106744817,q=k.length;if(d||0===b.length)k.push(n),k.push(p),b.push([n,p]),h.push([a[l],a[l+1]]);else if(n!==k[q-2]||p!==k[q-1])n===k[q-2]&&n===k[q-4]?(k[q-1]=p,b[b.length-1][1]=p,h[b.length-1][1]=a[l+1]):p===k[q-1]&&p===k[q-3]?(k[q-2]=n,b[b.length-1][0]=n,h[b.length-1][0]=a[l]):(k.push(n),k.push(p),b.push([n,p]),h.push([a[l],a[l+1]]))}return[k,b,h]}function v(a,b,c,d,e,g,h){for(var k=0,l=d.length;k<l;k+=1){var m= a.length/2,n=t(w(d[k],s,g),e,h);2<n[1].length&&(m=A.Py(n[1],[],m),m.length&&(a.push.apply(a,n[0]),b.push.apply(b,m),c.push(n[2])))}}function w(a,b,c){var d="ASDFGHJKLQWERTYUIO!sdfghjkleiu3~yr5-P&mq9`%zCN*b=8@^xpVM";b=b||"v5";var e,g;"v5"<b?(e=d.length,g=512):(e=27,d=d.substr(0,27),g=333);var h,k,l,m,n;k=[];l=NaN;m=0;for(n=a.length;m<n;m++)h=a[m],h=d.indexOf(h),isNaN(l)?l=h*e:(h=l+h-g,18===c&&"v5"<b&&(h/=4),k.push(h),l=NaN);return k}var s,y=Number.EPSILON||2E-16,z,x=!1,B=null,A={$e:function(a){for(var b= a.length,c=0,d=b-1,e=0;e<b;d=e++)c+=a[d][0]*a[e][1]-a[e][0]*a[d][1];return 0.5*c},d9:function(){return function(a,b){var c=a.length;if(3>c)return null;var d=[],e=[],g=[],h,k,l;if(0<A.$e(a))for(k=0;k<c;k++)e[k]=k;else for(k=0;k<c;k++)e[k]=c-1-k;var m=2*c;for(k=c-1;2<c&&!(0>=m--);){h=k;c<=h&&(h=0);k=h+1;c<=k&&(k=0);l=k+1;c<=l&&(l=0);var n;a:{var p=n=void 0,q=void 0,r=void 0,s=void 0,t=void 0,u=void 0,v=void 0,w=void 0,p=a[e[h]][0],q=a[e[h]][1],r=a[e[k]][0],s=a[e[k]][1],t=a[e[l]][0],u=a[e[l]][1];if(y> (r-p)*(u-q)-(s-q)*(t-p))n=!1;else{var x=void 0,z=void 0,B=void 0,D=void 0,K=void 0,G=void 0,X=void 0,$=void 0,ea=void 0,ia=void 0,ea=$=X=w=v=void 0,x=t-r,z=u-s,B=p-t,D=q-u,K=r-p,G=s-q;for(n=0;n<c;n++)if(v=a[e[n]][0],w=a[e[n]][1],!(v===p&&w===q||v===r&&w===s||v===t&&w===u)&&(X=v-p,$=w-q,ea=v-r,ia=w-s,v-=t,w-=u,ea=x*ia-z*ea,X=K*$-G*X,$=B*w-D*v,ea>=-y&&$>=-y&&X>=-y)){n=!1;break a}n=!0}}if(n){d.push([a[e[h]],a[e[k]],a[e[l]]]);g.push([e[h],e[k],e[l]]);h=k;for(l=k+1;l<c;h++,l++)e[h]=e[l];c--;m=2*c}}return b? g:d}}(),Py:function(a,b,c,d){var e,g,h,k={};b=0;for(e=a.length;b<e;b++)h=a[b][0]+":"+a[b][1],k[h]=b;a=A.d9(a,!1);if(!a)return[];if(d)return a;var l=[];b=0;for(e=a.length;b<e;b++)for(g=a[b],d=0;3>d;d++)h=g[d][0]+":"+g[d][1],h=k[h],l.push(h+c);return l},Oba:function(a){return 0>A.$e(a)}};return{oF:function(d,e){s=d.sj;x=d.Q4;z=d.mode;var g=x?b:c,h=d.Pt,k=d.Pq;B=d.Rw;for(var m=d.W,n=[],p=Math.pow(2,20-h),r=0,t=d.od.length;r<t;r+=1){var u=d.od[r];switch(u.gd){case "region":n.push(q(u,h,p));break;case "road":n.push(l(u, h,k,p,d.SQ));break;case "building":n.push(g(u,h,k,m,p,d.r1))}}d.od=n;if(a){g=[];r=0;for(t=n.length;r<t;r++)if((h=n[r].Da)&&h.length)for(k=0,m=h.length;k<m;k++)h[k].buffer&&h[k].buffer instanceof ArrayBuffer&&g.push(h[k].buffer);a.Hw(g)}e(null,{data:d})},D6:function(a,b){for(var c=a.od,d=Math.pow(2,20-a.Se),g=[],h=0,k=c.length;h<k;h++)g.push(e(c[h],d));a.od=g;b(null,{data:a})},y6:function(a,b){var c=a.oh.reduce(function(a,b){return a.concat(b)},[]),c=k(c);b(null,{data:c})},B6:function(a,b){var c=a.oh[0], d=a.oh[a.oh.length-1];c[0]===d[0]&&c[1]===d[1]||a.oh.push(a.oh[0]);a.oh.push(a.oh[1]);a.oh.unshift(d);c=a.oh.reduce(function(a,b){return a.concat(b)},[]);c=h(c);b(null,{data:c})},A6:function(a,b){var c=a.oh.reduce(function(a,b){return a.concat(b)},[]),c=g(c,a.lineJoin);b(null,{data:c})},Pca:function(){}}},{}))})(f);f.Gu={O4:function(a,b,c){b=f.Gu.createProgram(a,b,c);if(!b)return console.log("Failed to create program"),!1;a.useProgram(b);a.zb=b;return!0},createProgram:function(a,b,c){b=f.Gu.pP(a,a.VERTEX_SHADER,b);c=f.Gu.pP(a,a.FRAGMENT_SHADER,c);if(!b||!c)return null;var d=a.createProgram();if(!d)return null;a.attachShader(d,b);a.attachShader(d,c);a.linkProgram(d);return a.getProgramParameter(d,a.LINK_STATUS)?d:(console.log("Failed to link program: "+a.getProgramInfoLog(d)),a.deleteProgram(d),a.deleteShader(c), a.deleteShader(b),null)},pP:function(a,b,c){b=a.createShader(b);if(null===b)return console.log("unable to create shader"),null;a.shaderSource(b,c);a.compileShader(b);return a.getShaderParameter(b,a.COMPILE_STATUS)?b:(console.log("Failed to compile shader: "+a.getShaderInfoLog(b)),a.deleteShader(b),null)}};f.L.Be.Hc=f.L.Kc.Ng.extend({ia:[f.vr],C:function(a,b){this.Bi=20;this.Sa=Math.min(2,window.devicePixelRatio||1);this.ym=1;arguments.callee.Ba.apply(this,arguments);this.T("mapStyle",a.j);this.T("style",a.j);this.kh=this.mg=!0;a.j.P.lm&&this.Cr(a,b);this.dk=0;this.Cx()||this.set("reload")},pT:"precision highp float;attribute vec4 a_Position;attribute vec3 a_op,a_Next,a_Previous;attribute float a_Tags;uniform float u_xDelta,u_width;uniform lowp int u_type;uniform mat4 u_othMatrix,u_zoomMatrix,u_modelMatrix;uniform float u_scale;varying float v_distance;varying vec2 v_op;varying float v_TB;varying float v_cap;varying lowp float v_Tags;void main() {vec4 position=a_Position;position.x+=u_xDelta;if (u_type==0) {gl_Position=u_othMatrix*u_zoomMatrix*u_modelMatrix*position;}else if(u_type>1) {v_op=a_op.xy;v_TB=a_op.z;vec3 curPos=position.xyz;v_distance=a_Next.z;float ddis=0.0;vec3 previous=vec3(a_Previous.x+u_xDelta,a_Previous.y,0);vec3 next=vec3(a_Next.x+u_xDelta,a_Next.y,0);vec4 up,dir;v_distance *= u_scale;if(previous==curPos){ dir= vec4(normalize(next-curPos).xy,0,0);}else if(next==curPos){dir= -vec4(normalize(previous-curPos).xy,0,0);}else {vec3 dir0=previous-curPos;vec3 dir1=next-curPos;vec3 dir2=normalize(dir0);vec3 dir3=normalize(dir1);float f0=dir0.x*dir1.y-dir1.x*dir0.y;dir = vec4(0); v_cap=1.0;if(f0==0.0){up = vec4(dir3.y,-dir3.x,0,0); }else{vec3 dir4=normalize(dir2+dir3);float sinA=length(cross(dir4,dir2));float cosA=dot(dir4,dir2);if(sinA<0.5){sinA=0.5;}up= vec4(dir4,0)/sinA;ddis=abs(length(up)*cosA*u_width*0.5);if(f0<0.0){up=-up;ddis=-ddis;}v_distance += v_TB*a_Previous.z*ddis;}}if(previous==curPos||next==curPos){ up = vec4(dir.y,-dir.x,0,0); if(u_type==4){v_cap=sqrt(v_TB*v_TB+a_Previous.z*a_Previous.z);}else if(u_type==3){v_cap=1.0;}else{dir = vec4(0);}}vec4 pos=u_zoomMatrix*u_modelMatrix*position;pos=pos+(up*v_TB-dir*a_Previous.z)*u_width*0.5;gl_Position=u_othMatrix*pos;}else if (u_type==1) {v_Tags=a_Tags;gl_Position=u_othMatrix*u_zoomMatrix*u_modelMatrix*position;}}", BS:"precision lowp float;uniform vec4 u_FragColor,u_FragColor2;varying lowp float v_distance,v_TB;varying vec2 v_op;varying lowp float v_Tags;varying float v_cap;uniform lowp int u_type;uniform int u_isDash,u_onlyBorder;uniform vec4 u_dash;void main() {vec4 color=u_FragColor;if (u_type==0) {}else if(u_type>1) {if(v_op.x<-0.2||v_op.x>256.2||v_op.y<-0.2||v_op.y>256.2){discard;}if(v_cap>1.0){discard;}if(u_isDash==1){float all = u_dash[0] + u_dash[1] + u_dash[2] + u_dash[3];float off = mod(v_distance - u_dash[0], all);if(off> u_dash[0]&&off<=(u_dash[0]+u_dash[1])||off>(all-u_dash[3])){discard;}}if(u_onlyBorder==1&&v_TB<=0.7&&v_TB>=-0.7){discard;}}else if(u_type==1) {color=v_Tags==3.0?u_FragColor2:vec4((u_FragColor+(u_FragColor2-u_FragColor)*v_Tags/3.0).xyzw);}gl_FragColor=color;}", reloadChanged:function(){this.q&&(this.q.Ja=!1);this.qa.clear();this.na&&this.na.parentNode&&this.na.parentNode.removeChild(this.na);this.set("display")},Wx:function(a){if(this.q&&a.xE===this.q.Ve)for(var b=0,c=a.od.length;b<c;b+=1)this.Yt(a.od[b],a.Pt,a.Pq,a.W)},CF:function(a){for(var b=0,c=a.length;b<c;b+=1){var d=a[b];this.j.Zh&&d[3]&&!this.j.nc&&(d[2]=this.Db.eq(d[2],d[3]));d.Vd=d[1].length;d[0]=this.vg(this.lb.ARRAY_BUFFER,d[0]);d[1]=this.vg(this.lb.ELEMENT_ARRAY_BUFFER,d[1])}},LF:function(a){for(var b= 0,c=a.length;b<c;b+=1){var d=a[b];d.Vd=d[1].length;d[0]=this.vg(this.lb.ARRAY_BUFFER,d[0]);d[1]=this.vg(this.lb.ELEMENT_ARRAY_BUFFER,d[1]);this.j.Zh&&d[2][10]&&!this.j.nc&&(d[2][1]=this.Db.Qh(d[2][1],d[2][10],1),d[2][4]=this.Db.Qh(d[2][4],d[2][10],0))}},BC:function(a){for(var b=0,c=a.length;b<c;b+=1){var d=a[b];d.Ut=d[0].length/3;d[0]=this.vg(this.lb.ARRAY_BUFFER,d[0]);d.EP=d[1].length/3;d[1]=this.vg(this.lb.ARRAY_BUFFER,d[1]);d.Vt=d[2].length/3;d[2]=this.vg(this.lb.ARRAY_BUFFER,d[2]);if(this.j.Zh&& d[3][2]&&!this.j.nc){var e=this.Db.Sn(d[3][0],d[3][1],d[3][2]);d[3][0]=e[0];d[3][1]=e[1]}}},vg:function(a,b){if(b.length){var c=this.lb,d=c.createBuffer();c.bindBuffer(a,d);c.bufferData(a,b,c.STATIC_DRAW);return d}},LN:function(a){var b=a.ka,c=b.x,d=b.y,e=b.z,g=Math.pow(2,e),h=(c+g)%g,k=h+g,l=h-g,m=null;h!==c&&(m=this.ao(e,h,d));m||l===c||(m=this.ao(e,l,d));m||k===c||(m=this.ao(e,k,d));return m?(a.status=m.status,a.va=m.va,a.Jb=m.Jb,a.$b=m.$b,a.eb={building:m.eb.building,region:m.eb.region,road:m.eb.road, Ak:(b.x-m.ka.x)/g+m.eb.Ak},!0):!1},ao:function(a,b,c){if((a=this.qa.get(a+"/"+b+"/"+c))&&a.eb)return a},Yt:function(a){var b=a.gd,c=this.qa.get(a.ai);if(c){c.eb||(c.eb={Ak:0});c.eb[b]=a.Da;if("region"===b)this.CF(a.Da);else if("road"===b)for(var d in a.Da)a.Da.hasOwnProperty(d)&&this.LF(a.Da[d]);else"building"===b&&(this.BC(a.Da),a.Oi&&a.Oi.length&&!c.vf&&(c.vf={},c.vf.Hd=a.Oi,f.il&&f.il.w("vecTileParsed.buildings",{qu:c})));b===this.q.Ea[this.q.Ea.length-1]&&(c.va=!0,this.set("display"))}},dc:function(a, b){this.ei=a.ei;this.Oj(a,b);a.wM=this.Ze;this.Nq(a,b);if(this.Ze&&!this.q.Ja){var c=this.q;f.Fd.$d.end({id:this.j.P.id,key:"rb",index:2});c.Ja=!0;c.wd?c.da("renderComplete"):(c.wd=!0,c.da("complete"))}this.mm=this.La;this.Ig&&this.set("display",0)},kg:function(){return this.na},Wt:function(){f.L.Be.Hc.Sl+=1;this.na&&f.A.D(this.na,"webglcontextlost",this.Wt,this);this.na.parentNode&&this.na.parentNode.removeChild(this.na);if(1<f.L.Be.Hc.Sl)this.Ux();else{var a=this.na.className;this.na=document.createElement("canvas"); this.na.className=a;this.Cx()}this.set("reload");new f.Aa.Pa(f.r.Zb+"://webapi.amap.com/count?"+["type=glfail","c="+f.L.Be.Hc.Sl,"crd="+f.l.XD,"k="+f.r.key,"u="+f.r.Kl,"m="+(f.l.W?1:0),"pf="+f.l.Iq,"dpr="+window.devicePixelRatio,"scale="+(f.l.Xy||0),"detect="+f.l.ca].join("&"))},Ux:function(){f.l.Oe=!1;this.q&&this.q.j.P&&(this.q.j.set("baseRender",f.l.uN?"dv":"d"),this.q.j.P.IE(),this.q.L=null,this.q.Qa.Em(),this.q=null);this.na=this.Db=null},se:function(a){this.na=document.createElement("canvas"); this.na.className=a||"amap-layer"},Cx:function(){if(1<f.L.Be.Hc.Sl)return this.Ux(),!1;var a=this.lb=this.na.getContext(f.l.iS,f.l.jS);if(a)f.A.h(this.na,"webglcontextlost",this.Wt,this);else return this.Ux(),!1;f.Gu.O4(a,this.pT,this.BS);this.wG=a.getUniformLocation(a.zb,"u_xDelta");this.dS=a.getUniformLocation(a.zb,"u_othMatrix");this.fS=a.getUniformLocation(a.zb,"u_zoomMatrix");this.bS=a.getUniformLocation(a.zb,"u_modelMatrix");this.Ac=a.getAttribLocation(a.zb,"a_Position");this.Ai=a.getAttribLocation(a.zb, "a_op");this.zi=a.getAttribLocation(a.zb,"a_Previous");this.be=a.getAttribLocation(a.zb,"a_Next");this.Mp=a.getAttribLocation(a.zb,"a_Tags");a.enableVertexAttribArray(this.Ac);this.gl=a.getUniformLocation(a.zb,"u_FragColor");this.pG=a.getUniformLocation(a.zb,"u_FragColor2");this.bi=a.getUniformLocation(a.zb,"u_type");this.Au=a.getUniformLocation(a.zb,"u_width");this.sG=a.getUniformLocation(a.zb,"u_isDash");this.tG=a.getUniformLocation(a.zb,"u_onlyBorder");this.rG=a.getUniformLocation(a.zb,"u_dash"); this.vG=a.getUniformLocation(a.zb,"u_scale");a.enable(a.BLEND);a.enable(a.CULL_FACE);a.cullFace(a.FRONT);a.blendEquationSeparate(a.FUNC_ADD,a.FUNC_ADD);a.blendFuncSeparate(a.SRC_ALPHA,a.ONE_MINUS_SRC_ALPHA,a.SRC_ALPHA,a.ONE);a.clearColor(0,0,0,0);this.Dq=this.Vp=this.qq=void 0;this.di=0;return!0},zo:function(a){var b=Math.pow(2,a.V.zoom-this.Md),c=a.V.La.Oa(this.mm).Rb(this.Jg);this.transform={translate:this.transform[0].translate.add(c),scale:b,rotate:0};this.La=a.V.La},Nq:function(a,b){var c=this.uC(a, b),d=this.lb;d.clear(d.COLOR_BUFFER_BIT);var e=this.q.ca?this.Sa:this.ym,g=0,h=0;0!==a.V.rotation?(g=2*Math.floor(a.V.la.tb.x)*e,h=2*Math.floor(a.V.la.tb.y)*e):(g=a.size.width*e,h=a.size.height*e);g&&h&&(this.na.width=g,this.na.height=h,d.viewport(0,0,this.na.width,this.na.height),this.Fm.apply(this,c),this.hd(a))},Hm:256*Math.pow(2,20),fD:function(a,b){var c=b.eb.region;if(c){this.uk(b.eb.Ak*this.Hm);for(var d=0;d<c.length;d+=1){var e=c[d],g=e[2],h=e[3];h&&this.j.nc&&(g=this.Db.eq(g,h),e.Zc=g);g&& (a.bindBuffer(a.ARRAY_BUFFER,e[0]),a.vertexAttribPointer(this.Ac,2,a.FLOAT,!1,8,0),a.uniform4f(this.gl,g[0],g[1],g[2],g[3]),a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,e[1]),a.drawElements(a.TRIANGLES,e.Vd,a.UNSIGNED_SHORT,0))}}},gD:function(a,b,c){var d=this.q.ca?this.Sa:this.ym,e;for(e in b)if(b.hasOwnProperty(e)){for(var g=b[e],h=0;h<g.length;h+=1){var k=g[h],l=k[2],m=l[4],n=l[10];n&&this.j.nc&&(m=this.Db.Qh(m,n,0),k.Zc=m);m&&(n="square"===k[2][9]?3:"round"===k[2][9]?4:2,a.uniform1i(this.bi,n),k[2][3]&& (this.uk(k.di*this.Hm),a.bindBuffer(a.ARRAY_BUFFER,k[0]),a.vertexAttribPointer(this.Ac,2,a.FLOAT,!1,44,0),a.vertexAttribPointer(this.Ai,3,a.FLOAT,!1,44,8),a.vertexAttribPointer(this.zi,3,a.FLOAT,!1,44,20),a.vertexAttribPointer(this.be,3,a.FLOAT,!1,44,32),a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,k[1]),k=k.Vd,n=l[7]?l[3]:l[3]*c,a.uniform1f(this.Au,n*d),a.uniform4f(this.gl,m[0],m[1],m[2],m[3]),this.tk(l[5]?1:0,l[5],0),a.drawElements(a.TRIANGLES,k,a.UNSIGNED_SHORT,0)))}for(h=0;h<g.length;h+=1)k=g[h],l=k[2], l[0]&&(m=l[1],(n=l[10])&&this.j.nc&&(m=this.Db.Qh(m,n,1),k.Zc=m),m&&(n="square"===k[2][8]?3:"round"===k[2][8]?4:2,a.uniform1i(this.bi,n),this.uk(k.di*this.Hm),a.bindBuffer(a.ARRAY_BUFFER,k[0]),a.vertexAttribPointer(this.Ac,2,a.FLOAT,!1,44,0),a.vertexAttribPointer(this.Ai,3,a.FLOAT,!1,44,8),a.vertexAttribPointer(this.zi,3,a.FLOAT,!1,44,20),a.vertexAttribPointer(this.be,3,a.FLOAT,!1,44,32),a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,k[1]),k=k.Vd,n=l[7]?l[0]:l[0]*c,a.uniform1f(this.Au,n*d),a.uniform4f(this.gl, m[0],m[1],m[2],m[3]),this.tk(l[2]?1:0,l[2],l[6]?1:0),a.drawElements(a.TRIANGLES,k,a.UNSIGNED_SHORT,0)))}},Fe:new f.G(215440491,106744817),Fm:function(a,b,c){if(a.length){this.Jb+=1;b=this.na.width;c=this.na.height;var d=this.lb;b=(new f.Ah).jR(-b/2,b/2,c/2,-c/2,0);c=Math.pow(2,this.zoom-this.Bi)*(this.q.ca?this.Sa:this.ym);c=(new f.Ah).scale(c,c,1);var e=this.La.Rb(this.M/Math.pow(2,this.Bi-this.zoom)).Oa(this.Fe),e=(new f.Ah).translate(-e.x,-e.y,0);d.uniformMatrix4fv(this.dS,!1,b.elements);d.uniformMatrix4fv(this.fS, !1,c.elements);d.uniformMatrix4fv(this.bS,!1,e.elements);d.uniform1f(this.vG,Math.pow(2,this.zoom-this.Bi)*(this.q.ca?this.Sa:1));b=this.ol=[];for(c=a.length-1;0<=c;c-=1){e=a[c];d.disableVertexAttribArray(this.Ai);d.disableVertexAttribArray(this.zi);d.disableVertexAttribArray(this.be);d.disableVertexAttribArray(this.Mp);this.tk(0,void 0,void 0);d.uniform1i(this.bi,0);this.uk(0);for(var g=0,h=e.length;g<h;g+=1){var k=e[g];e[g].eb&&(k.Jb=this.Jb,b.push(k),this.fD(d,k))}d.enableVertexAttribArray(this.Ai); d.enableVertexAttribArray(this.zi);d.enableVertexAttribArray(this.be);d.disableVertexAttribArray(this.Mp);if(e.length){for(var l={},g=0,h=e.length;g<h;g+=1){var k=e[g],m=k.eb.road;if(m)for(var n in m)if(m.hasOwnProperty(n)){l[n]||(l[n]=[]);for(var p=0,q=m[n].length;p<q;p+=1)m[n][p].di=k.eb.Ak,l[n].push(m[n][p])}}this.gD(d,l,Math.pow(1.3,this.zoom-e[0].ka.z))}if(!(14>this.zoom))for(d.uniform1i(this.bi,1),this.tk(0,void 0,void 0),d.disableVertexAttribArray(this.Ai),d.disableVertexAttribArray(this.zi), d.disableVertexAttribArray(this.be),d.enableVertexAttribArray(this.Mp),g=0,h=e.length;g<h;g+=1)k=e[g],k.eb.building&&this.gx(d,k)}}},gx:function(a,b){for(var c=b.eb.building,d=0;d<c.length;d+=1){var e=c[d],g=e[3][0],h=e[3][1];if(!e||!g)break;var k=e[3][2];k&&this.j.nc&&(h=this.Db.Sn(g,h,k),g=h[0],h=h[1],e.Zc=g);if(g||h)g||(g=[0,0,0,0]),h||(h=[0,0,0,0]),a.uniform4f(this.pG,g[0],g[1],g[2],g[3]),a.uniform4f(this.gl,h[0],h[1],h[2],h[3]),e.Ut&&(a.bindBuffer(a.ARRAY_BUFFER,e[0]),a.vertexAttribPointer(this.Ac, 2,a.FLOAT,!1,12,0),a.vertexAttribPointer(this.Mp,1,a.FLOAT,!1,12,8),a.drawArrays(a.TRIANGLES,0,e.Ut)),e.Vt&&(a.bindBuffer(a.ARRAY_BUFFER,e[2]),a.vertexAttribPointer(this.Ac,2,a.FLOAT,!1,12,0),a.vertexAttribPointer(this.Mp,1,a.FLOAT,!1,12,8),a.drawArrays(a.LINES,0,e.Vt)),e.EP&&(a.bindBuffer(a.ARRAY_BUFFER,e[1]),a.vertexAttribPointer(this.Ac,2,a.FLOAT,!1,12,0),a.vertexAttribPointer(this.Mp,1,a.FLOAT,!1,12,8),a.drawArrays(a.TRIANGLES,0,e.EP))}},tk:function(a,b,c){var d=this.lb;a!==this.qq&&(d.uniform1i(this.sG, a),this.qq=a);a&&b!==this.Vp&&(this.Vp=b,d.uniform4f(this.rG,b[0],b[1],b[2]||0,b[3]||0));c!==this.Dq&&(d.uniform1i(this.tG,c),this.Dq=c)},uk:function(a){a!==this.di&&(this.lb.uniform1f(this.wG,a),this.di=a)},hd:function(){this.transform={translate:{x:this.na.width/2,y:this.na.height/2},scale:this.q.ca?1/this.Sa:1/this.ym,rotate:0}}});f.L.Be.Hc.Sl=0; ',true),_jsload_('sync', '(function(){if(f.r.Bc){var a=function(){var a=f.r.Bc.split("."),b=window;do if(b=b[a.shift()],!b)return null;while(a.length);return b||null},b=function(b){var c=a();if(c){if("function"!==typeof c)throw Error(f.r.Bc+" is not a function!");c()}else if(b)throw Error("Can not find callback: "+f.r.Bc+", try define it before load JsApi!");};document.body&&a()?b():setTimeout(function(){b(!0)},300)}var c=["s=rsv3&product=JsInit&key="+f.r.key,"t="+(new Date).getTime()];c.push("resolution="+window.innerWidth+ "*"+window.innerHeight);c.push("mob="+(f.l.W?1:0));c.push("vt="+(f.l.Tw?1:0));c.push("dpr="+window.devicePixelRatio);c.push("scale="+f.l.Xy||0);c.push("detect="+f.l.ca);new f.Aa.Pa(f.r.xc+"/v3/log/init?"+c.join("&"),{callback:"callback"})})(); ',true),_jsload_('cgl', '(function(){f.l.Lt&&f.vm.NO("base",function(){function a(a,b){if(a&&!a.length)return-1;if(a.indexOf)return a.indexOf(b);for(var c=0;c<a.length;c+=1)if(a[c]===b)return c;return-1}function b(a,b,c,g){b=b.split("&");var h="",r=0,u=0,t="butt",v="",w=0,s=0,y="butt",w=d(b[1]),s=parseInt(b[0])*c*(g?2:1);c=b[2];c===k[1]?y="round":c===k[2]?y="square":0!==c.indexOf(k[5])&&(0===c.indexOf(k[3])?v=eval("["+c.substring(5).split(")")+"]"):0===c.indexOf(k[4])&&(r=w,w="white",v=eval("["+c.substring(8).split(")")+ "]"),u=s+1+(g?1:0),s=s-1-(g?1:0)));""!==b[3]&&(r=d(b[4]),u=parseInt(b[3])*(g?2:1)+s,b=b[5],b===k[1]?t="round":b===k[2]?t="square":0!==b.indexOf(k[5])&&0===b.indexOf(k[3])&&(h=eval("["+b.substring(5).split(")")+"]")));a.KF=w;a.wy=s;a.M7=y;a.N7=v;a.tC=r;a.Mw=u;"app"===e&&(a.wy/=4,a.Mw/=4);a.a1=t;a.b1=h;a.xm=!0}function c(a,b,c,d,e,g){a=c-a;c=e-c;if(0===a||0===c)return a===c?!0:!1;if((g-d)/c===(d-b)/a)return!0}function d(a){for(var b=[],c=0,d=a.length;c<d;c+=2)b.push(parseInt(a.substr(c,2),16));b.push((b.shift()/ 255).toFixed(2));return"rgba("+b.join(",")+")"}var e,g,h=null,k="solid solid_roundcap solid_squarecap dash railway dash_crewel".split(" ");return{parseData:function(k,m){e=k.mode;g=k.sj;var n=k.Pt,p=k.Pq;h=k.Rw;for(var q=0,r=k.od.length;q<r;q+=1){var u=k.od[q],t=n,v=p,w=u.gd,s=u.Da.slice(1),y=u.S4,z=u.$i,x=u.jh,B={};if("region"===u.gd){var B="ff"+u.zM.substring(1),A=256*(v?2:1),L={};L[B]=[[[0,0],[0,A],[A,A],[A,0]].reverse()];L[B].Hb="regions:land";L[B].face=d(B);L[B].border=null;B={0:L}}var R=void 0, R=A=void 0,L=[],Q=0;"region"===u.gd?Q=3:"road"===u.gd?Q=3:"building"===u.gd&&(Q=2);for(var S=0,C=s.length;S<C;S+=1){var R=s[S],A=R[1],E;E=R[0];for(var H=z,F=t,I=x,V=y,J=v,T=[],O=0,P=E.length;O<P;O+=1){var M=E[O],ca=g,Y="ASDFGHJKLQWERTYUIO!sdfghjkleiu3~yr5-P&mq9`%zCN*b=8@^xpVM",ca=ca||"v5",da=void 0,aa=void 0;"v5"<ca?(da=Y.length,aa=512):(da=27,Y=Y.substr(0,27),aa=333);for(var U=ca=void 0,Z=void 0,N=void 0,D=void 0,U=[],Z=NaN,N=0,D=M.length;N<D;N++)ca=M[N],ca=Y.indexOf(ca),isNaN(Z)?Z=ca*da:(U.push(Z+ ca-aa),Z=NaN);var M=U,D=F,Y=V,K=J,da=[],ca=aa=void 0,Z=U=0,N=void 0;if(I)for(U=256*H.x,Z=256*H.y,N=H.M,D=0,K=M.length;D<K;D+=2)aa=(U+M[D])*N,ca=(Z+M[D+1])*N,da.push([aa,ca]);else for(N=(18<D?Math.pow(2,18-D):1)/(K?2:1),D=0,K=M.length;D<K;D+=2){for(;!Y&&0!==D&&D<K-2&&c(M[D-2],M[D-1],M[D],M[D+1],M[D+2],M[D+3]);)D+=2;1===N?da.push([M[D],M[D+1]]):da.push([M[D]/N,M[D+1]/N])}M=da;M.length&&(T.push(M),T.Qp=T.Qp?T.Qp+M.Qp:M.Qp)}E=T;E.Hb=R[Q];if(y){E.UH=S;if((F=R[4])&&F.length)for(I=0,V=F.length;I<V;I+=1)for(J= F[I].split("-"),T=E[parseInt(J[0])],O=1,H=J.length;O<H;O+=1)T[parseInt(J[O])].Sx=!0;F=R[5];I=0;for(H=E.length;I<H;I+=1)E[I].Gk=R[3]*(v?2:1);if(F&&F.length)for(H=0,I=F.length;H<I;H+=1)for(J=F[H].split("-"),V=J[1].split("^"),E[parseInt(J[0])].NM=V,J=0,T=V.length;J<T;J+=1)-1===a(L,V[J])&&L.push(V[J])}R=R[2];y&&(R=9999);R=B[R]?B[R]:B[R]={};R[A]?R[A].push.apply(R[A],E):("road"===w?(H=1,18<t&&(H=Math.pow(2,t-18)),H=b(E,A,H,v)):(H=E,F=A,I=v,V=y,F=F.split("&"),H.face=d(V&&h?h:F[0]),F[2]?(H.border=d(F[2]), H.width=(I?2:1)*(parseInt(F[1])||1)):H.border=null,H.xm=!0,H=void 0),"err"!==H&&(R[A]=E))}u.Da=B;L.length&&(u.Oi=L)}k.od[0].ai.split("/");m(null,{data:k})},postStyle:function(){}}},function(){})})(f);f.L.canvas.qT=f.Y.extend({C:function(a,b){this.na=a;this.fb=a.getContext("2d");this.q=b},Bba:function(a,b){var c=a.V.bg,d=c.Q,c=c.N,e=new Date,g=new Date;g.setMonth(0);g.setDate(0);g.setHours(0);g.setMinutes(0);g=(e-g)/864E5+8;b[0]=120-15*(e.getHours()-12)-c;b[1]=d-(-23.5+(182.62>g?g:365.25-g)/182.62*47)},us:function(a,b,c,d){return{x:a.x-b*c,y:a.y-b*d}},DF:function(a,b){var c=a.data,d=Math.pow(2,b.V.zoom-18);this.M=b.V.M;this.la=b.V.la;for(var e in c)if(c.hasOwnProperty(e)){for(var g=c[e],h=[],k= [],l=[],m=0,n=g.length;m<n;m+=1){for(var p=g[m],q=p.Gk,r=[],u=[],t=[],v=0,w=p.length-1;v<w;v+=1){var s=this.dh(p[v]),y=this.dh(p[v+1]),z=this.us(s,q,0,0.3*d),x=this.us(y,q,0,0.3*d);(y.x-s.x)*(z.y-s.y)<(z.x-s.x)*(y.y-s.y)&&(r.unshift(s.x,s.y),r.push(z.x,z.y),r.unshift(y.x,y.y),r.push(x.x,x.y));p[v].Sx||h.push(r);r=[];u.push(z.x,z.y);p[v].Sx||t.push(z.x,z.y,x.x,x.y)}r.length&&h.push(r);u.length&&k.push(u);t.length&&l.push(t)}this.fb.lineWidth=1.4;m=g.face;n=g.border;if(g.Hb&&this.q.j.nc)for(y=this.q.j.Na.Sn(m, n,g.Hb,!0),m=y[0],n=y[1],p=m||n,y=0;y<g.length;y+=1)g[y].Zc=p;this.oV(l,n);this.Mr(h,n);this.Mr(k,m)}},oV:function(a,b){if(b){var c=this.fb;c.beginPath();for(var d=a.length-1;0<=d;d-=1){var e=a[d];if(!(4>e.length)){c.moveTo(e[0],e[1]);for(var g=0,h=e.length;g<h;g+=4)c.moveTo(e[g],e[g+1]),c.lineTo(e[g+2],e[g+3])}}c.closePath();c.strokeStyle=b;c.stroke()}},Mr:function(a,b){if(b){var c=this.fb;c.beginPath();for(var d=a.length-1;0<=d;d-=1){var e=a[d];if(!(2>e.length)){c.moveTo(e[0],e[1]);for(var g=2, h=e.length;g<h;g+=2)c.lineTo(e[g],e[g+1])}}c.closePath();c.fillStyle=b;c.fill()}},dh:function(a){return{x:(a[0]-this.la.ub.x)/this.M*(this.q.ca?this.q.Sa:1),y:(a[1]-this.la.ub.y)/this.M*(this.q.ca?this.q.Sa:1)}}});f.L.canvas.Hc=f.L.Kc.Ng.extend({ia:[f.vr],C:function(a,b){arguments.callee.Ba.apply(this,arguments);this.dk=120;this.mg=!0;this.Ad=null;this.T("mapStyle",a.j);this.T("style",a.j);a.j.P.lm&&this.Cr(a,b);this.mn=f.S.wr.im;a.j.h("zoomend",this.fh,this);a.j.h("moveend",this.fh,this)},reloadChanged:function(){this.q&&(this.q.Ja=!1);this.qa.clear();this.ob&&this.ob.parentNode&&this.ob.parentNode.removeChild(this.ob);this.set("display")},kg:function(){return this.Hd?[this.ob,this.Dr]:[this.ob]},se:function(){this.ob= document.createElement("div");this.ob.className="amap-layer";this.Dr=document.createElement("canvas");this.Dr.className="amap-layer";this.Dr.WO=!0;this.ZH=new f.L.canvas.qT(this.Dr,this.q);this.Qn=document.createDocumentFragment()},zo:function(a){var b=Math.pow(2,a.V.zoom-this.Md),c=this.q.ca?this.q.Sa:1,d=a.V.La.Oa(this.mm).Rb(this.Jg);this.transform=[{translate:this.transform[0].translate.add(d),scale:b,rotate:0},{translate:this.transform[1].translate.add(d),scale:b/c,rotate:0,Mg:this.q.get("zIndex")+ 1}];this.La=a.V.La},Nq:function(a,b){this.Zd||this.fh();var c=this.uC(a,b);this.Xh=a.Xh;this.Fm.apply(this,c);this.hd(a);if(a.ve||a.Zd){if(!this.hg)return;var c=Math.pow(2,a.V.zoom-this.hg.Oq),d=this.q.ca?this.q.Sa:1,e=a.V.La.Oa(this.hg.Lq).Rb(this.hg.Jg/(this.q.ca?this.q.Sa:1));this.transform[1]={translate:this.transform[1].translate.add(e),scale:c/d,rotate:0,Mg:this.q.get("zIndex")+1}}else this.DF(a,c[1],c[2]);this.Ze&&!this.q.Ja&&(c=this.q,f.Fd.$d.end({id:this.j.P.id,key:"rb",index:2}),c.Ja=!0, c.wd?c.da("renderComplete"):(c.wd=!0,c.da("complete")))},C1:function(a){if(this.Hd!==this.hg||a.Xh||!this.hg||this.hg.Oq!==this.zoom||this.hg.Lq!==this.La||this.hg.hu!==this.rotation||!this.hg.size.Ob(a.size))return!0},w5:function(a){for(var b={},c=0,d=a.length;c<d;c+=1){var e=a[c][9999],g;for(g in e)if(e.hasOwnProperty(g)){var h=g+e[g].Hb;b[h]||(b[h]=[],b[h].border=e[g].border,b[h].face=e[g].face,b[h].width=e[g].width,b[h].Qp=e[g].Qp,b[h].Hb=e[g].Hb,b[h].UH=e[g].UH);b[h].push.apply(b[h],e[g])}}return{data:b, Yq:a.Yq}},DF:function(a){var b=!1,c=this.th;if(0===this.th.length)this.Hd=null;else for(var d=c.length-1;0<=d;d-=1){var e=c[d];if(e.length&&(b=!1,!e.Ze||this.Hd&&this.gy(this.Hd.Yq,this.ge)||(b=!0,this.Hd=[],this.Hd.Yq=this.ge),b)){for(b=e.length-1;0<=b;b-=1){var g=e[b].Hd;g&&this.Hd.push(g)}this.Hd=this.w5(this.Hd)}}this.C1(a)&&(c=this.Dr,d=this.ZH,d.Zd=this.Zd,e=this.q.ca?this.q.Sa:1,0!==a.V.rotation?f.f.Qj(c,2*Math.floor(a.V.la.tb.x)*e,2*Math.floor(a.V.la.tb.y)*e,!0):f.f.Qj(c,a.size.width*e,a.size.height* e,!0),d.Gc=[a.V.la.ub.x,a.V.la.ub.y],!(g=this.Hd)||15>this.zoom||(this.ZH.DF(g,a),this.hg=this.Hd,this.hg.Oq=this.zoom,this.hg.Lq=this.La,this.hg.Jg=this.M,this.hg.hu=this.rotation,this.hg.size=a.size))},hd:function(a){var b=Math.pow(2,this.zoom-this.ac),c=this.La.Oa(this.ja);c.x<-f.g.Ra/2&&(c.x+=f.g.Ra);c.x>f.g.Ra/2&&(c.x-=f.g.Ra);c.Rb(this.Ld);a=new f.G(a.V.la.tb.x*(this.q.ca?this.q.Sa:1),a.V.la.tb.y*(this.q.ca?this.q.Sa:1));this.transform=[{translate:this.CC,scale:b,rotate:0},{translate:a,scale:1/ (this.q.ca?this.q.Sa:1),rotate:0,Mg:this.q.get("zIndex")+1}]},tD:function(a,b){if("region"===a)for(var c in b){if(b.hasOwnProperty(c)){var d=b[c],e;for(e in d)if(d.hasOwnProperty(e)){var g=d[e];!this.j.nc&&g.Hb&&(g.face=this.Db.eq(g.face,g.Hb,!0))}}}else if("road"===a)for(c in b){if(b.hasOwnProperty(c))for(e in d=b[c],d)d.hasOwnProperty(e)&&(g=d[e],!this.j.nc&&g.Hb&&(g.tC=this.Db.Qh(g.tC,g.Hb,!1,!0),g.KF=this.Db.Qh(g.KF,g.Hb,!0,!0)))}else if("building"===a)for(c in b)if(b.hasOwnProperty(c))for(e in d= b[c],d)if(d.hasOwnProperty(e)&&(g=d[e],!this.j.nc&&g.Hb)){var h=this.Db.Sn(g.face,g.border,g.Hb,!0);g.face=h[0];g.border=h[1]}}});f.L.canvas.Hc.jd=f.Y.extend({C:function(a){this.q=a;this.Ha={}},py:function(a,b,c,d,e){var g;c=[];for(var h in a)a.hasOwnProperty(h)&&(a[h].Sm=parseInt(h),c.push(a[h]));c.sort(function(a,b){return a.Sm>b.Sm?1:a.Sm<b.Sm?-1:0});for(h in c)if(c.hasOwnProperty(h)){a=c[h];for(var k in a)if(a.hasOwnProperty(k)){d=a[k];var l=d.face;g=d.border;d.Hb&&this.Db.j.nc&&(b?(g=this.Db.Sn(l,g,d.Hb,!0),l=g[0],g=g[1]):l=g=this.Db.eq(l,d.Hb,!0),d.Zc=l);this.IF(d,l,g,d.width,b,e)}}},IF:function(a,b,c,d,e){var g=this.na.getContext("2d"), h,k,l,m,n=[NaN,NaN,0],p=[NaN,NaN];g.save();c&&d&&(g.strokeStyle=c,g.lineWidth=d);b&&(g.fillStyle=b);this.hr={};g.beginPath();h=a.length;if(0<h)for(var q=0;q<h;q+=1)for(k=a[q],l=0,m=k.length;l<m;l+=1)if(n=k[l],0===l)p=n,g.moveTo(n[0],n[1]);else if(n[0]!==p[0]||n[1]!==p[1])g.lineTo(n[0],n[1]),p=n;b&&g.fill();if(e&&(g.beginPath(),h=a.length,0<h))for(q=0;q<h;q+=1)for(k=a[q],l=0,m=k.length;l<m;l+=1)if(n=k[l],0===l)p=n,g.moveTo(n[0],n[1]);else if(n[0]!==p[0]||n[1]!==p[1])p.Sx?(g.moveTo(n[0],n[1]),n.Sx&& g.lineTo(n[0],n[1])):g.lineTo(n[0],n[1]),p=n;c&&d&&g.stroke();g.restore();return!0},MQ:function(a){var b=[],c;for(c in a)a.hasOwnProperty(c)&&(a[c].Sm=parseInt(c),b.push(a[c]));b.sort(function(a,b){return a.Sm>b.Sm?1:-1});for(c in b)if(b.hasOwnProperty(c)){a=b[c];var d,e;for(d in a)if(a.hasOwnProperty(d)){e=a[d];var g=e.tC;e.Hb&&this.Db.j.nc&&(g=this.Db.Qh(g,e.Hb,!1,!0));(e.Zc=g)&&this.LQ(e,g,e.Mw,e.a1,e.b1)}for(d in a)a.hasOwnProperty(d)&&(e=a[d],g=e.KF,e.Hb&&this.Db.j.nc&&(g=this.Db.Qh(g,e.Hb,!0, !0)),(e.Zc=g)&&this.LQ(e,g,e.wy,e.M7,e.N7))}},LQ:function(a,b,c,d,e){var g=this.na.getContext("2d");g.save();if(!(0>=c)&&b)return g.lineWidth=c,g.strokeStyle=b,g.lineCap=d,g.lineJoin="bevel",g.setLineDash?(this.FM(g,a),e&&(g.setLineDash(e),g.lineDashOffset=e[0])):e&&1<e.length?this.l1(g,a,e):this.FM(g,a),g.stroke(),g.restore(),!0},FM:function(a,b){a.beginPath();var c,d,e,g,h,k,l;c=0;for(g=b.length;c<g;c+=1)for(k=b[c],d=0,h=k.length;d<h;d+=1)if(e=k[d],0===d)a.moveTo(e[0],e[1]),l=e;else if(e[0]!==l[0]|| e[1]!==l[1])a.lineTo(e[0],e[1]),l=e},l1:function(a,b,c){a.beginPath();var d,e,g,h,k,l,m;a.ex=c[0]+c[1];a.nu=!1;d=0;for(h=b.length;d<h;d+=1)for(l=b[d],e=0,k=l.length;e<k;e+=1)if(g=l[e],0===e)a.moveTo(g[0],g[1]),m=g;else if(g[0]!==m[0]||g[1]!==m[1])a.VC(m[0],m[1],g[0],g[1],c),m=g;a.closePath()}}); ',true),_jsload_('cmng', 'f.S.wr=f.Y.extend({C:function(){this.Sa=2;this.WG=f.l.Zg?16:12;this.O7={road:0,region:0,building:1,poilabel:1,roadlabel:1};this.ru=[new f.Qd,new f.Qd,new f.Qd,new f.Qd,new f.Qd,new f.Qd,new f.Qd];this.L9=[{type:"roadlabel",show:!0,jh:1},{type:"poilabel",show:!0,jh:1},null,{type:"region",show:!0,jh:0},{type:"road",show:!0,jh:0},{type:"building",show:!0,jh:0},null];this.yk=0},ax:function(a,b,c,d,e){if("first"!==b)if(c&&c.Ja&&c.qc)c.qc.Ja||(c.qc.lc=c.lc,c.qc.va=c.qc.Lw=c.qc.Ja=!0);else{c&&(c.Se=d);var g; switch(e){case "roadlabel":g=0;break;case "poilabel":g=1;break;case "labels":g=2;break;case "region":g=3;break;case "road":g=4;break;case "building":g=5;break;case "allbase":g=6}"groupcomplete"===b?this.ru[g].Uy(["groupcomplete",g,c,a]):"tileComplete"===b?this.ru[g].Uy(["co",7,c,a]):(this.ru[g].Uy(["co",g,c,a]),""!==b&&this.ru[g].Uy([b,g,c,a]));this.yk>g&&(this.yk=g);this.A8()}},dQ:function(){var a=new Date,b=!1;do if(b=this.parse(),new Date-a>=this.WG)break;while(!b);this.aQ=b?null:f.g.ec(this.dQ, this)},A8:function(){this.aQ||(this.aQ=f.g.ec(this.dQ,this))},hN:function(){return document.createElement("canvas")},parse:function(){var a,b=!1,c=this.yk,d=this.ru[this.yk];if(d.It())6===c&&(b=!0),this.yk=(this.yk+1)%7;else{a=d.K5();var e=a[3],g=e.ca?512:256;if("groupcomplete"===a[0])e.set("display",0);else{var h=a[2],k=h.Se,l,m=h.key+(18<k?"/"+k:"");if(e.qa.Mc(m))if("co"===a[0])if(3===a[1])this.wF(e,h,g),h.eb.region&&e.Va.py(h.eb.region,0,h.ka.z);else if(4===a[1])this.wF(e,h,g),h.eb.road&&e.Va.MQ(h.eb.road, h.ka.z);else if(5===a[1]&&h.eb&&h.eb.building)if(a=f.Pf&&f.Pf.VO(e.j.P),e.ke){if(h.Hd=h.eb.building,18<k)for(a=h.ka,l=Math.pow(2,k-18),g=0;g<l;g+=1)for(m=0;m<l;m+=1){var n=e.qa.get(k+"/"+(l*a.x+g)+"/"+(l*a.y+m));n&&(n.Hd=h.Hd)}}else this.wF(e,h,g),e.Va.py(h.eb.building,1,h.ka.z,void 0,a);else{if(7===a[1])if(18<k){a=h.ka;l=Math.pow(2,k-18);for(n=0;n<l;n+=1)for(var p=0;p<l;p+=1){var q=e.qa.get(k+"/"+(l*a.x+n)+"/"+(l*a.y+p));if(q&&(q.Ja=q.va=!0,h.lc)){q.lc=this.hN();q.lc.width=q.lc.height=g;q.lc.getContext("2d").drawImage(h.lc, -n*g,-p*g);e.kr&&0===(q.ka.x+q.ka.y)%2&&q.lc.getContext("2d").drawImage(e.kr,0,0);q.status="loaded";if(!f.l.W&&!e.j.nc){var r=document.createElement("img");r.src=q.lc.toDataURL();q.lc=r}q.Lw=!0}}e.qa.hl(m)}else h.lc&&(e.kr&&0===(h.ka.x+h.ka.y)%2&&h.lc.getContext("2d").drawImage(e.kr,0,0),h.Lw=!0,h.qc&&(h.qc.Lw=h.qc.va=!0),f.l.W||e.j.nc||(r=document.createElement("img"),r.src=h.lc.toDataURL(),h.lc=r)),h.Jx&&(h.Jx.Af=null,h.Jx=null),h.Ja=h.va=!0,h.qc&&(h.qc.Ja=h.qc.va=!0)}else f.OS.oF(h,a[0],this.L9[a[1]].type, e)}d.It()&&(6===c&&(b=!0),this.yk=(this.yk+1)%7)}return b},wF:function(a,b,c){a.Va||(a.Va=new f.L.canvas.Hc.jd(a),a.Va.Db=a.j.Na);var d=18<b.Se?Math.pow(2,18-b.Se):1;b.lc||(b.lc=this.hN(),b.lc.width=b.lc.height=c/d,b.Lw=!1);b.lc&&(a.Va.na=b.lc,a.Va.Ld=d)}});f.S.wr.im=new f.S.wr; ',true)})()